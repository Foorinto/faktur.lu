import{k,j as w,p as j,c as o,a as d,u as c,h as z,w as u,b as e,q as _,B as A,o as l,F as g,r as h,t as a,v as V,s as x,g as p,d as f,n as v,i as L}from"./app-B2KrZOCa.js";import{_ as H}from"./AppLayout-CMhKAyAT.js";import{d as N}from"./debounce-B2o5gTeF.js";import"./ApplicationLogo-CBvPJGvQ.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./DropdownLink-Dw9Qk6Ag.js";const F={class:"flex items-center justify-between"},S={class:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},q={class:"flex flex-1 gap-4"},D={class:"relative flex-1 max-w-md"},E=["value"],U={class:"overflow-hidden rounded-lg bg-white shadow dark:bg-gray-800"},$={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},O={class:"divide-y divide-gray-200 bg-white dark:divide-gray-700 dark:bg-gray-800"},P={key:0},I={colspan:"7",class:"py-10 text-center text-sm text-gray-500 dark:text-gray-400"},R={class:"whitespace-nowrap py-4 pl-4 pr-3 sm:pl-6"},G={class:"flex items-center"},J={class:"h-10 w-10 flex-shrink-0"},K={class:"flex h-10 w-10 items-center justify-center rounded-full bg-gray-100 dark:bg-gray-600"},Q={class:"text-sm font-medium text-gray-600 dark:text-gray-300"},W={class:"ml-4"},X={class:"text-sm text-gray-500 dark:text-gray-400 lg:hidden"},Y={class:"hidden whitespace-nowrap px-3 py-4 text-sm text-gray-500 dark:text-gray-400 lg:table-cell"},Z={class:"hidden whitespace-nowrap px-3 py-4 text-sm sm:table-cell"},ee={class:"hidden whitespace-nowrap px-3 py-4 text-sm text-gray-500 dark:text-gray-400 md:table-cell"},te={class:"hidden whitespace-nowrap px-3 py-4 text-sm text-gray-500 dark:text-gray-400 lg:table-cell"},se={class:"whitespace-nowrap px-3 py-4 text-sm text-gray-500 dark:text-gray-400"},re={class:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-6"},le={class:"flex items-center justify-end space-x-2"},ae=["onClick"],ie={key:0,class:"mt-6 flex items-center justify-between"},oe={class:"text-sm text-gray-700 dark:text-gray-400"},ne={class:"isolate inline-flex -space-x-px rounded-md shadow-sm"},de=["innerHTML"],pe={__name:"Index",props:{clients:{type:Object,required:!0},filters:{type:Object,default:()=>({})},clientTypes:{type:Array,required:!0}},setup(r){const b=r,m=k(b.filters.search||""),y=k(b.filters.type||""),C=N(()=>{w.get(route("clients.index"),{search:m.value||void 0,type:y.value||void 0},{preserveState:!0,replace:!0})},300);j([m,y],C);const M=i=>{confirm(`Êtes-vous sûr de vouloir supprimer ${i.name} ?`)&&w.delete(route("clients.destroy",i.id))},T=i=>i==="b2b"?"Entreprise":"Particulier",B=i=>i==="b2b"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300";return(i,s)=>(l(),o(g,null,[d(c(z),{title:"Clients"}),d(H,null,{header:u(()=>[e("div",F,[s[3]||(s[3]=e("h1",{class:"text-xl font-semibold text-gray-900 dark:text-white"}," Clients ",-1)),d(c(x),{href:i.route("clients.create"),class:"inline-flex items-center rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"},{default:u(()=>[...s[2]||(s[2]=[e("svg",{class:"-ml-0.5 mr-1.5 h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{d:"M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"})],-1),p(" Nouveau client ",-1)])]),_:1},8,["href"])])]),default:u(()=>[e("div",S,[e("div",q,[e("div",D,[s[4]||(s[4]=e("div",{class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},[e("svg",{class:"h-5 w-5 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z","clip-rule":"evenodd"})])],-1)),_(e("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>m.value=t),type:"text",placeholder:"Rechercher un client...",class:"block w-full rounded-md border-0 py-1.5 pl-10 pr-3 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 dark:bg-gray-800 dark:text-white dark:ring-gray-600 dark:placeholder:text-gray-500 sm:text-sm sm:leading-6"},null,512),[[A,m.value]])]),_(e("select",{"onUpdate:modelValue":s[1]||(s[1]=t=>y.value=t),class:"rounded-md border-0 py-1.5 pl-3 pr-10 text-gray-900 ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-indigo-600 dark:bg-gray-800 dark:text-white dark:ring-gray-600 sm:text-sm sm:leading-6"},[s[5]||(s[5]=e("option",{value:""},"Tous les types",-1)),(l(!0),o(g,null,h(r.clientTypes,t=>(l(),o("option",{key:t.value,value:t.value},a(t.label),9,E))),128))],512),[[V,y.value]])])]),e("div",U,[e("table",$,[s[10]||(s[10]=e("thead",{class:"bg-gray-50 dark:bg-gray-700"},[e("tr",null,[e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 dark:text-white sm:pl-6"}," Client "),e("th",{scope:"col",class:"hidden px-3 py-3.5 text-left text-sm font-semibold text-gray-900 dark:text-white lg:table-cell"}," Email "),e("th",{scope:"col",class:"hidden px-3 py-3.5 text-left text-sm font-semibold text-gray-900 dark:text-white sm:table-cell"}," Type "),e("th",{scope:"col",class:"hidden px-3 py-3.5 text-left text-sm font-semibold text-gray-900 dark:text-white md:table-cell"}," Pays "),e("th",{scope:"col",class:"hidden px-3 py-3.5 text-left text-sm font-semibold text-gray-900 dark:text-white lg:table-cell"}," TVA "),e("th",{scope:"col",class:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900 dark:text-white"}," Devise "),e("th",{scope:"col",class:"relative py-3.5 pl-3 pr-4 sm:pr-6"},[e("span",{class:"sr-only"},"Actions")])])],-1)),e("tbody",O,[r.clients.data.length===0?(l(),o("tr",P,[e("td",I,[s[7]||(s[7]=e("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})],-1)),s[8]||(s[8]=e("p",{class:"mt-2"},"Aucun client trouvé.",-1)),d(c(x),{href:i.route("clients.create"),class:"mt-4 inline-flex items-center text-indigo-600 hover:text-indigo-500 dark:text-indigo-400"},{default:u(()=>[...s[6]||(s[6]=[e("svg",{class:"mr-1 h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{d:"M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"})],-1),p(" Créer votre premier client ",-1)])]),_:1},8,["href"])])])):f("",!0),(l(!0),o(g,null,h(r.clients.data,t=>(l(),o("tr",{key:t.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[e("td",R,[e("div",G,[e("div",J,[e("div",K,[e("span",Q,a(t.name.charAt(0).toUpperCase()),1)])]),e("div",W,[d(c(x),{href:i.route("clients.show",t.id),class:"font-medium text-gray-900 hover:text-indigo-600 dark:text-white dark:hover:text-indigo-400"},{default:u(()=>[p(a(t.name),1)]),_:2},1032,["href"]),e("div",X,a(t.email),1)])])]),e("td",Y,a(t.email),1),e("td",Z,[e("span",{class:v([B(t.type),"inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium"])},a(T(t.type)),3)]),e("td",ee,a(t.country_code),1),e("td",te,a(t.vat_number||"-"),1),e("td",se,a(t.currency),1),e("td",re,[e("div",le,[d(c(x),{href:i.route("clients.edit",t.id),class:"text-indigo-600 hover:text-indigo-900 dark:text-indigo-400 dark:hover:text-indigo-300"},{default:u(()=>[...s[9]||(s[9]=[p(" Modifier ",-1)])]),_:1},8,["href"]),t.invoices_count===0?(l(),o("button",{key:0,onClick:n=>M(t),class:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300"}," Supprimer ",8,ae)):f("",!0)])])]))),128))])])]),r.clients.links&&r.clients.links.length>3?(l(),o("div",ie,[e("div",oe," Affichage de "+a(r.clients.from)+" à "+a(r.clients.to)+" sur "+a(r.clients.total)+" clients ",1),e("nav",ne,[(l(!0),o(g,null,h(r.clients.links,(t,n)=>(l(),o(g,{key:n},[t.url?(l(),L(c(x),{key:0,href:t.url,class:v([t.active?"z-10 bg-indigo-600 text-white focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600":"text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 dark:text-gray-300 dark:ring-gray-600 dark:hover:bg-gray-700","relative inline-flex items-center px-4 py-2 text-sm font-semibold focus:z-20",n===0?"rounded-l-md":"",n===r.clients.links.length-1?"rounded-r-md":""]),innerHTML:t.label,"preserve-scroll":""},null,8,["href","class","innerHTML"])):(l(),o("span",{key:1,class:v(["relative inline-flex items-center px-4 py-2 text-sm font-semibold text-gray-400 dark:text-gray-500",n===0?"rounded-l-md":"",n===r.clients.links.length-1?"rounded-r-md":""]),innerHTML:t.label},null,10,de))],64))),128))])])):f("",!0)]),_:1})],64))}};export{pe as default};
