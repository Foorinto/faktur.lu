import{k as Ze,c as a,a as l,u,h as et,w as c,o,F as f,r as k,n as g,b as e,t as r,d as y,g as h,y as _,s as m,q as tt,v as st,A as rt,j as dt}from"./app-BNdkYu5R.js";import{_ as it}from"./AppLayout-CQ5EpIy-.js";import"./ApplicationLogo-Btd2wIUd.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./DropdownLink-7-ZIUky-.js";const at={class:"flex items-center justify-between"},ot={class:"flex items-center space-x-2"},nt=["value"],lt={key:0,class:"mb-6 space-y-3"},ct={class:"flex"},gt={class:"flex-shrink-0"},ut={class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},xt=["d"],mt={class:"ml-3"},ht={class:"text-sm font-medium"},ft={class:"mt-1 text-sm opacity-90"},yt={class:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4"},kt={class:"overflow-hidden rounded-lg bg-white shadow dark:bg-gray-800"},vt={class:"p-5"},bt={class:"flex items-center"},_t={class:"ml-5 w-0 flex-1"},pt={class:"flex items-baseline"},wt={class:"text-2xl font-semibold text-gray-900 dark:text-white"},jt={class:"overflow-hidden rounded-lg bg-white shadow dark:bg-gray-800"},Ct={class:"p-5"},At={class:"flex items-center"},Mt={class:"ml-5 w-0 flex-1"},Bt={class:"flex items-baseline"},Vt={class:"overflow-hidden rounded-lg bg-white shadow dark:bg-gray-800"},zt={class:"p-5"},St={class:"flex items-center"},Tt={class:"flex-shrink-0"},Ft={class:"ml-5 w-0 flex-1"},Nt={class:"text-2xl font-semibold text-gray-900 dark:text-white"},$t={class:"text-sm text-gray-500 dark:text-gray-400"},It={key:0,class:"text-red-600 dark:text-red-400"},Lt={class:"overflow-hidden rounded-lg bg-white shadow dark:bg-gray-800"},Dt={class:"p-5"},Ht={class:"flex items-center"},Yt={class:"ml-5 w-0 flex-1"},Rt={class:"text-2xl font-semibold text-gray-900 dark:text-white"},Et={class:"text-sm text-gray-500 dark:text-gray-400"},Pt={class:"mt-6 grid grid-cols-1 gap-6 lg:grid-cols-2"},Ut={class:"overflow-hidden rounded-lg bg-white shadow dark:bg-gray-800"},qt={class:"p-6"},Ot={class:"mt-1 text-sm text-gray-500 dark:text-gray-400"},Gt={class:"mt-4"},Jt={class:"flex items-center justify-between text-sm"},Kt={class:"text-gray-600 dark:text-gray-400"},Qt={class:"font-medium text-gray-900 dark:text-white"},Wt={class:"mt-2 h-3 w-full rounded-full bg-gray-200 dark:bg-gray-700"},Xt={key:0,class:"mt-2 text-sm text-gray-500 dark:text-gray-400"},Zt={key:1,class:"mt-2 text-sm font-medium text-red-600 dark:text-red-400"},es={class:"overflow-hidden rounded-lg bg-white shadow dark:bg-gray-800"},ts={class:"p-6"},ss={class:"mt-1 text-sm text-gray-500 dark:text-gray-400"},rs={class:"mt-4"},ds={class:"flex items-center justify-between text-sm"},is={class:"text-gray-600 dark:text-gray-400"},as={class:"font-medium text-gray-900 dark:text-white"},os={class:"mt-2 h-3 w-full rounded-full bg-gray-200 dark:bg-gray-700"},ns={key:0,class:"mt-2 text-sm text-gray-500 dark:text-gray-400"},ls={key:1,class:"mt-2 text-sm font-medium text-red-600 dark:text-red-400"},cs={class:"mt-6 grid grid-cols-1 gap-6 lg:grid-cols-3"},gs={class:"lg:col-span-2 overflow-hidden rounded-lg bg-white shadow dark:bg-gray-800"},us={class:"p-6"},xs={class:"mt-4"},ms={class:"flex h-48 items-end justify-between space-x-2"},hs=["title"],fs={class:"mt-2 text-xs text-gray-500 dark:text-gray-400"},ys={class:"overflow-hidden rounded-lg bg-white shadow dark:bg-gray-800"},ks={class:"p-6"},vs={class:"text-base font-medium text-gray-900 dark:text-white"},bs={class:"mt-4 space-y-4"},_s={class:"flex justify-between"},ps={class:"text-sm font-medium text-gray-900 dark:text-white"},ws={class:"flex justify-between"},js={class:"text-sm font-medium text-gray-900 dark:text-white"},Cs={class:"border-t border-gray-200 dark:border-gray-700 pt-4 flex justify-between"},As={key:0,class:"text-sm text-gray-500 dark:text-gray-400"},Ms={class:"font-medium text-red-600 dark:text-red-400"},Bs={key:1,class:"text-sm text-gray-500 dark:text-gray-400"},Vs={class:"font-medium text-green-600 dark:text-green-400"},zs={class:"mt-6 grid grid-cols-1 gap-6 lg:grid-cols-2"},Ss={class:"overflow-hidden rounded-lg bg-white shadow dark:bg-gray-800"},Ts={class:"p-6"},Fs={class:"flex items-center justify-between"},Ns={class:"mt-4"},$s={key:0,class:"text-center py-4 text-sm text-gray-500 dark:text-gray-400"},Is={key:1,class:"divide-y divide-gray-200 dark:divide-gray-700"},Ls={class:"flex items-center justify-between"},Ds={class:"text-sm text-gray-500 dark:text-gray-400"},Hs={class:"text-right"},Ys={class:"text-sm font-medium text-gray-900 dark:text-white"},Rs={key:0},Es={key:1},Ps={class:"overflow-hidden rounded-lg bg-white shadow dark:bg-gray-800"},Us={class:"p-6"},qs={class:"flex items-center justify-between"},Os={class:"mt-4"},Gs={key:0,class:"text-center py-4 text-sm text-gray-500 dark:text-gray-400"},Js={key:1,class:"divide-y divide-gray-200 dark:divide-gray-700"},Ks={class:"flex items-center justify-between"},Qs={class:"text-sm font-medium text-gray-900 dark:text-white"},Ws={class:"text-sm text-gray-500 dark:text-gray-400"},Xs={class:"text-right"},Zs={class:"text-sm font-medium text-gray-900 dark:text-white"},er={class:"text-xs text-gray-500 dark:text-gray-400"},tr={class:"mt-6 overflow-hidden rounded-lg bg-white shadow dark:bg-gray-800"},sr={class:"p-6"},rr={class:"flex items-center justify-between"},dr={class:"mt-4"},ir={key:0,class:"text-center py-4 text-sm text-gray-500 dark:text-gray-400"},ar={key:1,class:"overflow-x-auto"},or={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},nr={class:"divide-y divide-gray-200 dark:divide-gray-700"},lr={class:"whitespace-nowrap px-3 py-3"},cr={key:0,class:"ml-1 text-xs text-gray-500"},gr={class:"whitespace-nowrap px-3 py-3 text-sm text-gray-900 dark:text-white"},ur={class:"whitespace-nowrap px-3 py-3 text-sm text-gray-500 dark:text-gray-400"},xr={class:"whitespace-nowrap px-3 py-3"},mr={class:"whitespace-nowrap px-3 py-3 text-right text-sm font-medium text-gray-900 dark:text-white"},hr={class:"mt-6"},fr={class:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4"},pr={__name:"Dashboard",props:{kpis:Object,revenueChart:Array,unpaidInvoices:Array,unbilledTimeByClient:Array,recentInvoices:Array,availableYears:Array,selectedYear:Number},setup(s){const b=s,v=Ze(b.selectedYear),n=i=>new Intl.NumberFormat("fr-LU",{style:"currency",currency:"EUR"}).format(i||0),p=i=>i==null?"-":`${i>0?"+":""}${i.toFixed(1)}%`,Oe=i=>{v.value=i,dt.get(route("dashboard"),{year:i},{preserveState:!0})},Ge=rt(()=>b.revenueChart?Math.max(...b.revenueChart.map(i=>i.revenue),1):0),w=i=>i>=100?"bg-red-600":i>=80?"bg-yellow-500":"bg-indigo-600",Je=i=>i==="critical"?"bg-red-50 border-red-200 text-red-800 dark:bg-red-900/20 dark:border-red-800 dark:text-red-200":i==="warning"?"bg-yellow-50 border-yellow-200 text-yellow-800 dark:bg-yellow-900/20 dark:border-yellow-800 dark:text-yellow-200":"bg-blue-50 border-blue-200 text-blue-800 dark:bg-blue-900/20 dark:border-blue-800 dark:text-blue-200",Ke=i=>i==="critical"||i==="warning"?"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z":"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z",Qe=i=>{const t={draft:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",finalized:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",sent:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",paid:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"};return t[i]||t.draft},We=i=>({draft:"Brouillon",finalized:"Finalisée",sent:"Envoyée",paid:"Payée"})[i]||i;return(i,t)=>(o(),a(f,null,[l(u(et),{title:"Dashboard"}),l(it,null,{header:c(()=>[e("div",at,[t[3]||(t[3]=e("h1",{class:"text-xl font-semibold text-gray-900 dark:text-white"}," Dashboard ",-1)),e("div",ot,[t[2]||(t[2]=e("label",{for:"year",class:"text-sm font-medium text-gray-700 dark:text-gray-300"},"Année :",-1)),tt(e("select",{id:"year","onUpdate:modelValue":t[0]||(t[0]=x=>v.value=x),onChange:t[1]||(t[1]=x=>Oe(v.value)),class:"rounded-md border-gray-300 py-1.5 pl-3 pr-8 text-sm focus:border-indigo-500 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white"},[(o(!0),a(f,null,k(s.availableYears,x=>(o(),a("option",{key:x,value:x},r(x),9,nt))),128))],544),[[st,v.value]])])])]),default:c(()=>{var x,j,C,A,M,B,V,z,S,T,F,N,$,I,L,D,H,Y,R,E,P,U,q,O,G,J,K,Q,W,X,Z,ee,te,se,re,de,ie,ae,oe,ne,le,ce,ge,ue,xe,me,he,fe,ye,ke,ve,be,_e,pe,we,je,Ce,Ae,Me,Be,Ve,ze,Se,Te,Fe,Ne,$e,Ie,Le,De,He,Ye,Re,Ee,Pe,Ue,qe;return[((j=(x=s.kpis)==null?void 0:x.alerts)==null?void 0:j.length)>0?(o(),a("div",lt,[(o(!0),a(f,null,k(s.kpis.alerts,(d,Xe)=>(o(),a("div",{key:Xe,class:g(["rounded-lg border p-4",Je(d.level)])},[e("div",ct,[e("div",gt,[(o(),a("svg",ut,[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:Ke(d.level)},null,8,xt)]))]),e("div",mt,[e("h3",ht,r(d.title),1),e("p",ft,r(d.message),1)])])],2))),128))])):y("",!0),e("div",yt,[e("div",kt,[e("div",vt,[e("div",bt,[t[5]||(t[5]=e("div",{class:"flex-shrink-0"},[e("div",{class:"flex h-12 w-12 items-center justify-center rounded-lg bg-indigo-100 dark:bg-indigo-900"},[e("svg",{class:"h-6 w-6 text-indigo-600 dark:text-indigo-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])])],-1)),e("div",_t,[e("dl",null,[t[4]||(t[4]=e("dt",{class:"truncate text-sm font-medium text-gray-500 dark:text-gray-400"}," CA Annuel (HT) ",-1)),e("dd",pt,[e("span",wt,r(n((C=s.kpis)==null?void 0:C.annual_revenue)),1),((A=s.kpis)==null?void 0:A.annual_revenue_change)!==null?(o(),a("span",{key:0,class:g(["ml-2 text-sm font-medium",((M=s.kpis)==null?void 0:M.annual_revenue_change)>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"])},r(p((B=s.kpis)==null?void 0:B.annual_revenue_change)),3)):y("",!0)])])])])])]),e("div",jt,[e("div",Ct,[e("div",At,[t[7]||(t[7]=e("div",{class:"flex-shrink-0"},[e("div",{class:"flex h-12 w-12 items-center justify-center rounded-lg bg-green-100 dark:bg-green-900"},[e("svg",{class:"h-6 w-6 text-green-600 dark:text-green-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])])],-1)),e("div",Mt,[e("dl",null,[t[6]||(t[6]=e("dt",{class:"truncate text-sm font-medium text-gray-500 dark:text-gray-400"}," Bénéfice Net ",-1)),e("dd",Bt,[e("span",{class:g(["text-2xl font-semibold",((V=s.kpis)==null?void 0:V.net_profit)>=0?"text-gray-900 dark:text-white":"text-red-600 dark:text-red-400"])},r(n((z=s.kpis)==null?void 0:z.net_profit)),3),((S=s.kpis)==null?void 0:S.net_profit_change)!==null?(o(),a("span",{key:0,class:g(["ml-2 text-sm font-medium",((T=s.kpis)==null?void 0:T.net_profit_change)>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"])},r(p((F=s.kpis)==null?void 0:F.net_profit_change)),3)):y("",!0)])])])])])]),e("div",Vt,[e("div",zt,[e("div",St,[e("div",Tt,[e("div",{class:g(["flex h-12 w-12 items-center justify-center rounded-lg",(($=(N=s.kpis)==null?void 0:N.unpaid_invoices)==null?void 0:$.overdue_count)>0?"bg-red-100 dark:bg-red-900":"bg-yellow-100 dark:bg-yellow-900"])},[(o(),a("svg",{class:g(["h-6 w-6",((L=(I=s.kpis)==null?void 0:I.unpaid_invoices)==null?void 0:L.overdue_count)>0?"text-red-600 dark:text-red-300":"text-yellow-600 dark:text-yellow-300"]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[...t[8]||(t[8]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"},null,-1)])],2))],2)]),e("div",Ft,[e("dl",null,[t[9]||(t[9]=e("dt",{class:"truncate text-sm font-medium text-gray-500 dark:text-gray-400"}," Factures impayées ",-1)),e("dd",null,[e("span",Nt,r(n((H=(D=s.kpis)==null?void 0:D.unpaid_invoices)==null?void 0:H.total_amount)),1),e("p",$t,[h(r(((R=(Y=s.kpis)==null?void 0:Y.unpaid_invoices)==null?void 0:R.count)||0)+" facture(s) ",1),((P=(E=s.kpis)==null?void 0:E.unpaid_invoices)==null?void 0:P.overdue_count)>0?(o(),a("span",It," ("+r((q=(U=s.kpis)==null?void 0:U.unpaid_invoices)==null?void 0:q.overdue_count)+" en retard) ",1)):y("",!0)])])])])])])]),e("div",Lt,[e("div",Dt,[e("div",Ht,[t[11]||(t[11]=e("div",{class:"flex-shrink-0"},[e("div",{class:"flex h-12 w-12 items-center justify-center rounded-lg bg-purple-100 dark:bg-purple-900"},[e("svg",{class:"h-6 w-6 text-purple-600 dark:text-purple-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])])],-1)),e("div",Yt,[e("dl",null,[t[10]||(t[10]=e("dt",{class:"truncate text-sm font-medium text-gray-500 dark:text-gray-400"}," Temps non facturé ",-1)),e("dd",null,[e("span",Rt,r(((G=(O=s.kpis)==null?void 0:O.unbilled_time)==null?void 0:G.formatted)||"0:00"),1),e("p",Et,r(((Q=(K=(J=s.kpis)==null?void 0:J.unbilled_time)==null?void 0:K.hours)==null?void 0:Q.toFixed(1))||0)+" heures ",1)])])])])])])]),e("div",Pt,[e("div",Ut,[e("div",qt,[t[12]||(t[12]=e("h3",{class:"text-base font-medium text-gray-900 dark:text-white"}," Seuil de franchise TVA ",-1)),e("p",Ot," Article 57 - Seuil de "+r(n((W=s.kpis)==null?void 0:W.vat_franchise_threshold)),1),e("div",Gt,[e("div",Jt,[e("span",Kt,r(n((Z=(X=s.kpis)==null?void 0:X.vat_franchise_progress)==null?void 0:Z.current))+" / "+r(n((ee=s.kpis)==null?void 0:ee.vat_franchise_threshold)),1),e("span",Qt,r(((re=(se=(te=s.kpis)==null?void 0:te.vat_franchise_progress)==null?void 0:se.percentage)==null?void 0:re.toFixed(1))||0)+"% ",1)]),e("div",Wt,[e("div",{class:g(["h-3 rounded-full transition-all",w((ie=(de=s.kpis)==null?void 0:de.vat_franchise_progress)==null?void 0:ie.percentage)]),style:_({width:`${Math.min(100,((oe=(ae=s.kpis)==null?void 0:ae.vat_franchise_progress)==null?void 0:oe.percentage)||0)}%`})},null,6)]),((le=(ne=s.kpis)==null?void 0:ne.vat_franchise_progress)==null?void 0:le.remaining)>0?(o(),a("p",Xt," Reste "+r(n((ge=(ce=s.kpis)==null?void 0:ce.vat_franchise_progress)==null?void 0:ge.remaining))+" avant le seuil ",1)):(o(),a("p",Zt," Seuil dépassé - Assujettissement TVA obligatoire "))])])]),e("div",es,[e("div",ts,[t[13]||(t[13]=e("h3",{class:"text-base font-medium text-gray-900 dark:text-white"}," Seuil de comptabilité simplifiée ",-1)),e("p",ss," Seuil de "+r(n((ue=s.kpis)==null?void 0:ue.simplified_accounting_threshold)),1),e("div",rs,[e("div",ds,[e("span",is,r(n((me=(xe=s.kpis)==null?void 0:xe.simplified_accounting_progress)==null?void 0:me.current))+" / "+r(n((he=s.kpis)==null?void 0:he.simplified_accounting_threshold)),1),e("span",as,r(((ke=(ye=(fe=s.kpis)==null?void 0:fe.simplified_accounting_progress)==null?void 0:ye.percentage)==null?void 0:ke.toFixed(1))||0)+"% ",1)]),e("div",os,[e("div",{class:g(["h-3 rounded-full transition-all",w((be=(ve=s.kpis)==null?void 0:ve.simplified_accounting_progress)==null?void 0:be.percentage)]),style:_({width:`${Math.min(100,((pe=(_e=s.kpis)==null?void 0:_e.simplified_accounting_progress)==null?void 0:pe.percentage)||0)}%`})},null,6)]),((je=(we=s.kpis)==null?void 0:we.simplified_accounting_progress)==null?void 0:je.remaining)>0?(o(),a("p",ns," Reste "+r(n((Ae=(Ce=s.kpis)==null?void 0:Ce.simplified_accounting_progress)==null?void 0:Ae.remaining))+" avant le seuil ",1)):(o(),a("p",ls," Seuil dépassé - Comptabilité complète obligatoire "))])])])]),e("div",cs,[e("div",gs,[e("div",us,[t[14]||(t[14]=e("h3",{class:"text-base font-medium text-gray-900 dark:text-white"}," Chiffre d'affaires mensuel ",-1)),e("div",xs,[e("div",ms,[(o(!0),a(f,null,k(s.revenueChart,d=>(o(),a("div",{key:d.month,class:"flex flex-1 flex-col items-center"},[e("div",{class:"w-full rounded-t bg-indigo-500 hover:bg-indigo-600 transition-colors",style:_({height:`${d.revenue/Ge.value*100}%`,minHeight:d.revenue>0?"4px":"0"}),title:`${d.label}: ${n(d.revenue)}`},null,12,hs),e("span",fs,r(d.label),1)]))),128))])])])]),e("div",ys,[e("div",ks,[e("h3",vs," Résumé TVA "+r(v.value),1),e("dl",bs,[e("div",_s,[t[15]||(t[15]=e("dt",{class:"text-sm text-gray-500 dark:text-gray-400"},"TVA collectée",-1)),e("dd",ps,r(n((Be=(Me=s.kpis)==null?void 0:Me.vat_summary)==null?void 0:Be.collected)),1)]),e("div",ws,[t[16]||(t[16]=e("dt",{class:"text-sm text-gray-500 dark:text-gray-400"},"TVA déductible",-1)),e("dd",js,r(n((ze=(Ve=s.kpis)==null?void 0:Ve.vat_summary)==null?void 0:ze.deductible)),1)]),e("div",Cs,[t[17]||(t[17]=e("dt",{class:"text-sm font-medium text-gray-900 dark:text-white"},"Solde",-1)),e("dd",{class:g(["text-sm font-semibold",((Te=(Se=s.kpis)==null?void 0:Se.vat_summary)==null?void 0:Te.balance)>=0?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"])},r(n((Ne=(Fe=s.kpis)==null?void 0:Fe.vat_summary)==null?void 0:Ne.balance)),3)]),((Ie=($e=s.kpis)==null?void 0:$e.vat_summary)==null?void 0:Ie.to_pay)>0?(o(),a("div",As,[t[18]||(t[18]=h(" TVA à reverser : ",-1)),e("span",Ms,r(n((De=(Le=s.kpis)==null?void 0:Le.vat_summary)==null?void 0:De.to_pay)),1)])):((Ye=(He=s.kpis)==null?void 0:He.vat_summary)==null?void 0:Ye.credit)>0?(o(),a("div",Bs,[t[19]||(t[19]=h(" Crédit de TVA : ",-1)),e("span",Vs,r(n((Ee=(Re=s.kpis)==null?void 0:Re.vat_summary)==null?void 0:Ee.credit)),1)])):y("",!0)])])])]),e("div",zs,[e("div",Ss,[e("div",Ts,[e("div",Fs,[t[21]||(t[21]=e("h3",{class:"text-base font-medium text-gray-900 dark:text-white"}," Factures impayées ",-1)),l(u(m),{href:i.route("invoices.index"),class:"text-sm font-medium text-indigo-600 hover:text-indigo-500 dark:text-indigo-400"},{default:c(()=>[...t[20]||(t[20]=[h(" Voir tout ",-1)])]),_:1},8,["href"])]),e("div",Ns,[((Pe=s.unpaidInvoices)==null?void 0:Pe.length)===0?(o(),a("div",$s," Aucune facture impayée ")):(o(),a("ul",Is,[(o(!0),a(f,null,k(s.unpaidInvoices,d=>(o(),a("li",{key:d.id,class:"py-3"},[e("div",Ls,[e("div",null,[l(u(m),{href:i.route("invoices.show",d.id),class:"text-sm font-medium text-indigo-600 hover:text-indigo-500 dark:text-indigo-400"},{default:c(()=>[h(r(d.number),1)]),_:2},1032,["href"]),e("p",Ds,r(d.client_name),1)]),e("div",Hs,[e("p",Ys,r(n(d.total_ttc)),1),e("p",{class:g(["text-xs",d.is_overdue?"text-red-600 dark:text-red-400 font-medium":"text-gray-500 dark:text-gray-400"])},[d.is_overdue?(o(),a("span",Rs," En retard ("+r(d.days_overdue)+" j) ",1)):d.due_at?(o(),a("span",Es," Échéance : "+r(d.due_at),1)):y("",!0)],2)])])]))),128))]))])])]),e("div",Ps,[e("div",Us,[e("div",qs,[t[23]||(t[23]=e("h3",{class:"text-base font-medium text-gray-900 dark:text-white"}," Temps non facturé par client ",-1)),l(u(m),{href:i.route("time-entries.summary"),class:"text-sm font-medium text-indigo-600 hover:text-indigo-500 dark:text-indigo-400"},{default:c(()=>[...t[22]||(t[22]=[h(" Voir tout ",-1)])]),_:1},8,["href"])]),e("div",Os,[((Ue=s.unbilledTimeByClient)==null?void 0:Ue.length)===0?(o(),a("div",Gs," Aucun temps non facturé ")):(o(),a("ul",Js,[(o(!0),a(f,null,k(s.unbilledTimeByClient,d=>(o(),a("li",{key:d.client_id,class:"py-3"},[e("div",Ks,[e("div",null,[e("p",Qs,r(d.client_name),1),e("p",Ws,r(d.formatted)+" ("+r(d.hours)+"h)",1)]),e("div",Xs,[e("p",Zs," ~"+r(n(d.estimated_amount)),1),e("p",er,r(n(d.hourly_rate))+"/h ",1)])])]))),128))]))])])])]),e("div",tr,[e("div",sr,[e("div",rr,[t[25]||(t[25]=e("h3",{class:"text-base font-medium text-gray-900 dark:text-white"}," Factures récentes ",-1)),l(u(m),{href:i.route("invoices.index"),class:"text-sm font-medium text-indigo-600 hover:text-indigo-500 dark:text-indigo-400"},{default:c(()=>[...t[24]||(t[24]=[h(" Voir tout ",-1)])]),_:1},8,["href"])]),e("div",dr,[((qe=s.recentInvoices)==null?void 0:qe.length)===0?(o(),a("div",ir," Aucune facture ")):(o(),a("div",ar,[e("table",or,[t[26]||(t[26]=e("thead",null,[e("tr",null,[e("th",{class:"px-3 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500 dark:text-gray-400"},"Numéro"),e("th",{class:"px-3 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500 dark:text-gray-400"},"Client"),e("th",{class:"px-3 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500 dark:text-gray-400"},"Date"),e("th",{class:"px-3 py-3 text-left text-xs font-medium uppercase tracking-wider text-gray-500 dark:text-gray-400"},"Statut"),e("th",{class:"px-3 py-3 text-right text-xs font-medium uppercase tracking-wider text-gray-500 dark:text-gray-400"},"Montant")])],-1)),e("tbody",nr,[(o(!0),a(f,null,k(s.recentInvoices,d=>(o(),a("tr",{key:d.id},[e("td",lr,[l(u(m),{href:i.route("invoices.show",d.id),class:"text-sm font-medium text-indigo-600 hover:text-indigo-500 dark:text-indigo-400"},{default:c(()=>[h(r(d.number)+" ",1),d.is_credit_note?(o(),a("span",cr,"(Avoir)")):y("",!0)]),_:2},1032,["href"])]),e("td",gr,r(d.client_name),1),e("td",ur,r(d.issued_at),1),e("td",xr,[e("span",{class:g(["inline-flex rounded-full px-2 text-xs font-semibold leading-5",Qe(d.status)])},r(We(d.status)),3)]),e("td",mr,r(n(d.total_ttc)),1)]))),128))])])]))])])]),e("div",hr,[t[31]||(t[31]=e("h3",{class:"text-base font-medium text-gray-900 dark:text-white mb-4"}," Actions rapides ",-1)),e("div",fr,[l(u(m),{href:i.route("invoices.create"),class:"flex items-center justify-center rounded-lg border-2 border-dashed border-gray-300 p-6 text-center hover:border-indigo-500 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 dark:border-gray-600 dark:hover:border-indigo-400 dark:hover:bg-gray-700/50"},{default:c(()=>[...t[27]||(t[27]=[e("div",null,[e("svg",{class:"mx-auto h-8 w-8 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})]),e("span",{class:"mt-2 block text-sm font-medium text-gray-900 dark:text-gray-300"}," Nouvelle facture ")],-1)])]),_:1},8,["href"]),l(u(m),{href:i.route("clients.create"),class:"flex items-center justify-center rounded-lg border-2 border-dashed border-gray-300 p-6 text-center hover:border-indigo-500 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 dark:border-gray-600 dark:hover:border-indigo-400 dark:hover:bg-gray-700/50"},{default:c(()=>[...t[28]||(t[28]=[e("div",null,[e("svg",{class:"mx-auto h-8 w-8 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})]),e("span",{class:"mt-2 block text-sm font-medium text-gray-900 dark:text-gray-300"}," Nouveau client ")],-1)])]),_:1},8,["href"]),l(u(m),{href:i.route("time-entries.index"),class:"flex items-center justify-center rounded-lg border-2 border-dashed border-gray-300 p-6 text-center hover:border-indigo-500 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 dark:border-gray-600 dark:hover:border-indigo-400 dark:hover:bg-gray-700/50"},{default:c(()=>[...t[29]||(t[29]=[e("div",null,[e("svg",{class:"mx-auto h-8 w-8 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})]),e("span",{class:"mt-2 block text-sm font-medium text-gray-900 dark:text-gray-300"}," Suivi du temps ")],-1)])]),_:1},8,["href"]),l(u(m),{href:i.route("expenses.create"),class:"flex items-center justify-center rounded-lg border-2 border-dashed border-gray-300 p-6 text-center hover:border-indigo-500 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 dark:border-gray-600 dark:hover:border-indigo-400 dark:hover:bg-gray-700/50"},{default:c(()=>[...t[30]||(t[30]=[e("div",null,[e("svg",{class:"mx-auto h-8 w-8 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})]),e("span",{class:"mt-2 block text-sm font-medium text-gray-900 dark:text-gray-300"}," Nouvelle dépense ")],-1)])]),_:1},8,["href"])])])]}),_:1})],64))}};export{pr as default};
