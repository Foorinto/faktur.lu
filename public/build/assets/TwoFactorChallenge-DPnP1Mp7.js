import{e as v,i as g,w as u,a as o,u as t,h as x,b as i,o as r,c as s,F as n,g as l,f as k,n as h,k as V}from"./app-BNdkYu5R.js";import{_ as X}from"./GuestLayout-C8pIkRmb.js";import{_ as m,a as f}from"./InputError-j9SVREoo.js";import{P as b}from"./PrimaryButton-CRxPFKvX.js";import{_ as p}from"./TextInput-DK16qsdl.js";import"./ApplicationLogo-Btd2wIUd.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const w={class:"mb-4 text-sm text-gray-600 dark:text-gray-400"},C={key:0},B={key:1},F={class:"mt-6 flex items-center justify-between"},E={__name:"TwoFactorChallenge",setup(U){const c=V(!1),e=v({code:"",recovery_code:""}),_=()=>{c.value=!c.value,e.code="",e.recovery_code=""},y=()=>{e.post(route("two-factor.login"))};return($,a)=>(r(),g(X,null,{default:u(()=>[o(t(x),{title:"Vérification en deux étapes"}),i("div",w,[c.value?(r(),s(n,{key:1},[l(" Veuillez entrer l'un de vos codes de récupération d'urgence. ")],64)):(r(),s(n,{key:0},[l(" Veuillez entrer le code à 6 chiffres généré par votre application d'authentification (Google Authenticator, Authy, etc.). ")],64))]),i("form",{onSubmit:k(y,["prevent"])},[c.value?(r(),s("div",B,[o(m,{for:"recovery_code",value:"Code de récupération"}),o(p,{id:"recovery_code",ref:"recoveryCodeInput",modelValue:t(e).recovery_code,"onUpdate:modelValue":a[1]||(a[1]=d=>t(e).recovery_code=d),type:"text",class:"mt-1 block w-full",autocomplete:"one-time-code",placeholder:"XXXX-XXXX-XXXX"},null,8,["modelValue"]),o(f,{class:"mt-2",message:t(e).errors.recovery_code},null,8,["message"])])):(r(),s("div",C,[o(m,{for:"code",value:"Code d'authentification"}),o(p,{id:"code",ref:"codeInput",modelValue:t(e).code,"onUpdate:modelValue":a[0]||(a[0]=d=>t(e).code=d),type:"text",inputmode:"numeric",pattern:"[0-9]*",maxlength:"6",class:"mt-1 block w-full text-center text-2xl tracking-widest",autofocus:"",autocomplete:"one-time-code",placeholder:"000000"},null,8,["modelValue"]),o(f,{class:"mt-2",message:t(e).errors.code},null,8,["message"])])),i("div",F,[i("button",{type:"button",class:"text-sm text-gray-600 hover:text-gray-900 underline cursor-pointer dark:text-gray-400 dark:hover:text-gray-100",onClick:_},[c.value?(r(),s(n,{key:1},[l(" Utiliser un code d'authentification ")],64)):(r(),s(n,{key:0},[l(" Utiliser un code de récupération ")],64))]),o(b,{class:h({"opacity-25":t(e).processing}),disabled:t(e).processing},{default:u(()=>[...a[2]||(a[2]=[l(" Vérifier ",-1)])]),_:1},8,["class","disabled"])])],32)]),_:1}))}};export{E as default};
