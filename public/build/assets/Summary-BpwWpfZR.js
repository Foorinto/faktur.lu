import{k as f,p as v,j as w,c as l,a as h,u as p,h as _,w as u,b as t,t as r,o as i,F as x,r as b,s as S,q as T,v as A}from"./app-BNdkYu5R.js";import{_ as N}from"./AppLayout-CQ5EpIy-.js";import"./ApplicationLogo-Btd2wIUd.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./DropdownLink-7-ZIUky-.js";const C={class:"flex items-center justify-between"},D={class:"flex items-center space-x-4"},F=["value"],M={class:"mb-6 grid grid-cols-1 gap-4 sm:grid-cols-4"},V={class:"overflow-hidden rounded-lg bg-white shadow dark:bg-gray-800 px-4 py-5"},j={class:"truncate text-sm font-medium text-gray-500 dark:text-gray-400"},H={class:"mt-1 text-2xl font-semibold text-gray-900 dark:text-white"},B={class:"overflow-hidden rounded-lg bg-white shadow dark:bg-gray-800 px-4 py-5"},O={class:"mt-1 text-2xl font-semibold text-green-600 dark:text-green-400"},R={class:"overflow-hidden rounded-lg bg-white shadow dark:bg-gray-800 px-4 py-5"},J={class:"mt-1 text-2xl font-semibold text-gray-900 dark:text-white"},E={class:"overflow-hidden rounded-lg bg-white shadow dark:bg-gray-800 px-4 py-5"},L={class:"mt-1 text-2xl font-semibold text-gray-900 dark:text-white"},P={class:"grid grid-cols-1 gap-6 lg:grid-cols-2"},U={class:"overflow-hidden rounded-lg bg-white shadow dark:bg-gray-800"},q={class:"overflow-x-auto"},z={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},I={class:"divide-y divide-gray-200 bg-white dark:divide-gray-700 dark:bg-gray-800"},$={class:"py-3 pl-6 pr-3 text-sm text-gray-900 dark:text-white"},G={class:"px-3 py-3 text-right text-sm text-gray-500 dark:text-gray-400"},K={class:"px-3 py-3 text-right text-sm text-gray-500 dark:text-gray-400"},Q={class:"py-3 pl-3 pr-6 text-right text-sm text-gray-500 dark:text-gray-400"},W={class:"bg-gray-50 dark:bg-gray-700"},X={class:"px-3 py-3 text-right text-sm font-semibold text-gray-900 dark:text-white"},Y={class:"px-3 py-3 text-right text-sm font-semibold text-gray-900 dark:text-white"},Z={class:"py-3 pl-3 pr-6 text-right text-sm font-semibold text-gray-900 dark:text-white"},tt={class:"overflow-hidden rounded-lg bg-white shadow dark:bg-gray-800"},et={class:"overflow-x-auto"},rt={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},at={class:"divide-y divide-gray-200 bg-white dark:divide-gray-700 dark:bg-gray-800"},st={class:"py-3 pl-6 pr-3 text-sm text-gray-900 dark:text-white"},dt={class:"px-3 py-3 text-right text-sm text-gray-500 dark:text-gray-400"},ot={class:"px-3 py-3 text-right text-sm text-gray-500 dark:text-gray-400"},lt={class:"py-3 pl-3 pr-6 text-right text-sm text-gray-500 dark:text-gray-400"},it={class:"bg-gray-50 dark:bg-gray-700"},yt={class:"px-3 py-3 text-right text-sm font-semibold text-gray-900 dark:text-white"},xt={class:"px-3 py-3 text-right text-sm font-semibold text-gray-900 dark:text-white"},gt={class:"py-3 pl-3 pr-6 text-right text-sm font-semibold text-gray-900 dark:text-white"},bt={__name:"Summary",props:{year:[String,Number],years:Array,monthlySummary:Object,yearSummary:Object,categories:Object},setup(a){const g=a,n=f(String(g.year)),k=[{key:"01",label:"Janvier"},{key:"02",label:"Février"},{key:"03",label:"Mars"},{key:"04",label:"Avril"},{key:"05",label:"Mai"},{key:"06",label:"Juin"},{key:"07",label:"Juillet"},{key:"08",label:"Août"},{key:"09",label:"Septembre"},{key:"10",label:"Octobre"},{key:"11",label:"Novembre"},{key:"12",label:"Décembre"}];v(n,o=>{w.get(route("expenses.summary"),{year:o},{preserveState:!0,replace:!0})});const d=o=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}).format(o||0),m=o=>g.monthlySummary[o]||{total_ht:0,total_vat:0,total_ttc:0,count:0},c=o=>g.yearSummary.by_category[o]||{total_ht:0,total_vat:0,count:0};return(o,e)=>(i(),l(x,null,[h(p(_),{title:"Résumé des dépenses"}),h(N,null,{header:u(()=>[t("div",C,[t("div",D,[h(p(S),{href:o.route("expenses.index"),class:"text-gray-400 hover:text-gray-500 dark:text-gray-500 dark:hover:text-gray-400"},{default:u(()=>[...e[1]||(e[1]=[t("svg",{class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M17 10a.75.75 0 01-.75.75H5.612l4.158 3.96a.75.75 0 11-1.04 1.08l-5.5-5.25a.75.75 0 010-1.08l5.5-5.25a.75.75 0 111.04 1.08L5.612 9.25H16.25A.75.75 0 0117 10z","clip-rule":"evenodd"})],-1)])]),_:1},8,["href"]),e[2]||(e[2]=t("h1",{class:"text-xl font-semibold text-gray-900 dark:text-white"}," Résumé des dépenses ",-1))]),T(t("select",{"onUpdate:modelValue":e[0]||(e[0]=s=>n.value=s),class:"rounded-md border-0 py-1.5 pl-3 pr-10 text-gray-900 ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-indigo-600 dark:bg-gray-800 dark:text-white dark:ring-gray-600 sm:text-sm"},[(i(!0),l(x,null,b(a.years,s=>(i(),l("option",{key:s,value:s},r(s),9,F))),128))],512),[[A,n.value]])])]),default:u(()=>[t("div",M,[t("div",V,[t("dt",j,"Total HT "+r(a.year),1),t("dd",H,r(d(a.yearSummary.total_ht)),1)]),t("div",B,[e[3]||(e[3]=t("dt",{class:"truncate text-sm font-medium text-gray-500 dark:text-gray-400"},"TVA récupérable",-1)),t("dd",O,r(d(a.yearSummary.total_vat)),1)]),t("div",R,[e[4]||(e[4]=t("dt",{class:"truncate text-sm font-medium text-gray-500 dark:text-gray-400"},"Total TTC",-1)),t("dd",J,r(d(a.yearSummary.total_ttc)),1)]),t("div",E,[e[5]||(e[5]=t("dt",{class:"truncate text-sm font-medium text-gray-500 dark:text-gray-400"},"Dépenses",-1)),t("dd",L,r(a.yearSummary.count),1)])]),t("div",P,[t("div",U,[e[8]||(e[8]=t("div",{class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},[t("h2",{class:"text-lg font-medium text-gray-900 dark:text-white"},"Par mois")],-1)),t("div",q,[t("table",z,[e[7]||(e[7]=t("thead",{class:"bg-gray-50 dark:bg-gray-700"},[t("tr",null,[t("th",{class:"py-3 pl-6 pr-3 text-left text-sm font-semibold text-gray-900 dark:text-white"},"Mois"),t("th",{class:"px-3 py-3 text-right text-sm font-semibold text-gray-900 dark:text-white"},"HT"),t("th",{class:"px-3 py-3 text-right text-sm font-semibold text-gray-900 dark:text-white"},"TVA"),t("th",{class:"py-3 pl-3 pr-6 text-right text-sm font-semibold text-gray-900 dark:text-white"},"Nb")])],-1)),t("tbody",I,[(i(),l(x,null,b(k,s=>t("tr",{key:s.key},[t("td",$,r(s.label),1),t("td",G,r(d(m(s.key).total_ht)),1),t("td",K,r(d(m(s.key).total_vat)),1),t("td",Q,r(m(s.key).count||0),1)])),64))]),t("tfoot",W,[t("tr",null,[e[6]||(e[6]=t("td",{class:"py-3 pl-6 pr-3 text-sm font-semibold text-gray-900 dark:text-white"},"Total",-1)),t("td",X,r(d(a.yearSummary.total_ht)),1),t("td",Y,r(d(a.yearSummary.total_vat)),1),t("td",Z,r(a.yearSummary.count),1)])])])])]),t("div",tt,[e[11]||(e[11]=t("div",{class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},[t("h2",{class:"text-lg font-medium text-gray-900 dark:text-white"},"Par catégorie")],-1)),t("div",et,[t("table",rt,[e[10]||(e[10]=t("thead",{class:"bg-gray-50 dark:bg-gray-700"},[t("tr",null,[t("th",{class:"py-3 pl-6 pr-3 text-left text-sm font-semibold text-gray-900 dark:text-white"},"Catégorie"),t("th",{class:"px-3 py-3 text-right text-sm font-semibold text-gray-900 dark:text-white"},"HT"),t("th",{class:"px-3 py-3 text-right text-sm font-semibold text-gray-900 dark:text-white"},"TVA"),t("th",{class:"py-3 pl-3 pr-6 text-right text-sm font-semibold text-gray-900 dark:text-white"},"Nb")])],-1)),t("tbody",at,[(i(!0),l(x,null,b(a.categories,(s,y)=>(i(),l("tr",{key:y},[t("td",st,r(s),1),t("td",dt,r(d(c(y).total_ht)),1),t("td",ot,r(d(c(y).total_vat)),1),t("td",lt,r(c(y).count||0),1)]))),128))]),t("tfoot",it,[t("tr",null,[e[9]||(e[9]=t("td",{class:"py-3 pl-6 pr-3 text-sm font-semibold text-gray-900 dark:text-white"},"Total",-1)),t("td",yt,r(d(a.yearSummary.total_ht)),1),t("td",xt,r(d(a.yearSummary.total_vat)),1),t("td",gt,r(a.yearSummary.count),1)])])])])])])]),_:1})],64))}};export{bt as default};
