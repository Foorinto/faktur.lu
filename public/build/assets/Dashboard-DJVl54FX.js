import{z as tt,c as d,d as e,x,t,e as m,g as p,a as k,i as f,b as r,l as g,r as Ze,B as _,o as i,h as st,m as rt,F as A,j as C,C as O,f as at,k as ot,p as lt}from"./app-DiyhQPs-.js";import{_ as it}from"./AppLayout-yVQwZ6GD.js";import{u as dt}from"./useTranslations-C2jvNljI.js";import"./DropdownLink-DfW2eLhf.js";const nt={class:"flex"},ct={class:"flex-shrink-0"},ut={class:"ml-3 flex-1"},ht={class:"mt-3 flex flex-wrap gap-4 text-sm"},xt={key:0},mt={class:"mt-3"},kt={class:"mt-2 text-xs opacity-75"},ft={class:"mt-4 flex flex-wrap gap-4"},_t=["href"],vt={class:"ml-auto pl-3"},L="franchise_alert_dismissed",bt=7,pt={__name:"FranchiseAlert",props:{franchiseAlert:{type:Object,required:!0}},setup(s){const a=s,w=Ze(!1);tt(()=>{y()});const y=()=>{const h=localStorage.getItem(L);if(h)try{const{timestamp:c,status:j}=JSON.parse(h),$=new Date(c);(new Date-$)/(1e3*60*60*24)<bt&&j===a.franchiseAlert.status?w.value=!0:localStorage.removeItem(L)}catch{localStorage.removeItem(L)}},u=()=>{w.value=!0,localStorage.setItem(L,JSON.stringify({timestamp:new Date().toISOString(),status:a.franchiseAlert.status}))},M=_(()=>{var h;return((h=a.franchiseAlert)==null?void 0:h.show)&&!w.value}),v=_(()=>{var h;return((h=a.franchiseAlert)==null?void 0:h.status)==="exceeded"}),I=_(()=>v.value?"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800":"bg-amber-50 dark:bg-amber-900/20 border-amber-200 dark:border-amber-800"),S=_(()=>v.value?"text-red-600 dark:text-red-400":"text-amber-600 dark:text-amber-400"),V=_(()=>v.value?"text-red-800 dark:text-red-200":"text-amber-800 dark:text-amber-200"),D=_(()=>v.value?"text-red-700 dark:text-red-300":"text-amber-700 dark:text-amber-300"),B=_(()=>v.value?"text-red-700 dark:text-red-300 hover:text-red-900 dark:hover:text-red-100":"text-amber-700 dark:text-amber-300 hover:text-amber-900 dark:hover:text-amber-100"),T=_(()=>v.value?"text-red-500 dark:text-red-400 hover:text-red-700 dark:hover:text-red-200 focus:ring-red-500":"text-amber-500 dark:text-amber-400 hover:text-amber-700 dark:hover:text-amber-200 focus:ring-amber-500"),o=h=>new Intl.NumberFormat("fr-LU",{style:"currency",currency:"EUR"}).format(h||0),n=_(()=>v.value?"Seuil de franchise TVA dépassé":"Attention : Approche du seuil de franchise TVA"),b=_(()=>v.value?"Vous avez dépassé le seuil de franchise TVA. Vous devez vous enregistrer comme assujetti TVA auprès de l'administration fiscale.":"Vous approchez du seuil de franchise TVA. Préparez-vous à passer au régime assujetti."),z=_(()=>{var c;const h=(c=a.franchiseAlert)==null?void 0:c.tax_authority;return h?`Contactez ${h.name} (${h.full_name}) pour effectuer les démarches nécessaires.`:""});return(h,c)=>{var j;return M.value?(i(),d("div",{key:0,class:x(["rounded-2xl border p-4 mb-6",I.value]),role:"alert"},[e("div",nt,[e("div",ct,[(i(),d("svg",{class:x(["h-5 w-5",S.value]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[...c[0]||(c[0]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"},null,-1)])],2))]),e("div",ut,[e("h3",{class:x(["text-sm font-semibold",V.value])},t(n.value),3),e("div",{class:x(["mt-2 text-sm",D.value])},[e("p",null,t(b.value),1),e("div",ht,[e("div",null,[c[1]||(c[1]=e("span",{class:"font-medium"},"CA annuel :",-1)),m(" "+t(o(s.franchiseAlert.yearly_revenue)),1)]),e("div",null,[c[2]||(c[2]=e("span",{class:"font-medium"},"Seuil :",-1)),m(" "+t(o(s.franchiseAlert.threshold)),1)]),v.value?p("",!0):(i(),d("div",xt,[c[3]||(c[3]=e("span",{class:"font-medium"},"Restant :",-1)),m(" "+t(o(s.franchiseAlert.remaining_amount)),1)])),e("div",null,[c[4]||(c[4]=e("span",{class:"font-medium"},"Utilisation :",-1)),m(" "+t(s.franchiseAlert.percentage_used)+"% ",1)])]),e("p",mt,t(z.value),1),e("p",kt," Référence : "+t(s.franchiseAlert.legal_reference),1),e("div",ft,[k(r(g),{href:h.route("settings.business.edit"),class:x(["text-sm font-medium flex items-center gap-1 transition-colors",B.value])},{default:f(()=>[...c[5]||(c[5]=[m(" Modifier mes paramètres entreprise ",-1),e("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"})],-1)])]),_:1},8,["href","class"]),(j=s.franchiseAlert.tax_authority)!=null&&j.url?(i(),d("a",{key:0,href:s.franchiseAlert.tax_authority.url,target:"_blank",rel:"noopener noreferrer",class:x(["text-sm font-medium flex items-center gap-1 transition-colors",B.value])},[m(" Site "+t(s.franchiseAlert.tax_authority.name)+" ",1),c[6]||(c[6]=e("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"})],-1))],10,_t)):p("",!0)])],2)]),e("div",vt,[e("button",{type:"button",onClick:u,class:x(["rounded-md p-1.5 focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors",T.value]),title:"Masquer cette alerte pendant 7 jours"},[...c[7]||(c[7]=[e("span",{class:"sr-only"},"Masquer",-1),e("svg",{class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1)])],2)])])],2)):p("",!0)}}},gt={class:"flex items-center justify-between"},wt={class:"text-xl font-bold text-slate-900 dark:text-white"},yt={class:"flex items-center space-x-2"},jt={for:"year",class:"text-sm font-medium text-slate-600 dark:text-slate-400"},At=["value"],Ct={key:1,class:"mb-6 space-y-3"},Mt={class:"flex"},St={class:"flex-shrink-0"},Bt={class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},zt=["d"],$t={class:"ml-3"},Lt={class:"text-sm font-medium"},It={class:"mt-1 text-sm opacity-90"},Vt={class:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4"},Dt={class:"overflow-hidden rounded-2xl bg-white shadow-xl shadow-slate-200/50 border border-slate-200 dark:bg-slate-800 dark:border-slate-700 dark:shadow-slate-900/50"},Tt={class:"p-5"},Nt={class:"flex items-center"},Ft={class:"ml-5 w-0 flex-1"},Ot={class:"truncate text-sm font-medium text-slate-500 dark:text-slate-400"},Yt={class:"flex items-baseline"},Ht={class:"text-2xl font-bold text-slate-900 dark:text-white"},Rt={class:"overflow-hidden rounded-2xl bg-white shadow-xl shadow-slate-200/50 border border-slate-200 dark:bg-slate-800 dark:border-slate-700 dark:shadow-slate-900/50"},Ut={class:"p-5"},Et={class:"flex items-center"},qt={class:"ml-5 w-0 flex-1"},Pt={class:"truncate text-sm font-medium text-slate-500 dark:text-slate-400"},Jt={class:"flex items-baseline"},Gt={class:"overflow-hidden rounded-2xl bg-white shadow-xl shadow-slate-200/50 border border-slate-200 dark:bg-slate-800 dark:border-slate-700 dark:shadow-slate-900/50"},Kt={class:"p-5"},Qt={class:"flex items-center"},Wt={class:"flex-shrink-0"},Xt={class:"ml-5 w-0 flex-1"},Zt={class:"truncate text-sm font-medium text-slate-500 dark:text-slate-400"},es={class:"text-2xl font-bold text-slate-900 dark:text-white"},ts={class:"text-sm text-slate-500 dark:text-slate-400"},ss={key:0,class:"text-pink-600 dark:text-pink-400 font-medium"},rs={class:"overflow-hidden rounded-2xl bg-white shadow-xl shadow-slate-200/50 border border-slate-200 dark:bg-slate-800 dark:border-slate-700 dark:shadow-slate-900/50"},as={class:"p-5"},os={class:"flex items-center"},ls={class:"ml-5 w-0 flex-1"},is={class:"truncate text-sm font-medium text-slate-500 dark:text-slate-400"},ds={class:"text-2xl font-bold text-slate-900 dark:text-white"},ns={class:"text-sm text-slate-500 dark:text-slate-400"},cs={class:"mt-6 grid grid-cols-1 gap-6 lg:grid-cols-2"},us={class:"overflow-hidden rounded-2xl bg-white shadow-xl shadow-slate-200/50 border border-slate-200 dark:bg-slate-800 dark:border-slate-700 dark:shadow-slate-900/50"},hs={class:"p-6"},xs={class:"text-base font-semibold text-slate-900 dark:text-white"},ms={class:"mt-1 text-sm text-slate-500 dark:text-slate-400"},ks={class:"mt-4"},fs={class:"flex items-center justify-between text-sm"},_s={class:"text-slate-600 dark:text-slate-400"},vs={class:"font-semibold text-slate-900 dark:text-white"},bs={class:"mt-2 h-3 w-full rounded-full bg-slate-200 dark:bg-slate-700"},ps={key:0,class:"mt-2 text-sm text-slate-500 dark:text-slate-400"},gs={key:1,class:"mt-2 text-sm font-medium text-pink-600 dark:text-pink-400"},ws={class:"overflow-hidden rounded-2xl bg-white shadow-xl shadow-slate-200/50 border border-slate-200 dark:bg-slate-800 dark:border-slate-700 dark:shadow-slate-900/50"},ys={class:"p-6"},js={class:"text-base font-semibold text-slate-900 dark:text-white"},As={class:"mt-1 text-sm text-slate-500 dark:text-slate-400"},Cs={class:"mt-4"},Ms={class:"flex items-center justify-between text-sm"},Ss={class:"text-slate-600 dark:text-slate-400"},Bs={class:"font-semibold text-slate-900 dark:text-white"},zs={class:"mt-2 h-3 w-full rounded-full bg-slate-200 dark:bg-slate-700"},$s={key:0,class:"mt-2 text-sm text-slate-500 dark:text-slate-400"},Ls={key:1,class:"mt-2 text-sm font-medium text-pink-600 dark:text-pink-400"},Is={class:"mt-6 grid grid-cols-1 gap-6 lg:grid-cols-3"},Vs={class:"lg:col-span-2 overflow-hidden rounded-2xl bg-white shadow-xl shadow-slate-200/50 border border-slate-200 dark:bg-slate-800 dark:border-slate-700 dark:shadow-slate-900/50"},Ds={class:"p-6"},Ts={class:"text-base font-semibold text-slate-900 dark:text-white"},Ns={class:"mt-4"},Fs={class:"flex h-48 items-end justify-between space-x-2"},Os=["title"],Ys={class:"mt-2 text-xs text-slate-500 dark:text-slate-400"},Hs={class:"overflow-hidden rounded-2xl bg-white shadow-xl shadow-slate-200/50 border border-slate-200 dark:bg-slate-800 dark:border-slate-700 dark:shadow-slate-900/50"},Rs={class:"p-6"},Us={class:"text-base font-semibold text-slate-900 dark:text-white"},Es={class:"mt-4 space-y-4"},qs={class:"flex justify-between"},Ps={class:"text-sm text-slate-500 dark:text-slate-400"},Js={class:"text-sm font-medium text-slate-900 dark:text-white"},Gs={class:"flex justify-between"},Ks={class:"text-sm text-slate-500 dark:text-slate-400"},Qs={class:"text-sm font-medium text-slate-900 dark:text-white"},Ws={class:"border-t border-slate-200 dark:border-slate-700 pt-4 flex justify-between"},Xs={class:"text-sm font-semibold text-slate-900 dark:text-white"},Zs={key:0,class:"text-sm text-slate-500 dark:text-slate-400"},er={class:"font-medium text-pink-600 dark:text-pink-400"},tr={key:1,class:"text-sm text-slate-500 dark:text-slate-400"},sr={class:"font-medium text-emerald-600 dark:text-emerald-400"},rr={class:"mt-6 grid grid-cols-1 gap-6 lg:grid-cols-2"},ar={class:"overflow-hidden rounded-2xl bg-white shadow-xl shadow-slate-200/50 border border-slate-200 dark:bg-slate-800 dark:border-slate-700 dark:shadow-slate-900/50"},or={class:"p-6"},lr={class:"flex items-center justify-between"},ir={class:"text-base font-semibold text-slate-900 dark:text-white"},dr={class:"mt-4"},nr={key:0,class:"text-center py-4 text-sm text-slate-500 dark:text-slate-400"},cr={key:1,class:"divide-y divide-slate-100 dark:divide-slate-700"},ur={class:"flex items-center justify-between"},hr={class:"text-sm text-slate-500 dark:text-slate-400"},xr={class:"text-right"},mr={class:"text-sm font-semibold text-slate-900 dark:text-white"},kr={key:0},fr={key:1},_r={class:"overflow-hidden rounded-2xl bg-white shadow-xl shadow-slate-200/50 border border-slate-200 dark:bg-slate-800 dark:border-slate-700 dark:shadow-slate-900/50"},vr={class:"p-6"},br={class:"flex items-center justify-between"},pr={class:"text-base font-semibold text-slate-900 dark:text-white"},gr={class:"mt-4"},wr={key:0,class:"text-center py-4 text-sm text-slate-500 dark:text-slate-400"},yr={key:1,class:"divide-y divide-slate-100 dark:divide-slate-700"},jr={class:"flex items-center justify-between"},Ar={class:"text-sm font-medium text-slate-900 dark:text-white"},Cr={class:"text-sm text-slate-500 dark:text-slate-400"},Mr={class:"text-right"},Sr={class:"text-sm font-semibold text-slate-900 dark:text-white"},Br={class:"text-xs text-slate-500 dark:text-slate-400"},zr={class:"mt-6 overflow-hidden rounded-2xl bg-white shadow-xl shadow-slate-200/50 border border-slate-200 dark:bg-slate-800 dark:border-slate-700 dark:shadow-slate-900/50"},$r={class:"p-6"},Lr={class:"flex items-center justify-between"},Ir={class:"text-base font-semibold text-slate-900 dark:text-white"},Vr={class:"mt-4"},Dr={key:0,class:"text-center py-4 text-sm text-slate-500 dark:text-slate-400"},Tr={key:1,class:"overflow-x-auto"},Nr={class:"min-w-full divide-y divide-slate-200 dark:divide-slate-700"},Fr={class:"px-3 py-3 text-left text-xs font-semibold uppercase tracking-wider text-slate-500 dark:text-slate-400"},Or={class:"px-3 py-3 text-left text-xs font-semibold uppercase tracking-wider text-slate-500 dark:text-slate-400"},Yr={class:"px-3 py-3 text-left text-xs font-semibold uppercase tracking-wider text-slate-500 dark:text-slate-400"},Hr={class:"px-3 py-3 text-left text-xs font-semibold uppercase tracking-wider text-slate-500 dark:text-slate-400"},Rr={class:"px-3 py-3 text-right text-xs font-semibold uppercase tracking-wider text-slate-500 dark:text-slate-400"},Ur={class:"divide-y divide-slate-100 dark:divide-slate-700"},Er={class:"whitespace-nowrap px-3 py-3"},qr={key:0,class:"ml-1 text-xs text-slate-500"},Pr={class:"whitespace-nowrap px-3 py-3 text-sm text-slate-900 dark:text-white"},Jr={class:"whitespace-nowrap px-3 py-3 text-sm text-slate-500 dark:text-slate-400"},Gr={class:"whitespace-nowrap px-3 py-3"},Kr={class:"whitespace-nowrap px-3 py-3 text-right text-sm font-semibold text-slate-900 dark:text-white"},Qr={class:"mt-6"},Wr={class:"text-base font-semibold text-slate-900 dark:text-white mb-4"},Xr={class:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4"},Zr={class:"mt-3 block text-sm font-medium text-slate-900 dark:text-slate-300"},ea={class:"mt-3 block text-sm font-medium text-slate-900 dark:text-slate-300"},ta={class:"mt-3 block text-sm font-medium text-slate-900 dark:text-slate-300"},sa={class:"mt-3 block text-sm font-medium text-slate-900 dark:text-slate-300"},ia={__name:"Dashboard",props:{kpis:Object,revenueChart:Array,unpaidInvoices:Array,unbilledTimeByClient:Array,recentInvoices:Array,availableYears:Array,selectedYear:Number,franchiseAlert:Object},setup(s){const{t:a}=dt(),w=s,y=Ze(w.selectedYear),u=o=>new Intl.NumberFormat("fr-LU",{style:"currency",currency:"EUR"}).format(o||0),M=o=>o==null?"-":`${o>0?"+":""}${o.toFixed(1)}%`,v=o=>{y.value=o,lt.get(route("dashboard"),{year:o},{preserveState:!0})},I=_(()=>w.revenueChart?Math.max(...w.revenueChart.map(o=>o.revenue),1):0),S=o=>o>=100?"bg-accent-pink":o>=80?"bg-amber-500":"bg-primary-500",V=o=>o==="critical"?"bg-pink-50 border-pink-200 text-pink-800 dark:bg-pink-900/20 dark:border-pink-800 dark:text-pink-200":o==="warning"?"bg-amber-50 border-amber-200 text-amber-800 dark:bg-amber-900/20 dark:border-amber-800 dark:text-amber-200":"bg-sky-50 border-sky-200 text-sky-800 dark:bg-sky-900/20 dark:border-sky-800 dark:text-sky-200",D=o=>o==="critical"||o==="warning"?"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z":"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z",B=o=>{const n={draft:"bg-slate-100 text-slate-700 dark:bg-slate-700 dark:text-slate-300",finalized:"bg-sky-100 text-sky-700 dark:bg-sky-900/30 dark:text-sky-400",sent:"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400",paid:"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400"};return n[o]||n.draft},T=o=>a(o)||o;return(o,n)=>(i(),d(A,null,[k(r(st),{title:r(a)("dashboard")},null,8,["title"]),k(it,null,{header:f(()=>[e("div",gt,[e("h1",wt,t(r(a)("dashboard")),1),e("div",yt,[e("label",jt,t(r(a)("year"))+" :",1),at(e("select",{id:"year","onUpdate:modelValue":n[0]||(n[0]=b=>y.value=b),onChange:n[1]||(n[1]=b=>v(y.value)),class:"rounded-xl border-slate-300 py-1.5 pl-3 pr-8 text-sm focus:border-primary-500 focus:ring-primary-500 dark:border-slate-600 dark:bg-slate-700 dark:text-white"},[(i(!0),d(A,null,C(s.availableYears,b=>(i(),d("option",{key:b,value:b},t(b),9,At))),128))],544),[[ot,y.value]])])])]),default:f(()=>{var b,z,h,c,j,$,N,F,Y,H,R,U,E,q,P,J,G,K,Q,W,X,Z,ee,te,se,re,ae,oe,le,ie,de,ne,ce,ue,he,xe,me,ke,fe,_e,ve,be,pe,ge,we,ye,je,Ae,Ce,Me,Se,Be,ze,$e,Le,Ie,Ve,De,Te,Ne,Fe,Oe,Ye,He,Re,Ue,Ee,qe,Pe,Je,Ge,Ke,Qe,We,Xe;return[s.franchiseAlert?(i(),rt(pt,{key:0,"franchise-alert":s.franchiseAlert},null,8,["franchise-alert"])):p("",!0),((z=(b=s.kpis)==null?void 0:b.alerts)==null?void 0:z.length)>0?(i(),d("div",Ct,[(i(!0),d(A,null,C(s.kpis.alerts,(l,et)=>(i(),d("div",{key:et,class:x(["rounded-2xl border p-4",V(l.level)])},[e("div",Mt,[e("div",St,[(i(),d("svg",Bt,[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:D(l.level)},null,8,zt)]))]),e("div",$t,[e("h3",Lt,t(l.title),1),e("p",It,t(l.message),1)])])],2))),128))])):p("",!0),e("div",Vt,[e("div",Dt,[e("div",Tt,[e("div",Nt,[n[2]||(n[2]=e("div",{class:"flex-shrink-0"},[e("div",{class:"flex h-12 w-12 items-center justify-center rounded-xl bg-primary-500"},[e("svg",{class:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])])],-1)),e("div",Ft,[e("dl",null,[e("dt",Ot,t(r(a)("annual_revenue")),1),e("dd",Yt,[e("span",Ht,t(u((h=s.kpis)==null?void 0:h.annual_revenue)),1),((c=s.kpis)==null?void 0:c.annual_revenue_change)!==null?(i(),d("span",{key:0,class:x(["ml-2 text-sm font-medium",((j=s.kpis)==null?void 0:j.annual_revenue_change)>=0?"text-emerald-600 dark:text-emerald-400":"text-pink-600 dark:text-pink-400"])},t(M(($=s.kpis)==null?void 0:$.annual_revenue_change)),3)):p("",!0)])])])])])]),e("div",Rt,[e("div",Ut,[e("div",Et,[n[3]||(n[3]=e("div",{class:"flex-shrink-0"},[e("div",{class:"flex h-12 w-12 items-center justify-center rounded-xl bg-[#00f5d4]"},[e("svg",{class:"h-6 w-6 text-slate-900",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])])],-1)),e("div",qt,[e("dl",null,[e("dt",Pt,t(r(a)("net_profit")),1),e("dd",Jt,[e("span",{class:x(["text-2xl font-bold",((N=s.kpis)==null?void 0:N.net_profit)>=0?"text-slate-900 dark:text-white":"text-pink-600 dark:text-pink-400"])},t(u((F=s.kpis)==null?void 0:F.net_profit)),3),((Y=s.kpis)==null?void 0:Y.net_profit_change)!==null?(i(),d("span",{key:0,class:x(["ml-2 text-sm font-medium",((H=s.kpis)==null?void 0:H.net_profit_change)>=0?"text-emerald-600 dark:text-emerald-400":"text-pink-600 dark:text-pink-400"])},t(M((R=s.kpis)==null?void 0:R.net_profit_change)),3)):p("",!0)])])])])])]),e("div",Gt,[e("div",Kt,[e("div",Qt,[e("div",Wt,[e("div",{class:x(["flex h-12 w-12 items-center justify-center rounded-xl",((E=(U=s.kpis)==null?void 0:U.unpaid_invoices)==null?void 0:E.overdue_count)>0?"bg-accent-pink":"bg-accent-blue"])},[...n[4]||(n[4]=[e("svg",{class:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)])],2)]),e("div",Xt,[e("dl",null,[e("dt",Zt,t(r(a)("unpaid_invoices")),1),e("dd",null,[e("span",es,t(u((P=(q=s.kpis)==null?void 0:q.unpaid_invoices)==null?void 0:P.total_amount)),1),e("p",ts,[m(t(((G=(J=s.kpis)==null?void 0:J.unpaid_invoices)==null?void 0:G.count)||0)+" "+t(r(a)("invoices").toLowerCase())+" ",1),((Q=(K=s.kpis)==null?void 0:K.unpaid_invoices)==null?void 0:Q.overdue_count)>0?(i(),d("span",ss," ("+t((X=(W=s.kpis)==null?void 0:W.unpaid_invoices)==null?void 0:X.overdue_count)+" "+t(r(a)("overdue").toLowerCase())+") ",1)):p("",!0)])])])])])])]),e("div",rs,[e("div",as,[e("div",os,[n[5]||(n[5]=e("div",{class:"flex-shrink-0"},[e("div",{class:"flex h-12 w-12 items-center justify-center rounded-xl bg-accent-yellow"},[e("svg",{class:"h-6 w-6 text-slate-900",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])])],-1)),e("div",ls,[e("dl",null,[e("dt",is,t(r(a)("unbilled_time")),1),e("dd",null,[e("span",ds,t(((ee=(Z=s.kpis)==null?void 0:Z.unbilled_time)==null?void 0:ee.formatted)||"0:00"),1),e("p",ns,t(((re=(se=(te=s.kpis)==null?void 0:te.unbilled_time)==null?void 0:se.hours)==null?void 0:re.toFixed(1))||0)+" "+t(r(a)("hours")),1)])])])])])])]),e("div",cs,[e("div",us,[e("div",hs,[e("h3",xs,t(r(a)("vat_franchise_threshold")),1),e("p",ms,t(r(a)("article_57_threshold"))+" "+t(u((ae=s.kpis)==null?void 0:ae.vat_franchise_threshold)),1),e("div",ks,[e("div",fs,[e("span",_s,t(u((le=(oe=s.kpis)==null?void 0:oe.vat_franchise_progress)==null?void 0:le.current))+" / "+t(u((ie=s.kpis)==null?void 0:ie.vat_franchise_threshold)),1),e("span",vs,t(((ce=(ne=(de=s.kpis)==null?void 0:de.vat_franchise_progress)==null?void 0:ne.percentage)==null?void 0:ce.toFixed(1))||0)+"% ",1)]),e("div",bs,[e("div",{class:x(["h-3 rounded-full transition-all",S((he=(ue=s.kpis)==null?void 0:ue.vat_franchise_progress)==null?void 0:he.percentage)]),style:O({width:`${Math.min(100,((me=(xe=s.kpis)==null?void 0:xe.vat_franchise_progress)==null?void 0:me.percentage)||0)}%`})},null,6)]),((fe=(ke=s.kpis)==null?void 0:ke.vat_franchise_progress)==null?void 0:fe.remaining)>0?(i(),d("p",ps,t(r(a)("remaining_before_threshold",{amount:u((ve=(_e=s.kpis)==null?void 0:_e.vat_franchise_progress)==null?void 0:ve.remaining)})),1)):(i(),d("p",gs,t(r(a)("threshold_exceeded_vat")),1))])])]),e("div",ws,[e("div",ys,[e("h3",js,t(r(a)("simplified_accounting_threshold")),1),e("p",As,t(r(a)("article_57_threshold"))+" "+t(u((be=s.kpis)==null?void 0:be.simplified_accounting_threshold)),1),e("div",Cs,[e("div",Ms,[e("span",Ss,t(u((ge=(pe=s.kpis)==null?void 0:pe.simplified_accounting_progress)==null?void 0:ge.current))+" / "+t(u((we=s.kpis)==null?void 0:we.simplified_accounting_threshold)),1),e("span",Bs,t(((Ae=(je=(ye=s.kpis)==null?void 0:ye.simplified_accounting_progress)==null?void 0:je.percentage)==null?void 0:Ae.toFixed(1))||0)+"% ",1)]),e("div",zs,[e("div",{class:x(["h-3 rounded-full transition-all",S((Me=(Ce=s.kpis)==null?void 0:Ce.simplified_accounting_progress)==null?void 0:Me.percentage)]),style:O({width:`${Math.min(100,((Be=(Se=s.kpis)==null?void 0:Se.simplified_accounting_progress)==null?void 0:Be.percentage)||0)}%`})},null,6)]),(($e=(ze=s.kpis)==null?void 0:ze.simplified_accounting_progress)==null?void 0:$e.remaining)>0?(i(),d("p",$s,t(r(a)("remaining_before_threshold",{amount:u((Ie=(Le=s.kpis)==null?void 0:Le.simplified_accounting_progress)==null?void 0:Ie.remaining)})),1)):(i(),d("p",Ls,t(r(a)("threshold_exceeded_accounting")),1))])])])]),e("div",Is,[e("div",Vs,[e("div",Ds,[e("h3",Ts,t(r(a)("monthly_revenue")),1),e("div",Ns,[e("div",Fs,[(i(!0),d(A,null,C(s.revenueChart,l=>(i(),d("div",{key:l.month,class:"flex flex-1 flex-col items-center"},[e("div",{class:"w-full rounded-t-lg bg-primary-500 hover:bg-primary-600 transition-colors cursor-pointer",style:O({height:`${l.revenue/I.value*100}%`,minHeight:l.revenue>0?"4px":"0"}),title:`${l.label}: ${u(l.revenue)}`},null,12,Os),e("span",Ys,t(l.label),1)]))),128))])])])]),e("div",Hs,[e("div",Rs,[e("h3",Us,t(r(a)("vat_summary",{year:y.value})),1),e("dl",Es,[e("div",qs,[e("dt",Ps,t(r(a)("collected_vat")),1),e("dd",Js,t(u((De=(Ve=s.kpis)==null?void 0:Ve.vat_summary)==null?void 0:De.collected)),1)]),e("div",Gs,[e("dt",Ks,t(r(a)("deductible_vat")),1),e("dd",Qs,t(u((Ne=(Te=s.kpis)==null?void 0:Te.vat_summary)==null?void 0:Ne.deductible)),1)]),e("div",Ws,[e("dt",Xs,t(r(a)("balance")),1),e("dd",{class:x(["text-sm font-bold",((Oe=(Fe=s.kpis)==null?void 0:Fe.vat_summary)==null?void 0:Oe.balance)>=0?"text-pink-600 dark:text-pink-400":"text-emerald-600 dark:text-emerald-400"])},t(u((He=(Ye=s.kpis)==null?void 0:Ye.vat_summary)==null?void 0:He.balance)),3)]),((Ue=(Re=s.kpis)==null?void 0:Re.vat_summary)==null?void 0:Ue.to_pay)>0?(i(),d("div",Zs,[m(t(r(a)("vat_to_pay"))+" ",1),e("span",er,t(u((qe=(Ee=s.kpis)==null?void 0:Ee.vat_summary)==null?void 0:qe.to_pay)),1)])):((Je=(Pe=s.kpis)==null?void 0:Pe.vat_summary)==null?void 0:Je.credit)>0?(i(),d("div",tr,[m(t(r(a)("vat_credit"))+" ",1),e("span",sr,t(u((Ke=(Ge=s.kpis)==null?void 0:Ge.vat_summary)==null?void 0:Ke.credit)),1)])):p("",!0)])])])]),e("div",rr,[e("div",ar,[e("div",or,[e("div",lr,[e("h3",ir,t(r(a)("unpaid_invoices")),1),k(r(g),{href:o.route("invoices.index"),class:"text-sm font-medium text-primary-600 hover:text-primary-500 dark:text-primary-400"},{default:f(()=>[m(t(r(a)("view_all")),1)]),_:1},8,["href"])]),e("div",dr,[((Qe=s.unpaidInvoices)==null?void 0:Qe.length)===0?(i(),d("div",nr,t(r(a)("no_unpaid_invoices")),1)):(i(),d("ul",cr,[(i(!0),d(A,null,C(s.unpaidInvoices,l=>(i(),d("li",{key:l.id,class:"py-3"},[e("div",ur,[e("div",null,[k(r(g),{href:o.route("invoices.show",l.id),class:"text-sm font-medium text-primary-600 hover:text-primary-500 dark:text-primary-400"},{default:f(()=>[m(t(l.number),1)]),_:2},1032,["href"]),e("p",hr,t(l.client_name),1)]),e("div",xr,[e("p",mr,t(u(l.total_ttc)),1),e("p",{class:x(["text-xs",l.is_overdue?"text-pink-600 dark:text-pink-400 font-medium":"text-slate-500 dark:text-slate-400"])},[l.is_overdue?(i(),d("span",kr,t(r(a)("overdue"))+" ("+t(l.days_overdue)+" "+t(r(a)("days_short"))+") ",1)):l.due_at?(i(),d("span",fr,t(r(a)("due_date"))+" : "+t(l.due_at),1)):p("",!0)],2)])])]))),128))]))])])]),e("div",_r,[e("div",vr,[e("div",br,[e("h3",pr,t(r(a)("unbilled_time_by_client")),1),k(r(g),{href:o.route("time-entries.summary"),class:"text-sm font-medium text-primary-600 hover:text-primary-500 dark:text-primary-400"},{default:f(()=>[m(t(r(a)("view_all")),1)]),_:1},8,["href"])]),e("div",gr,[((We=s.unbilledTimeByClient)==null?void 0:We.length)===0?(i(),d("div",wr,t(r(a)("no_unbilled_time")),1)):(i(),d("ul",yr,[(i(!0),d(A,null,C(s.unbilledTimeByClient,l=>(i(),d("li",{key:l.client_id,class:"py-3"},[e("div",jr,[e("div",null,[e("p",Ar,t(l.client_name),1),e("p",Cr,t(l.formatted)+" ("+t(l.hours)+"h)",1)]),e("div",Mr,[e("p",Sr," ~"+t(u(l.estimated_amount)),1),e("p",Br,t(u(l.hourly_rate))+"/h ",1)])])]))),128))]))])])])]),e("div",zr,[e("div",$r,[e("div",Lr,[e("h3",Ir,t(r(a)("recent_invoices")),1),k(r(g),{href:o.route("invoices.index"),class:"text-sm font-medium text-primary-600 hover:text-primary-500 dark:text-primary-400"},{default:f(()=>[m(t(r(a)("view_all")),1)]),_:1},8,["href"])]),e("div",Vr,[((Xe=s.recentInvoices)==null?void 0:Xe.length)===0?(i(),d("div",Dr,t(r(a)("no_invoice")),1)):(i(),d("div",Tr,[e("table",Nr,[e("thead",null,[e("tr",null,[e("th",Fr,t(r(a)("number")),1),e("th",Or,t(r(a)("client")),1),e("th",Yr,t(r(a)("date")),1),e("th",Hr,t(r(a)("status")),1),e("th",Rr,t(r(a)("amount")),1)])]),e("tbody",Ur,[(i(!0),d(A,null,C(s.recentInvoices,l=>(i(),d("tr",{key:l.id,class:"hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors"},[e("td",Er,[k(r(g),{href:o.route("invoices.show",l.id),class:"text-sm font-medium text-primary-600 hover:text-primary-500 dark:text-primary-400"},{default:f(()=>[m(t(l.number)+" ",1),l.is_credit_note?(i(),d("span",qr,"("+t(r(a)("credit_note"))+")",1)):p("",!0)]),_:2},1032,["href"])]),e("td",Pr,t(l.client_name),1),e("td",Jr,t(l.issued_at),1),e("td",Gr,[e("span",{class:x(["inline-flex rounded-xl px-2.5 py-0.5 text-xs font-semibold",B(l.status)])},t(T(l.status)),3)]),e("td",Kr,t(u(l.total_ttc)),1)]))),128))])])]))])])]),e("div",Qr,[e("h3",Wr,t(r(a)("quick_actions")),1),e("div",Xr,[k(r(g),{href:o.route("invoices.create"),class:"group flex items-center justify-center rounded-2xl border-2 border-dashed border-slate-300 p-6 text-center hover:border-primary-500 hover:bg-primary-50 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 transition-all dark:border-slate-600 dark:hover:border-primary-400 dark:hover:bg-primary-900/20"},{default:f(()=>[e("div",null,[n[6]||(n[6]=e("div",{class:"mx-auto h-12 w-12 rounded-xl bg-primary-100 flex items-center justify-center group-hover:bg-primary-500 transition-colors dark:bg-primary-900/30"},[e("svg",{class:"h-6 w-6 text-primary-600 group-hover:text-white transition-colors dark:text-primary-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})])],-1)),e("span",Zr,t(r(a)("new_invoice")),1)])]),_:1},8,["href"]),k(r(g),{href:o.route("clients.create"),class:"group flex items-center justify-center rounded-2xl border-2 border-dashed border-slate-300 p-6 text-center hover:border-accent-blue hover:bg-sky-50 focus:outline-none focus:ring-2 focus:ring-accent-blue focus:ring-offset-2 transition-all dark:border-slate-600 dark:hover:border-accent-blue dark:hover:bg-sky-900/20"},{default:f(()=>[e("div",null,[n[7]||(n[7]=e("div",{class:"mx-auto h-12 w-12 rounded-xl bg-sky-100 flex items-center justify-center group-hover:bg-accent-blue transition-colors dark:bg-sky-900/30"},[e("svg",{class:"h-6 w-6 text-sky-600 group-hover:text-white transition-colors dark:text-sky-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})])],-1)),e("span",ea,t(r(a)("new_client")),1)])]),_:1},8,["href"]),k(r(g),{href:o.route("time-entries.index"),class:"group flex items-center justify-center rounded-2xl border-2 border-dashed border-slate-300 p-6 text-center hover:border-accent-yellow hover:bg-amber-50 focus:outline-none focus:ring-2 focus:ring-accent-yellow focus:ring-offset-2 transition-all dark:border-slate-600 dark:hover:border-accent-yellow dark:hover:bg-amber-900/20"},{default:f(()=>[e("div",null,[n[8]||(n[8]=e("div",{class:"mx-auto h-12 w-12 rounded-xl bg-amber-100 flex items-center justify-center group-hover:bg-accent-yellow transition-colors dark:bg-amber-900/30"},[e("svg",{class:"h-6 w-6 text-amber-600 group-hover:text-slate-900 transition-colors dark:text-amber-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("span",ta,t(r(a)("time_tracking")),1)])]),_:1},8,["href"]),k(r(g),{href:o.route("expenses.create"),class:"group flex items-center justify-center rounded-2xl border-2 border-dashed border-slate-300 p-6 text-center hover:border-accent-pink hover:bg-pink-50 focus:outline-none focus:ring-2 focus:ring-accent-pink focus:ring-offset-2 transition-all dark:border-slate-600 dark:hover:border-accent-pink dark:hover:bg-pink-900/20"},{default:f(()=>[e("div",null,[n[9]||(n[9]=e("div",{class:"mx-auto h-12 w-12 rounded-xl bg-pink-100 flex items-center justify-center group-hover:bg-accent-pink transition-colors dark:bg-pink-900/30"},[e("svg",{class:"h-6 w-6 text-pink-600 group-hover:text-white transition-colors dark:text-pink-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})])],-1)),e("span",sa,t(r(a)("new_expense")),1)])]),_:1},8,["href"])])])]}),_:1})],64))}};export{ia as default};
