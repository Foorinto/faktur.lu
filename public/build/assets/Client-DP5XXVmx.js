import{r as h,c as l,a as m,b as v,h as V,i as b,d as e,l as A,e as p,t as r,o as a,g as k,f,F as n,j as d,k as w}from"./app-kmRFKWk4.js";import{_ as D}from"./AccountantLayout-DpaiBOrd.js";const T={class:"mb-6"},M={class:"mt-2 text-2xl font-bold text-slate-900 dark:text-white"},j={key:0,class:"text-sm text-slate-500 dark:text-slate-400"},F={class:"bg-white dark:bg-slate-800 rounded-2xl shadow p-6 mb-6"},E={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},B=["value"],C=["value"],P={class:"bg-white dark:bg-slate-800 rounded-2xl shadow p-6 mb-6"},S={class:"space-y-4"},L={class:"flex items-center space-x-4"},N={class:"flex-shrink-0 w-10 h-10 rounded-full bg-primary-100 dark:bg-primary-900 flex items-center justify-center"},U={class:"w-5 h-5 text-primary-600 dark:text-primary-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},J=["d"],q={class:"text-sm font-medium text-slate-900 dark:text-white"},z={class:"text-sm text-slate-500 dark:text-slate-400"},H=["href"],I={key:0,class:"bg-white dark:bg-slate-800 rounded-2xl shadow p-6"},O={class:"divide-y divide-slate-200 dark:divide-slate-700"},R={class:"text-sm font-medium text-slate-900 dark:text-white"},Y={class:"text-xs text-slate-500 dark:text-slate-400"},$={class:"text-xs text-slate-400"},Z={__name:"Client",props:{client:Object,years:Array,recentDownloads:Array},setup(o){const x=o,u=h(x.years[0]||new Date().getFullYear()),i=h(null),y=[{value:null,label:"Année complète"},{value:1,label:"T1 (Jan-Mar)"},{value:2,label:"T2 (Avr-Jun)"},{value:3,label:"T3 (Jul-Sep)"},{value:4,label:"T4 (Oct-Déc)"}],g=[{type:"faia",title:"Export FAIA (XML)",description:"Format standard pour l'AED Luxembourg",icon:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"},{type:"excel",title:"Export Excel",description:"Factures et avoirs en format tableur",icon:"M3 10h18M3 14h18m-9-4v8m-7 0h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"},{type:"pdf_archive",title:"Archive PDF",description:"Toutes les factures en PDF (ZIP)",icon:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"}],_=c=>{const s=new URLSearchParams({year:u.value});return i.value&&s.append("quarter",i.value),route("accountant.export",{user:x.client.id,type:c})+"?"+s.toString()};return(c,s)=>(a(),l(n,null,[m(v(V),{title:o.client.name},null,8,["title"]),m(D,null,{default:b(()=>[e("div",T,[m(v(A),{href:c.route("accountant.dashboard"),class:"inline-flex items-center text-sm text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-300"},{default:b(()=>[...s[2]||(s[2]=[e("svg",{class:"mr-1 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),p(" Retour ",-1)])]),_:1},8,["href"]),e("h1",M,r(o.client.name),1),o.client.vat_number?(a(),l("p",j," TVA: "+r(o.client.vat_number),1)):k("",!0)]),e("div",F,[s[5]||(s[5]=e("h2",{class:"text-lg font-medium text-slate-900 dark:text-white mb-4"},"Période",-1)),e("div",E,[e("div",null,[s[3]||(s[3]=e("label",{for:"year",class:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1"}," Année ",-1)),f(e("select",{id:"year","onUpdate:modelValue":s[0]||(s[0]=t=>u.value=t),class:"block w-full rounded-xl border-slate-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 dark:border-slate-600 dark:bg-slate-700 dark:text-white"},[(a(!0),l(n,null,d(o.years,t=>(a(),l("option",{key:t,value:t},r(t),9,B))),128))],512),[[w,u.value]])]),e("div",null,[s[4]||(s[4]=e("label",{for:"quarter",class:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1"}," Trimestre ",-1)),f(e("select",{id:"quarter","onUpdate:modelValue":s[1]||(s[1]=t=>i.value=t),class:"block w-full rounded-xl border-slate-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 dark:border-slate-600 dark:bg-slate-700 dark:text-white"},[(a(),l(n,null,d(y,t=>e("option",{key:t.value,value:t.value},r(t.label),9,C)),64))],512),[[w,i.value]])])])]),e("div",P,[s[7]||(s[7]=e("h2",{class:"text-lg font-medium text-slate-900 dark:text-white mb-4"},"Exports disponibles",-1)),e("div",S,[(a(),l(n,null,d(g,t=>e("div",{key:t.type,class:"flex items-center justify-between p-4 border border-slate-200 dark:border-slate-700 rounded-2xl"},[e("div",L,[e("div",N,[(a(),l("svg",U,[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:t.icon},null,8,J)]))]),e("div",null,[e("h3",q,r(t.title),1),e("p",z,r(t.description),1)])]),e("a",{href:_(t.type),class:"inline-flex items-center px-4 py-2 border border-transparent rounded-xl shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-500"},[...s[6]||(s[6]=[e("svg",{class:"mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})],-1),p(" Télécharger ",-1)])],8,H)])),64))])]),o.recentDownloads.length>0?(a(),l("div",I,[s[8]||(s[8]=e("h2",{class:"text-lg font-medium text-slate-900 dark:text-white mb-4"},"Téléchargements récents",-1)),e("ul",O,[(a(!0),l(n,null,d(o.recentDownloads,t=>(a(),l("li",{key:t.id,class:"py-3 flex items-center justify-between"},[e("div",null,[e("p",R,r(t.export_type_label),1),e("p",Y,"Période : "+r(t.period),1)]),e("span",$,r(t.downloaded_at),1)]))),128))])])):k("",!0)]),_:1})],64))}};export{Z as default};
