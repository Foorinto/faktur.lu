import{e as I,c as a,a as p,u as v,h as $,w as m,b as e,o as r,t as i,d as n,g as l,i as F,s as w,F as b,r as _,n as S,q as V,C as N,v as O,k as C,A as B,j as D}from"./app-B2KrZOCa.js";import{_ as Q}from"./AppLayout-CMhKAyAT.js";import"./ApplicationLogo-CBvPJGvQ.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./DropdownLink-Dw9Qk6Ag.js";const G={class:"flex items-center justify-between"},J={class:"flex items-center space-x-4"},K={class:"text-xl font-semibold text-gray-900 dark:text-white"},W={key:0,class:"text-red-600 dark:text-red-400"},X={class:"flex items-center space-x-3"},Y=["href"],Z=["disabled"],ee=["disabled"],te=["disabled"],se={class:"space-y-6"},ie={class:"grid grid-cols-1 gap-6 lg:grid-cols-2"},re={class:"overflow-hidden rounded-lg bg-white shadow dark:bg-gray-800"},ae={class:"px-6 py-4"},oe={key:0,class:"text-sm text-gray-700 dark:text-gray-300 space-y-1"},de={class:"font-semibold"},ne={key:0},le={key:1},ce={class:"pt-2"},ue={key:2},ge={class:"overflow-hidden rounded-lg bg-white shadow dark:bg-gray-800"},xe={class:"px-6 py-4"},ye={key:0,class:"text-sm text-gray-700 dark:text-gray-300 space-y-1"},ve={class:"font-semibold"},me={key:0},he={key:1},be={key:2,class:"pt-2"},fe={class:"overflow-hidden rounded-lg bg-white shadow dark:bg-gray-800"},ke={class:"px-6 py-4"},pe={class:"grid grid-cols-2 gap-4 sm:grid-cols-4"},we={class:"mt-1 text-sm text-gray-900 dark:text-white"},_e={class:"mt-1 text-sm text-gray-900 dark:text-white"},Ce={key:0},Ae={class:"mt-1 text-sm text-gray-900 dark:text-white"},Ve={key:1},ze={class:"mt-1 text-sm text-gray-900 dark:text-white"},Me={key:2},Te={class:"mt-1 text-sm text-gray-900 dark:text-white"},Fe={key:3},Se={class:"mt-1 text-sm text-gray-900 dark:text-white"},Ne={class:"overflow-hidden rounded-lg bg-white shadow dark:bg-gray-800"},Be={class:"overflow-x-auto"},De={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},Le={class:"divide-y divide-gray-200 bg-white dark:divide-gray-700 dark:bg-gray-800"},je={class:"py-4 pl-6 pr-3 text-sm text-gray-900 dark:text-white"},He={class:"whitespace-nowrap px-3 py-4 text-right text-sm text-gray-500 dark:text-gray-400"},Re={class:"whitespace-nowrap px-3 py-4 text-right text-sm text-gray-500 dark:text-gray-400"},Ee={class:"whitespace-nowrap px-3 py-4 text-right text-sm text-gray-500 dark:text-gray-400"},Pe={class:"whitespace-nowrap py-4 pl-3 pr-6 text-right text-sm font-medium text-gray-900 dark:text-white"},Ue={class:"bg-gray-50 dark:bg-gray-700"},qe={class:"whitespace-nowrap py-3 pl-3 pr-6 text-right text-sm font-medium text-gray-900 dark:text-white"},Ie={class:"whitespace-nowrap py-3 pl-3 pr-6 text-right text-sm font-medium text-gray-900 dark:text-white"},$e={class:"border-t-2 border-gray-300 dark:border-gray-600"},Oe={key:0,class:"overflow-hidden rounded-lg bg-white shadow dark:bg-gray-800"},Qe={class:"px-6 py-4"},Ge={class:"text-sm text-gray-700 dark:text-gray-300 whitespace-pre-wrap"},Je={key:1,class:"overflow-hidden rounded-lg bg-white shadow dark:bg-gray-800"},Ke={class:"px-6 py-4"},We={class:"divide-y divide-gray-200 dark:divide-gray-700"},Xe={class:"text-sm text-red-600 dark:text-red-400"},Ye={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},Ze={class:"flex min-h-screen items-end justify-center px-4 pt-4 pb-20 text-center sm:block sm:p-0"},et={class:"inline-block transform overflow-hidden rounded-lg bg-white text-left align-bottom shadow-xl transition-all dark:bg-gray-800 sm:my-8 sm:w-full sm:max-w-lg sm:align-middle"},tt={class:"px-4 pt-5 pb-4 sm:p-6"},st={class:"text-lg font-medium leading-6 text-gray-900 dark:text-white mb-4"},it={class:"mb-4"},rt={class:"flex space-x-4"},at={class:"flex items-center"},ot={class:"flex items-center"},dt={class:"mb-4"},nt=["value"],lt={key:0,class:"mb-4"},ct={class:"border rounded-md divide-y dark:border-gray-600 dark:divide-gray-600 max-h-48 overflow-y-auto"},ut=["checked","onChange"],gt={class:"ml-3 flex-1 text-sm text-gray-700 dark:text-gray-300"},xt={class:"text-sm text-gray-500 dark:text-gray-400"},yt={key:0,class:"mt-2 text-sm text-red-600 dark:text-red-400"},vt={class:"bg-gray-50 dark:bg-gray-700 rounded-md p-3 mb-4"},mt={class:"flex justify-between items-center"},ht={class:"text-lg font-bold text-red-600 dark:text-red-400"},bt={class:"bg-gray-50 px-4 py-3 dark:bg-gray-700 sm:flex sm:flex-row-reverse sm:px-6"},ft=["disabled"],At={__name:"Show",props:{invoice:Object},setup(s){const h=s,c=C(!1),f=C(!1),u=C("full"),g=C([]),x=I({reason:"cancellation",item_ids:null}),z={billing_error:"Erreur de facturation",return:"Retour de marchandise",commercial_discount:"Remise commerciale",cancellation:"Annulation de la facture",other:"Autre"},M=B(()=>u.value==="partial"?g.value.length>0:!0),L=B(()=>h.invoice.items?h.invoice.items.filter(d=>g.value.includes(d.id)).reduce((d,t)=>d+parseFloat(t.total_ttc||0),0):0),j=d=>{const t={draft:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",finalized:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300",sent:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300",paid:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",cancelled:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300"};return t[d]||t.draft},H=d=>({draft:"Brouillon",finalized:"Finalisée",sent:"Envoyée",paid:"Payée",cancelled:"Annulée"})[d]||d,y=(d,t="EUR")=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:t}).format(d),k=d=>d?new Date(d).toLocaleDateString("fr-FR"):"-",R=()=>{c.value||(c.value=!0,D.post(route("invoices.mark-sent",h.invoice.id),{},{preserveScroll:!0,onFinish:()=>c.value=!1}))},E=()=>{c.value||(c.value=!0,D.post(route("invoices.mark-paid",h.invoice.id),{},{preserveScroll:!0,onFinish:()=>c.value=!1}))},P=()=>{u.value="full",g.value=[],x.reason="cancellation",x.item_ids=null,f.value=!0},T=()=>{f.value=!1},U=d=>{const t=g.value.indexOf(d);t===-1?g.value.push(d):g.value.splice(t,1)},q=()=>{M.value&&(u.value==="partial"?x.item_ids=g.value:x.item_ids=null,x.post(route("invoices.credit-note",h.invoice.id),{preserveScroll:!0,onSuccess:()=>{f.value=!1}}))};return(d,t)=>(r(),a(b,null,[p(v($),{title:`Facture ${s.invoice.number}`},null,8,["title"]),p(Q,null,{header:m(()=>[e("div",G,[e("div",J,[p(v(w),{href:d.route("invoices.index"),class:"text-gray-400 hover:text-gray-500 dark:text-gray-500 dark:hover:text-gray-400"},{default:m(()=>[...t[3]||(t[3]=[e("svg",{class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M17 10a.75.75 0 01-.75.75H5.612l4.158 3.96a.75.75 0 11-1.04 1.08l-5.5-5.25a.75.75 0 010-1.08l5.5-5.25a.75.75 0 111.04 1.08L5.612 9.25H16.25A.75.75 0 0117 10z","clip-rule":"evenodd"})],-1)])]),_:1},8,["href"]),e("h1",K,[s.invoice.type==="credit_note"?(r(),a("span",W,"Avoir ")):n("",!0),l(" "+i(s.invoice.number),1)]),e("span",{class:S([j(s.invoice.status),"inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium"])},i(H(s.invoice.status)),3)]),e("div",X,[e("a",{href:d.route("invoices.pdf.stream",s.invoice.id),target:"_blank",class:"inline-flex items-center rounded-md border border-gray-300 bg-white px-3 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600"},[...t[4]||(t[4]=[e("svg",{class:"-ml-0.5 mr-1.5 h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{d:"M10.75 2.75a.75.75 0 00-1.5 0v8.614L6.295 8.235a.75.75 0 10-1.09 1.03l4.25 4.5a.75.75 0 001.09 0l4.25-4.5a.75.75 0 00-1.09-1.03l-2.955 3.129V2.75z"}),e("path",{d:"M3.5 12.75a.75.75 0 00-1.5 0v2.5A2.75 2.75 0 004.75 18h10.5A2.75 2.75 0 0018 15.25v-2.5a.75.75 0 00-1.5 0v2.5c0 .69-.56 1.25-1.25 1.25H4.75c-.69 0-1.25-.56-1.25-1.25v-2.5z"})],-1),l(" PDF ",-1)])],8,Y),s.invoice.status==="finalized"?(r(),a("button",{key:0,onClick:R,disabled:c.value,class:"inline-flex items-center rounded-md bg-yellow-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-yellow-500 disabled:opacity-50"},[...t[5]||(t[5]=[e("svg",{class:"-ml-0.5 mr-1.5 h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{d:"M3 4a2 2 0 00-2 2v1.161l8.441 4.221a1.25 1.25 0 001.118 0L19 7.162V6a2 2 0 00-2-2H3z"}),e("path",{d:"M19 8.839l-7.77 3.885a2.75 2.75 0 01-2.46 0L1 8.839V14a2 2 0 002 2h14a2 2 0 002-2V8.839z"})],-1),l(" Marquer envoyée ",-1)])],8,Z)):n("",!0),s.invoice.status==="sent"?(r(),a("button",{key:1,onClick:E,disabled:c.value,class:"inline-flex items-center rounded-md bg-green-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-green-500 disabled:opacity-50"},[...t[6]||(t[6]=[e("svg",{class:"-ml-0.5 mr-1.5 h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z","clip-rule":"evenodd"})],-1),l(" Marquer payée ",-1)])],8,ee)):n("",!0),s.invoice.type==="invoice"&&["finalized","sent","paid"].includes(s.invoice.status)&&!s.invoice.credit_note?(r(),a("button",{key:2,onClick:P,disabled:c.value,class:"inline-flex items-center rounded-md border border-red-300 bg-white px-3 py-2 text-sm font-medium text-red-700 shadow-sm hover:bg-red-50 dark:border-red-600 dark:bg-gray-700 dark:text-red-400 dark:hover:bg-gray-600"},[...t[7]||(t[7]=[e("svg",{class:"-ml-0.5 mr-1.5 h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M4 2a2 2 0 00-2 2v11a3 3 0 106 0V4a2 2 0 00-2-2H4zm1 14a1 1 0 100-2 1 1 0 000 2zm5-1.757l4.9-4.9a2.121 2.121 0 013 3l-4.9 4.9a2.121 2.121 0 01-1.5.621h-1a.5.5 0 01-.5-.5v-1a2.121 2.121 0 01.621-1.5z","clip-rule":"evenodd"})],-1),l(" Créer un avoir ",-1)])],8,te)):n("",!0)])])]),default:m(()=>[e("div",se,[e("div",ie,[e("div",re,[t[10]||(t[10]=e("div",{class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},[e("h2",{class:"text-lg font-medium text-gray-900 dark:text-white"},"Émetteur")],-1)),e("div",ae,[s.invoice.seller_snapshot?(r(),a("div",oe,[e("p",de,i(s.invoice.seller_snapshot.company_name),1),s.invoice.seller_snapshot.legal_name?(r(),a("p",ne,i(s.invoice.seller_snapshot.legal_name),1)):n("",!0),e("p",null,i(s.invoice.seller_snapshot.address_line1),1),s.invoice.seller_snapshot.address_line2?(r(),a("p",le,i(s.invoice.seller_snapshot.address_line2),1)):n("",!0),e("p",null,i(s.invoice.seller_snapshot.postal_code)+" "+i(s.invoice.seller_snapshot.city),1),e("p",null,i(s.invoice.seller_snapshot.country),1),e("p",ce,[t[8]||(t[8]=e("span",{class:"text-gray-500"},"Matricule:",-1)),l(" "+i(s.invoice.seller_snapshot.matricule),1)]),s.invoice.seller_snapshot.vat_number?(r(),a("p",ue,[t[9]||(t[9]=e("span",{class:"text-gray-500"},"N° TVA:",-1)),l(" "+i(s.invoice.seller_snapshot.vat_number),1)])):n("",!0)])):n("",!0)])]),e("div",ge,[t[12]||(t[12]=e("div",{class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},[e("h2",{class:"text-lg font-medium text-gray-900 dark:text-white"},"Client")],-1)),e("div",xe,[s.invoice.buyer_snapshot?(r(),a("div",ye,[e("p",ve,i(s.invoice.buyer_snapshot.name),1),s.invoice.buyer_snapshot.company_name?(r(),a("p",me,i(s.invoice.buyer_snapshot.company_name),1)):n("",!0),e("p",null,i(s.invoice.buyer_snapshot.address_line1),1),s.invoice.buyer_snapshot.address_line2?(r(),a("p",he,i(s.invoice.buyer_snapshot.address_line2),1)):n("",!0),e("p",null,i(s.invoice.buyer_snapshot.postal_code)+" "+i(s.invoice.buyer_snapshot.city),1),e("p",null,i(s.invoice.buyer_snapshot.country),1),s.invoice.buyer_snapshot.vat_number?(r(),a("p",be,[t[11]||(t[11]=e("span",{class:"text-gray-500"},"N° TVA:",-1)),l(" "+i(s.invoice.buyer_snapshot.vat_number),1)])):n("",!0)])):n("",!0)])])]),e("div",fe,[t[20]||(t[20]=e("div",{class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},[e("h2",{class:"text-lg font-medium text-gray-900 dark:text-white"},"Détails")],-1)),e("div",ke,[e("dl",pe,[e("div",null,[t[13]||(t[13]=e("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Date d'émission",-1)),e("dd",we,i(k(s.invoice.issued_at)),1)]),e("div",null,[t[14]||(t[14]=e("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Date d'échéance",-1)),e("dd",_e,i(k(s.invoice.due_at)),1)]),s.invoice.sent_at?(r(),a("div",Ce,[t[15]||(t[15]=e("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Envoyée le",-1)),e("dd",Ae,i(k(s.invoice.sent_at)),1)])):n("",!0),s.invoice.paid_at?(r(),a("div",Ve,[t[16]||(t[16]=e("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Payée le",-1)),e("dd",ze,i(k(s.invoice.paid_at)),1)])):n("",!0),s.invoice.credit_note_for?(r(),a("div",Me,[t[18]||(t[18]=e("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Avoir pour",-1)),e("dd",Te,[s.invoice.original_invoice?(r(),F(v(w),{key:0,href:d.route("invoices.show",s.invoice.credit_note_for),class:"text-indigo-600 hover:text-indigo-500 dark:text-indigo-400"},{default:m(()=>[l(" Facture "+i(s.invoice.original_invoice.number),1)]),_:1},8,["href"])):(r(),F(v(w),{key:1,href:d.route("invoices.show",s.invoice.credit_note_for),class:"text-indigo-600 hover:text-indigo-500 dark:text-indigo-400"},{default:m(()=>[...t[17]||(t[17]=[l(" Voir la facture originale ",-1)])]),_:1},8,["href"]))])])):n("",!0),s.invoice.credit_note_reason?(r(),a("div",Fe,[t[19]||(t[19]=e("dt",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Motif",-1)),e("dd",Se,i(z[s.invoice.credit_note_reason]||s.invoice.credit_note_reason),1)])):n("",!0)])])]),e("div",Ne,[t[25]||(t[25]=e("div",{class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},[e("h2",{class:"text-lg font-medium text-gray-900 dark:text-white"},"Lignes de facture")],-1)),e("div",Be,[e("table",De,[t[24]||(t[24]=e("thead",{class:"bg-gray-50 dark:bg-gray-700"},[e("tr",null,[e("th",{class:"py-3.5 pl-6 pr-3 text-left text-sm font-semibold text-gray-900 dark:text-white"}," Description "),e("th",{class:"px-3 py-3.5 text-right text-sm font-semibold text-gray-900 dark:text-white"}," Qté "),e("th",{class:"px-3 py-3.5 text-right text-sm font-semibold text-gray-900 dark:text-white"}," Prix HT "),e("th",{class:"px-3 py-3.5 text-right text-sm font-semibold text-gray-900 dark:text-white"}," TVA "),e("th",{class:"py-3.5 pl-3 pr-6 text-right text-sm font-semibold text-gray-900 dark:text-white"}," Total HT ")])],-1)),e("tbody",Le,[(r(!0),a(b,null,_(s.invoice.items,o=>(r(),a("tr",{key:o.id},[e("td",je,i(o.description),1),e("td",He,i(o.quantity),1),e("td",Re,i(y(o.unit_price,s.invoice.currency)),1),e("td",Ee,i(o.vat_rate)+"% ",1),e("td",Pe,i(y(o.total_ht,s.invoice.currency)),1)]))),128))]),e("tfoot",Ue,[e("tr",null,[t[21]||(t[21]=e("td",{colspan:"4",class:"py-3 pl-6 pr-3 text-right text-sm font-medium text-gray-500 dark:text-gray-400"}," Total HT ",-1)),e("td",qe,i(y(s.invoice.total_ht,s.invoice.currency)),1)]),e("tr",null,[t[22]||(t[22]=e("td",{colspan:"4",class:"py-3 pl-6 pr-3 text-right text-sm font-medium text-gray-500 dark:text-gray-400"}," Total TVA ",-1)),e("td",Ie,i(y(s.invoice.total_vat,s.invoice.currency)),1)]),e("tr",$e,[t[23]||(t[23]=e("td",{colspan:"4",class:"py-3 pl-6 pr-3 text-right text-sm font-bold text-gray-900 dark:text-white"}," Total TTC ",-1)),e("td",{class:S(["whitespace-nowrap py-3 pl-3 pr-6 text-right text-sm font-bold",s.invoice.type==="credit_note"?"text-red-600 dark:text-red-400":"text-gray-900 dark:text-white"])},i(y(s.invoice.total_ttc,s.invoice.currency)),3)])])])])]),s.invoice.notes?(r(),a("div",Oe,[t[26]||(t[26]=e("div",{class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},[e("h2",{class:"text-lg font-medium text-gray-900 dark:text-white"},"Notes")],-1)),e("div",Qe,[e("p",Ge,i(s.invoice.notes),1)])])):n("",!0),s.invoice.credit_notes&&s.invoice.credit_notes.length>0?(r(),a("div",Je,[t[27]||(t[27]=e("div",{class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},[e("h2",{class:"text-lg font-medium text-gray-900 dark:text-white"},"Avoirs associés")],-1)),e("div",Ke,[e("ul",We,[(r(!0),a(b,null,_(s.invoice.credit_notes,o=>(r(),a("li",{key:o.id,class:"py-3 flex justify-between items-center"},[p(v(w),{href:d.route("invoices.show",o.id),class:"text-indigo-600 hover:text-indigo-500 dark:text-indigo-400"},{default:m(()=>[l(i(o.number),1)]),_:2},1032,["href"]),e("span",Xe,i(y(o.total_ttc,o.currency)),1)]))),128))])])])):n("",!0)]),f.value?(r(),a("div",Ye,[e("div",Ze,[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:T}),e("div",et,[e("div",tt,[e("h3",st," Créer un avoir pour "+i(s.invoice.number),1),e("div",it,[t[30]||(t[30]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Type d'avoir ",-1)),e("div",rt,[e("label",at,[V(e("input",{type:"radio","onUpdate:modelValue":t[0]||(t[0]=o=>u.value=o),value:"full",class:"h-4 w-4 text-indigo-600 border-gray-300 focus:ring-indigo-500"},null,512),[[N,u.value]]),t[28]||(t[28]=e("span",{class:"ml-2 text-sm text-gray-700 dark:text-gray-300"},"Avoir total",-1))]),e("label",ot,[V(e("input",{type:"radio","onUpdate:modelValue":t[1]||(t[1]=o=>u.value=o),value:"partial",class:"h-4 w-4 text-indigo-600 border-gray-300 focus:ring-indigo-500"},null,512),[[N,u.value]]),t[29]||(t[29]=e("span",{class:"ml-2 text-sm text-gray-700 dark:text-gray-300"},"Avoir partiel",-1))])])]),e("div",dt,[t[31]||(t[31]=e("label",{for:"credit_note_reason",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Motif de l'avoir ",-1)),V(e("select",{id:"credit_note_reason","onUpdate:modelValue":t[2]||(t[2]=o=>v(x).reason=o),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white"},[(r(),a(b,null,_(z,(o,A)=>e("option",{key:A,value:A},i(o),9,nt)),64))],512),[[O,v(x).reason]])]),u.value==="partial"?(r(),a("div",lt,[t[32]||(t[32]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Lignes à annuler ",-1)),e("div",ct,[(r(!0),a(b,null,_(s.invoice.items,o=>(r(),a("label",{key:o.id,class:"flex items-center px-3 py-2 hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer"},[e("input",{type:"checkbox",checked:g.value.includes(o.id),onChange:A=>U(o.id),class:"h-4 w-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"},null,40,ut),e("span",gt,i(o.title||o.description),1),e("span",xt,i(y(o.total_ttc,s.invoice.currency)),1)]))),128))]),g.value.length===0?(r(),a("p",yt," Veuillez sélectionner au moins une ligne. ")):n("",!0)])):n("",!0),e("div",vt,[e("div",mt,[t[33]||(t[33]=e("span",{class:"text-sm font-medium text-gray-700 dark:text-gray-300"}," Montant de l'avoir : ",-1)),e("span",ht,i(u.value==="partial"?y(-L.value,s.invoice.currency):y(-s.invoice.total_ttc,s.invoice.currency)),1)])]),t[34]||(t[34]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Un brouillon d'avoir sera créé. Vous pourrez le modifier avant de le finaliser. ",-1))]),e("div",bt,[e("button",{type:"button",onClick:q,disabled:!M.value||v(x).processing,class:"inline-flex w-full justify-center rounded-md bg-red-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-red-500 disabled:opacity-50 sm:ml-3 sm:w-auto"},i(v(x).processing?"Création...":"Créer l'avoir"),9,ft),e("button",{type:"button",onClick:T,class:"mt-3 inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 dark:bg-gray-600 dark:text-white dark:ring-gray-500 sm:mt-0 sm:w-auto"}," Annuler ")])])])])):n("",!0)]),_:1})],64))}};export{At as default};
