import{r as _,z as v,p as w,c as i,a as b,b as x,h as S,i as p,d as t,t as a,o as y,F as g,j as k,l as T,f as j,k as C,B as N}from"./app-B97I2Oxk.js";import{_ as V}from"./AppLayout-BV7HVWRJ.js";import{u as A}from"./useTranslations-C4Y-NByF.js";import"./ApplicationLogo-DwcnZXn5.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./DropdownLink-C30LA8Zs.js";const B={class:"flex items-center justify-between"},D={class:"flex items-center space-x-4"},F={class:"text-xl font-semibold text-gray-900 dark:text-white"},H=["value"],M={class:"mb-6 grid grid-cols-1 gap-4 sm:grid-cols-4"},O={class:"overflow-hidden rounded-lg bg-white shadow dark:bg-gray-800 px-4 py-5"},z={class:"truncate text-sm font-medium text-gray-500 dark:text-gray-400"},E={class:"mt-1 text-2xl font-semibold text-gray-900 dark:text-white"},L={class:"overflow-hidden rounded-lg bg-white shadow dark:bg-gray-800 px-4 py-5"},P={class:"mt-1 text-2xl font-semibold text-green-600 dark:text-green-400"},R={class:"overflow-hidden rounded-lg bg-white shadow dark:bg-gray-800 px-4 py-5"},U={class:"mt-1 text-2xl font-semibold text-gray-900 dark:text-white"},I={class:"overflow-hidden rounded-lg bg-white shadow dark:bg-gray-800 px-4 py-5"},$={class:"mt-1 text-2xl font-semibold text-gray-900 dark:text-white"},q={class:"grid grid-cols-1 gap-6 lg:grid-cols-2"},G={class:"overflow-hidden rounded-lg bg-white shadow dark:bg-gray-800"},J={class:"overflow-x-auto"},K={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},Q={class:"divide-y divide-gray-200 bg-white dark:divide-gray-700 dark:bg-gray-800"},W={class:"py-3 pl-6 pr-3 text-sm text-gray-900 dark:text-white"},X={class:"px-3 py-3 text-right text-sm text-gray-500 dark:text-gray-400"},Y={class:"px-3 py-3 text-right text-sm text-gray-500 dark:text-gray-400"},Z={class:"py-3 pl-3 pr-6 text-right text-sm text-gray-500 dark:text-gray-400"},tt={class:"bg-gray-50 dark:bg-gray-700"},et={class:"px-3 py-3 text-right text-sm font-semibold text-gray-900 dark:text-white"},at={class:"px-3 py-3 text-right text-sm font-semibold text-gray-900 dark:text-white"},rt={class:"py-3 pl-3 pr-6 text-right text-sm font-semibold text-gray-900 dark:text-white"},st={class:"overflow-hidden rounded-lg bg-white shadow dark:bg-gray-800"},dt={class:"overflow-x-auto"},ot={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},lt={class:"divide-y divide-gray-200 bg-white dark:divide-gray-700 dark:bg-gray-800"},it={class:"py-3 pl-6 pr-3 text-sm text-gray-900 dark:text-white"},yt={class:"px-3 py-3 text-right text-sm text-gray-500 dark:text-gray-400"},nt={class:"px-3 py-3 text-right text-sm text-gray-500 dark:text-gray-400"},xt={class:"py-3 pl-3 pr-6 text-right text-sm text-gray-500 dark:text-gray-400"},gt={class:"bg-gray-50 dark:bg-gray-700"},mt={class:"px-3 py-3 text-right text-sm font-semibold text-gray-900 dark:text-white"},ht={class:"px-3 py-3 text-right text-sm font-semibold text-gray-900 dark:text-white"},ct={class:"py-3 pl-3 pr-6 text-right text-sm font-semibold text-gray-900 dark:text-white"},vt={__name:"Summary",props:{year:[String,Number],years:Array,monthlySummary:Object,yearSummary:Object,categories:Object},setup(r){const{t:s}=A(),m=r,h=_(String(m.year)),f=N(()=>[{key:"01",label:s("months.january")},{key:"02",label:s("months.february")},{key:"03",label:s("months.march")},{key:"04",label:s("months.april")},{key:"05",label:s("months.may")},{key:"06",label:s("months.june")},{key:"07",label:s("months.july")},{key:"08",label:s("months.august")},{key:"09",label:s("months.september")},{key:"10",label:s("months.october")},{key:"11",label:s("months.november")},{key:"12",label:s("months.december")}]);v(h,l=>{w.get(route("expenses.summary"),{year:l},{preserveState:!0,replace:!0})});const o=l=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}).format(l||0),c=l=>m.monthlySummary[l]||{total_ht:0,total_vat:0,total_ttc:0,count:0},u=l=>m.yearSummary.by_category[l]||{total_ht:0,total_vat:0,count:0};return(l,e)=>(y(),i(g,null,[b(x(S),{title:x(s)("expenses_summary")},null,8,["title"]),b(V,null,{header:p(()=>[t("div",B,[t("div",D,[b(x(T),{href:l.route("expenses.index"),class:"text-gray-400 hover:text-gray-500 dark:text-gray-500 dark:hover:text-gray-400"},{default:p(()=>[...e[1]||(e[1]=[t("svg",{class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M17 10a.75.75 0 01-.75.75H5.612l4.158 3.96a.75.75 0 11-1.04 1.08l-5.5-5.25a.75.75 0 010-1.08l5.5-5.25a.75.75 0 111.04 1.08L5.612 9.25H16.25A.75.75 0 0117 10z","clip-rule":"evenodd"})],-1)])]),_:1},8,["href"]),t("h1",F,a(x(s)("expenses_summary")),1)]),j(t("select",{"onUpdate:modelValue":e[0]||(e[0]=d=>h.value=d),class:"rounded-md border-0 py-1.5 pl-3 pr-10 text-gray-900 ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-indigo-600 dark:bg-gray-800 dark:text-white dark:ring-gray-600 sm:text-sm"},[(y(!0),i(g,null,k(r.years,d=>(y(),i("option",{key:d,value:d},a(d),9,H))),128))],512),[[C,h.value]])])]),default:p(()=>[t("div",M,[t("div",O,[t("dt",z,"Total HT "+a(r.year),1),t("dd",E,a(o(r.yearSummary.total_ht)),1)]),t("div",L,[e[2]||(e[2]=t("dt",{class:"truncate text-sm font-medium text-gray-500 dark:text-gray-400"},"TVA récupérable",-1)),t("dd",P,a(o(r.yearSummary.total_vat)),1)]),t("div",R,[e[3]||(e[3]=t("dt",{class:"truncate text-sm font-medium text-gray-500 dark:text-gray-400"},"Total TTC",-1)),t("dd",U,a(o(r.yearSummary.total_ttc)),1)]),t("div",I,[e[4]||(e[4]=t("dt",{class:"truncate text-sm font-medium text-gray-500 dark:text-gray-400"},"Dépenses",-1)),t("dd",$,a(r.yearSummary.count),1)])]),t("div",q,[t("div",G,[e[7]||(e[7]=t("div",{class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},[t("h2",{class:"text-lg font-medium text-gray-900 dark:text-white"},"Par mois")],-1)),t("div",J,[t("table",K,[e[6]||(e[6]=t("thead",{class:"bg-gray-50 dark:bg-gray-700"},[t("tr",null,[t("th",{class:"py-3 pl-6 pr-3 text-left text-sm font-semibold text-gray-900 dark:text-white"},"Mois"),t("th",{class:"px-3 py-3 text-right text-sm font-semibold text-gray-900 dark:text-white"},"HT"),t("th",{class:"px-3 py-3 text-right text-sm font-semibold text-gray-900 dark:text-white"},"TVA"),t("th",{class:"py-3 pl-3 pr-6 text-right text-sm font-semibold text-gray-900 dark:text-white"},"Nb")])],-1)),t("tbody",Q,[(y(!0),i(g,null,k(f.value,d=>(y(),i("tr",{key:d.key},[t("td",W,a(d.label),1),t("td",X,a(o(c(d.key).total_ht)),1),t("td",Y,a(o(c(d.key).total_vat)),1),t("td",Z,a(c(d.key).count||0),1)]))),128))]),t("tfoot",tt,[t("tr",null,[e[5]||(e[5]=t("td",{class:"py-3 pl-6 pr-3 text-sm font-semibold text-gray-900 dark:text-white"},"Total",-1)),t("td",et,a(o(r.yearSummary.total_ht)),1),t("td",at,a(o(r.yearSummary.total_vat)),1),t("td",rt,a(r.yearSummary.count),1)])])])])]),t("div",st,[e[10]||(e[10]=t("div",{class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},[t("h2",{class:"text-lg font-medium text-gray-900 dark:text-white"},"Par catégorie")],-1)),t("div",dt,[t("table",ot,[e[9]||(e[9]=t("thead",{class:"bg-gray-50 dark:bg-gray-700"},[t("tr",null,[t("th",{class:"py-3 pl-6 pr-3 text-left text-sm font-semibold text-gray-900 dark:text-white"},"Catégorie"),t("th",{class:"px-3 py-3 text-right text-sm font-semibold text-gray-900 dark:text-white"},"HT"),t("th",{class:"px-3 py-3 text-right text-sm font-semibold text-gray-900 dark:text-white"},"TVA"),t("th",{class:"py-3 pl-3 pr-6 text-right text-sm font-semibold text-gray-900 dark:text-white"},"Nb")])],-1)),t("tbody",lt,[(y(!0),i(g,null,k(r.categories,(d,n)=>(y(),i("tr",{key:n},[t("td",it,a(d),1),t("td",yt,a(o(u(n).total_ht)),1),t("td",nt,a(o(u(n).total_vat)),1),t("td",xt,a(u(n).count||0),1)]))),128))]),t("tfoot",gt,[t("tr",null,[e[8]||(e[8]=t("td",{class:"py-3 pl-6 pr-3 text-sm font-semibold text-gray-900 dark:text-white"},"Total",-1)),t("td",mt,a(o(r.yearSummary.total_ht)),1),t("td",ht,a(o(r.yearSummary.total_vat)),1),t("td",ct,a(r.yearSummary.count),1)])])])])])])]),_:1})],64))}};export{vt as default};
