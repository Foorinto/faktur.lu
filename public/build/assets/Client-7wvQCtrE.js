import{r as x,c as s,a as h,b as p,h as _,i as v,d as e,l as V,e as b,t as l,o as r,g as f,f as k,F as i,j as c,k as g}from"./app-BM4k7HEV.js";import{_ as S}from"./AccountantLayout-DaJeLx9M.js";const A={class:"mb-6"},F={class:"mt-2 text-2xl font-bold text-slate-900 dark:text-white"},B={key:0,class:"text-sm text-slate-500 dark:text-slate-400"},C={class:"bg-white dark:bg-slate-800 rounded-2xl shadow p-6 mb-6"},D={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},T=["value"],j=["value"],E={class:"bg-white dark:bg-slate-800 rounded-2xl shadow p-6 mb-6"},P={class:"space-y-4"},z={class:"flex items-center space-x-4"},H={class:"flex-shrink-0 w-10 h-10 rounded-full bg-primary-100 dark:bg-primary-900 flex items-center justify-center"},I={class:"w-5 h-5 text-primary-600 dark:text-primary-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},L=["d"],N={class:"text-sm font-medium text-slate-900 dark:text-white"},O={class:"text-sm text-slate-500 dark:text-slate-400"},U=["href"],q={key:0,class:"bg-white dark:bg-slate-800 rounded-2xl shadow p-6"},J={class:"divide-y divide-slate-200 dark:divide-slate-700"},R={class:"text-sm font-medium text-slate-900 dark:text-white"},Y={class:"text-xs text-slate-500 dark:text-slate-400"},$={class:"text-xs text-slate-400"},X={__name:"Client",props:{client:Object,years:Array,recentDownloads:Array},setup(o){const u=o,m=x(u.years[0]||new Date().getFullYear()),d=x(null),w=[{value:null,label:"Année complète"},{value:1,label:"T1 (Jan-Mar)"},{value:2,label:"T2 (Avr-Jun)"},{value:3,label:"T3 (Jul-Sep)"},{value:4,label:"T4 (Oct-Déc)"}],y=[{type:"faia",title:"Export FAIA (XML)",description:"Format standard pour l'AED Luxembourg",icon:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"},{type:"excel",title:"Export Excel",description:"Factures et avoirs en format tableur",icon:"M3 10h18M3 14h18m-9-4v8m-7 0h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"},{type:"pdf_archive",title:"Archive PDF",description:"Toutes les factures en PDF (ZIP)",icon:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"},{type:"accounting/generic",title:"Export comptable (CSV)",description:"Format CSV générique pour logiciels comptables",icon:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"},{type:"accounting/sage_bob",title:"Sage BOB 50 (ASCII)",description:"Format d'import pour Sage BOB 50",icon:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"},{type:"accounting/sage_100",title:"Sage 100 (CSV)",description:"Format d'import pour Sage 100",icon:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"}],M=n=>{const a=new URLSearchParams({year:m.value});if(d.value&&a.append("quarter",d.value),n.startsWith("accounting/")){const t=n.replace("accounting/","");return route("accountant.accounting-export",{user:u.client.id,format:t})+"?"+a.toString()}return route("accountant.export",{user:u.client.id,type:n})+"?"+a.toString()};return(n,a)=>(r(),s(i,null,[h(p(_),{title:o.client.name},null,8,["title"]),h(S,null,{default:v(()=>[e("div",A,[h(p(V),{href:n.route("accountant.dashboard"),class:"inline-flex items-center text-sm text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-300"},{default:v(()=>[...a[2]||(a[2]=[e("svg",{class:"mr-1 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),b(" Retour ",-1)])]),_:1},8,["href"]),e("h1",F,l(o.client.name),1),o.client.vat_number?(r(),s("p",B," TVA: "+l(o.client.vat_number),1)):f("",!0)]),e("div",C,[a[5]||(a[5]=e("h2",{class:"text-lg font-medium text-slate-900 dark:text-white mb-4"},"Période",-1)),e("div",D,[e("div",null,[a[3]||(a[3]=e("label",{for:"year",class:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1"}," Année ",-1)),k(e("select",{id:"year","onUpdate:modelValue":a[0]||(a[0]=t=>m.value=t),class:"block w-full rounded-xl border-slate-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 dark:border-slate-600 dark:bg-slate-700 dark:text-white"},[(r(!0),s(i,null,c(o.years,t=>(r(),s("option",{key:t,value:t},l(t),9,T))),128))],512),[[g,m.value]])]),e("div",null,[a[4]||(a[4]=e("label",{for:"quarter",class:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1"}," Trimestre ",-1)),k(e("select",{id:"quarter","onUpdate:modelValue":a[1]||(a[1]=t=>d.value=t),class:"block w-full rounded-xl border-slate-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 dark:border-slate-600 dark:bg-slate-700 dark:text-white"},[(r(),s(i,null,c(w,t=>e("option",{key:t.value,value:t.value},l(t.label),9,j)),64))],512),[[g,d.value]])])])]),e("div",E,[a[7]||(a[7]=e("h2",{class:"text-lg font-medium text-slate-900 dark:text-white mb-4"},"Exports disponibles",-1)),e("div",P,[(r(),s(i,null,c(y,t=>e("div",{key:t.type,class:"flex items-center justify-between p-4 border border-slate-200 dark:border-slate-700 rounded-2xl"},[e("div",z,[e("div",H,[(r(),s("svg",I,[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:t.icon},null,8,L)]))]),e("div",null,[e("h3",N,l(t.title),1),e("p",O,l(t.description),1)])]),e("a",{href:M(t.type),class:"inline-flex items-center px-4 py-2 border border-transparent rounded-xl shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-500"},[...a[6]||(a[6]=[e("svg",{class:"mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})],-1),b(" Télécharger ",-1)])],8,U)])),64))])]),o.recentDownloads.length>0?(r(),s("div",q,[a[8]||(a[8]=e("h2",{class:"text-lg font-medium text-slate-900 dark:text-white mb-4"},"Téléchargements récents",-1)),e("ul",J,[(r(!0),s(i,null,c(o.recentDownloads,t=>(r(),s("li",{key:t.id,class:"py-3 flex items-center justify-between"},[e("div",null,[e("p",R,l(t.export_type_label),1),e("p",Y,"Période : "+l(t.period),1)]),e("span",$,l(t.downloaded_at),1)]))),128))])])):f("",!0)]),_:1})],64))}};export{X as default};
