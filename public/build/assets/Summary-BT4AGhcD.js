import{r as _,y as v,p as w,c as i,a as p,b as m,h as S,i as k,d as t,t as s,o as n,F as h,j as g,l as T,f as j,k as C,B as N}from"./app-D_LDRm1B.js";import{_ as V}from"./AppLayout-BC_wZ4HX.js";import{u as A}from"./useTranslations-B3pYzZx2.js";import"./DropdownLink-AqUa-DAr.js";const B={class:"flex items-center justify-between"},D={class:"flex items-center space-x-4"},F={class:"text-xl font-semibold text-slate-900 dark:text-white"},H=["value"],M={class:"mb-6 grid grid-cols-1 gap-4 sm:grid-cols-4"},O={class:"overflow-hidden rounded-2xl bg-white shadow dark:bg-slate-800 px-4 py-5"},E={class:"truncate text-sm font-medium text-slate-500 dark:text-slate-400"},L={class:"mt-1 text-2xl font-semibold text-slate-900 dark:text-white"},P={class:"overflow-hidden rounded-2xl bg-white shadow dark:bg-slate-800 px-4 py-5"},R={class:"mt-1 text-2xl font-semibold text-green-600 dark:text-green-400"},U={class:"overflow-hidden rounded-2xl bg-white shadow dark:bg-slate-800 px-4 py-5"},z={class:"mt-1 text-2xl font-semibold text-slate-900 dark:text-white"},I={class:"overflow-hidden rounded-2xl bg-white shadow dark:bg-slate-800 px-4 py-5"},$={class:"mt-1 text-2xl font-semibold text-slate-900 dark:text-white"},q={class:"grid grid-cols-1 gap-6 lg:grid-cols-2"},G={class:"overflow-hidden rounded-2xl bg-white shadow dark:bg-slate-800"},J={class:"overflow-x-auto"},K={class:"min-w-full divide-y divide-slate-200 dark:divide-slate-700"},Q={class:"divide-y divide-slate-200 bg-white dark:divide-slate-700 dark:bg-slate-800"},W={class:"py-3 pl-6 pr-3 text-sm text-slate-900 dark:text-white"},X={class:"px-3 py-3 text-right text-sm text-slate-500 dark:text-slate-400"},Y={class:"px-3 py-3 text-right text-sm text-slate-500 dark:text-slate-400"},Z={class:"py-3 pl-3 pr-6 text-right text-sm text-slate-500 dark:text-slate-400"},tt={class:"bg-slate-50 dark:bg-slate-700"},et={class:"px-3 py-3 text-right text-sm font-semibold text-slate-900 dark:text-white"},st={class:"px-3 py-3 text-right text-sm font-semibold text-slate-900 dark:text-white"},at={class:"py-3 pl-3 pr-6 text-right text-sm font-semibold text-slate-900 dark:text-white"},lt={class:"overflow-hidden rounded-2xl bg-white shadow dark:bg-slate-800"},rt={class:"overflow-x-auto"},dt={class:"min-w-full divide-y divide-slate-200 dark:divide-slate-700"},ot={class:"divide-y divide-slate-200 bg-white dark:divide-slate-700 dark:bg-slate-800"},it={class:"py-3 pl-6 pr-3 text-sm text-slate-900 dark:text-white"},nt={class:"px-3 py-3 text-right text-sm text-slate-500 dark:text-slate-400"},xt={class:"px-3 py-3 text-right text-sm text-slate-500 dark:text-slate-400"},mt={class:"py-3 pl-3 pr-6 text-right text-sm text-slate-500 dark:text-slate-400"},ht={class:"bg-slate-50 dark:bg-slate-700"},ct={class:"px-3 py-3 text-right text-sm font-semibold text-slate-900 dark:text-white"},ut={class:"px-3 py-3 text-right text-sm font-semibold text-slate-900 dark:text-white"},yt={class:"py-3 pl-3 pr-6 text-right text-sm font-semibold text-slate-900 dark:text-white"},ft={__name:"Summary",props:{year:[String,Number],years:Array,monthlySummary:Object,yearSummary:Object,categories:Object},setup(a){const{t:l}=A(),c=a,u=_(String(c.year)),f=N(()=>[{key:"01",label:l("months.january")},{key:"02",label:l("months.february")},{key:"03",label:l("months.march")},{key:"04",label:l("months.april")},{key:"05",label:l("months.may")},{key:"06",label:l("months.june")},{key:"07",label:l("months.july")},{key:"08",label:l("months.august")},{key:"09",label:l("months.september")},{key:"10",label:l("months.october")},{key:"11",label:l("months.november")},{key:"12",label:l("months.december")}]);v(u,o=>{w.get(route("expenses.summary"),{year:o},{preserveState:!0,replace:!0})});const d=o=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}).format(o||0),y=o=>c.monthlySummary[o]||{total_ht:0,total_vat:0,total_ttc:0,count:0},b=o=>c.yearSummary.by_category[o]||{total_ht:0,total_vat:0,count:0};return(o,e)=>(n(),i(h,null,[p(m(S),{title:m(l)("expenses_summary")},null,8,["title"]),p(V,null,{header:k(()=>[t("div",B,[t("div",D,[p(m(T),{href:o.route("expenses.index"),class:"text-slate-400 hover:text-slate-500 dark:text-slate-500 dark:hover:text-slate-400"},{default:k(()=>[...e[1]||(e[1]=[t("svg",{class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M17 10a.75.75 0 01-.75.75H5.612l4.158 3.96a.75.75 0 11-1.04 1.08l-5.5-5.25a.75.75 0 010-1.08l5.5-5.25a.75.75 0 111.04 1.08L5.612 9.25H16.25A.75.75 0 0117 10z","clip-rule":"evenodd"})],-1)])]),_:1},8,["href"]),t("h1",F,s(m(l)("expenses_summary")),1)]),j(t("select",{"onUpdate:modelValue":e[0]||(e[0]=r=>u.value=r),class:"rounded-xl border-0 py-1.5 pl-3 pr-10 text-slate-900 ring-1 ring-inset ring-slate-300 focus:ring-2 focus:ring-primary-600 dark:bg-slate-800 dark:text-white dark:ring-slate-600 sm:text-sm"},[(n(!0),i(h,null,g(a.years,r=>(n(),i("option",{key:r,value:r},s(r),9,H))),128))],512),[[C,u.value]])])]),default:k(()=>[t("div",M,[t("div",O,[t("dt",E,"Total HT "+s(a.year),1),t("dd",L,s(d(a.yearSummary.total_ht)),1)]),t("div",P,[e[2]||(e[2]=t("dt",{class:"truncate text-sm font-medium text-slate-500 dark:text-slate-400"},"TVA récupérable",-1)),t("dd",R,s(d(a.yearSummary.total_vat)),1)]),t("div",U,[e[3]||(e[3]=t("dt",{class:"truncate text-sm font-medium text-slate-500 dark:text-slate-400"},"Total TTC",-1)),t("dd",z,s(d(a.yearSummary.total_ttc)),1)]),t("div",I,[e[4]||(e[4]=t("dt",{class:"truncate text-sm font-medium text-slate-500 dark:text-slate-400"},"Dépenses",-1)),t("dd",$,s(a.yearSummary.count),1)])]),t("div",q,[t("div",G,[e[7]||(e[7]=t("div",{class:"px-6 py-4 border-b border-slate-200 dark:border-slate-700"},[t("h2",{class:"text-lg font-medium text-slate-900 dark:text-white"},"Par mois")],-1)),t("div",J,[t("table",K,[e[6]||(e[6]=t("thead",{class:"bg-slate-50 dark:bg-slate-700"},[t("tr",null,[t("th",{class:"py-3 pl-6 pr-3 text-left text-sm font-semibold text-slate-900 dark:text-white"},"Mois"),t("th",{class:"px-3 py-3 text-right text-sm font-semibold text-slate-900 dark:text-white"},"HT"),t("th",{class:"px-3 py-3 text-right text-sm font-semibold text-slate-900 dark:text-white"},"TVA"),t("th",{class:"py-3 pl-3 pr-6 text-right text-sm font-semibold text-slate-900 dark:text-white"},"Nb")])],-1)),t("tbody",Q,[(n(!0),i(h,null,g(f.value,r=>(n(),i("tr",{key:r.key},[t("td",W,s(r.label),1),t("td",X,s(d(y(r.key).total_ht)),1),t("td",Y,s(d(y(r.key).total_vat)),1),t("td",Z,s(y(r.key).count||0),1)]))),128))]),t("tfoot",tt,[t("tr",null,[e[5]||(e[5]=t("td",{class:"py-3 pl-6 pr-3 text-sm font-semibold text-slate-900 dark:text-white"},"Total",-1)),t("td",et,s(d(a.yearSummary.total_ht)),1),t("td",st,s(d(a.yearSummary.total_vat)),1),t("td",at,s(a.yearSummary.count),1)])])])])]),t("div",lt,[e[10]||(e[10]=t("div",{class:"px-6 py-4 border-b border-slate-200 dark:border-slate-700"},[t("h2",{class:"text-lg font-medium text-slate-900 dark:text-white"},"Par catégorie")],-1)),t("div",rt,[t("table",dt,[e[9]||(e[9]=t("thead",{class:"bg-slate-50 dark:bg-slate-700"},[t("tr",null,[t("th",{class:"py-3 pl-6 pr-3 text-left text-sm font-semibold text-slate-900 dark:text-white"},"Catégorie"),t("th",{class:"px-3 py-3 text-right text-sm font-semibold text-slate-900 dark:text-white"},"HT"),t("th",{class:"px-3 py-3 text-right text-sm font-semibold text-slate-900 dark:text-white"},"TVA"),t("th",{class:"py-3 pl-3 pr-6 text-right text-sm font-semibold text-slate-900 dark:text-white"},"Nb")])],-1)),t("tbody",ot,[(n(!0),i(h,null,g(a.categories,(r,x)=>(n(),i("tr",{key:x},[t("td",it,s(r),1),t("td",nt,s(d(b(x).total_ht)),1),t("td",xt,s(d(b(x).total_vat)),1),t("td",mt,s(b(x).count||0),1)]))),128))]),t("tfoot",ht,[t("tr",null,[e[8]||(e[8]=t("td",{class:"py-3 pl-6 pr-3 text-sm font-semibold text-slate-900 dark:text-white"},"Total",-1)),t("td",ct,s(d(a.yearSummary.total_ht)),1),t("td",ut,s(d(a.yearSummary.total_vat)),1),t("td",yt,s(a.yearSummary.count),1)])])])])])])]),_:1})],64))}};export{ft as default};
