import{r as w,p as C,y as L,c as d,a as x,b as s,h as V,i as h,d as e,f as M,v as A,t as l,o as n,F as p,j as y,k as F,l as m,e as _,g as b,x as v,m as H}from"./app-DleR-Qun.js";import{_ as N}from"./AppLayout-t84WyH_1.js";import{d as U}from"./debounce-TGQxioXq.js";import{u as S}from"./useTranslations-B4v3y7Ry.js";import"./DropdownLink-CkTqw5AL.js";const q={class:"flex items-center justify-between"},D={class:"text-xl font-semibold text-slate-900 dark:text-white"},E={class:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},I={class:"flex flex-1 gap-4"},O={class:"relative flex-1 max-w-md"},R=["placeholder"],$={value:""},G=["value"],J={class:"overflow-hidden rounded-2xl bg-white shadow-xl shadow-slate-200/50 border border-slate-200 dark:bg-slate-800 dark:border-slate-700 dark:shadow-slate-900/50"},K={class:"min-w-full divide-y divide-slate-200 dark:divide-slate-700"},P={class:"bg-slate-50 dark:bg-slate-700"},Q={scope:"col",class:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-slate-900 dark:text-white sm:pl-6"},W={scope:"col",class:"hidden px-3 py-3.5 text-left text-sm font-semibold text-slate-900 dark:text-white lg:table-cell"},X={scope:"col",class:"hidden px-3 py-3.5 text-left text-sm font-semibold text-slate-900 dark:text-white sm:table-cell"},Y={scope:"col",class:"hidden px-3 py-3.5 text-left text-sm font-semibold text-slate-900 dark:text-white md:table-cell"},Z={scope:"col",class:"hidden px-3 py-3.5 text-left text-sm font-semibold text-slate-900 dark:text-white lg:table-cell"},ee={scope:"col",class:"px-3 py-3.5 text-left text-sm font-semibold text-slate-900 dark:text-white"},te={scope:"col",class:"hidden px-3 py-3.5 text-right text-sm font-semibold text-slate-900 dark:text-white xl:table-cell"},se={scope:"col",class:"hidden px-3 py-3.5 text-right text-sm font-semibold text-slate-900 dark:text-white xl:table-cell"},le={scope:"col",class:"relative py-3.5 pl-3 pr-4 sm:pr-6"},ae={class:"sr-only"},re={class:"divide-y divide-slate-200 bg-white dark:divide-slate-700 dark:bg-slate-800"},ie={key:0},oe={colspan:"9",class:"py-10 text-center text-sm text-slate-500 dark:text-slate-400"},ne={class:"mt-2"},de={class:"whitespace-nowrap py-4 pl-4 pr-3 sm:pl-6"},ce={class:"flex items-center"},xe={class:"h-10 w-10 flex-shrink-0"},he={class:"flex h-10 w-10 items-center justify-center rounded-xl bg-primary-100 dark:bg-primary-900/30"},pe={class:"text-sm font-medium text-primary-600 dark:text-primary-400"},me={class:"ml-4"},ue={class:"text-sm text-slate-500 dark:text-slate-400 lg:hidden"},fe={class:"hidden whitespace-nowrap px-3 py-4 text-sm text-slate-500 dark:text-slate-400 lg:table-cell"},ve={class:"hidden whitespace-nowrap px-3 py-4 text-sm sm:table-cell"},ye={class:"hidden whitespace-nowrap px-3 py-4 text-sm text-slate-500 dark:text-slate-400 md:table-cell"},_e={class:"hidden whitespace-nowrap px-3 py-4 text-sm text-slate-500 dark:text-slate-400 lg:table-cell"},be={class:"whitespace-nowrap px-3 py-4 text-sm text-slate-500 dark:text-slate-400"},ke={class:"hidden whitespace-nowrap px-3 py-4 text-sm text-right text-slate-900 dark:text-white xl:table-cell"},ge={class:"hidden whitespace-nowrap px-3 py-4 text-sm text-right xl:table-cell"},we={class:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-6"},Ce={class:"flex items-center justify-end space-x-1"},Me=["onClick","title"],ze={key:0,class:"mt-6 flex items-center justify-between"},Be={class:"text-sm text-slate-700 dark:text-slate-400"},Te={class:"isolate inline-flex -space-x-px rounded-xl shadow-sm"},je=["innerHTML"],Ne={__name:"Index",props:{clients:{type:Object,required:!0},filters:{type:Object,default:()=>({})},clientTypes:{type:Array,required:!0}},setup(o){const{t:a}=S(),k=o,u=w(k.filters.search||""),f=w(k.filters.type||""),z=U(()=>{C.get(route("clients.index"),{search:u.value||void 0,type:f.value||void 0},{preserveState:!0,replace:!0})},300);L([u,f],z);const B=i=>{confirm(a("confirm_delete_name",{name:i.name}))&&C.delete(route("clients.destroy",i.id))},T=i=>a(i==="b2b"?"company":"individual"),j=i=>i==="b2b"?"bg-sky-100 text-sky-700 dark:bg-sky-900 dark:text-sky-300":"bg-slate-100 text-slate-700 dark:bg-slate-700 dark:text-slate-300",g=i=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}).format(i);return(i,r)=>(n(),d(p,null,[x(s(V),{title:s(a)("clients")},null,8,["title"]),x(N,null,{header:h(()=>[e("div",q,[e("h1",D,l(s(a)("clients")),1),x(s(m),{href:i.route("clients.create"),class:"inline-flex items-center rounded-xl bg-primary-500 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-primary-600 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary-500"},{default:h(()=>[r[2]||(r[2]=e("svg",{class:"-ml-0.5 mr-1.5 h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{d:"M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"})],-1)),_(" "+l(s(a)("new_client")),1)]),_:1},8,["href"])])]),default:h(()=>[e("div",E,[e("div",I,[e("div",O,[r[3]||(r[3]=e("div",{class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},[e("svg",{class:"h-5 w-5 text-slate-400",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z","clip-rule":"evenodd"})])],-1)),M(e("input",{"onUpdate:modelValue":r[0]||(r[0]=t=>u.value=t),type:"text",placeholder:s(a)("search_client"),class:"block w-full rounded-xl border-0 py-1.5 pl-10 pr-3 text-slate-900 ring-1 ring-inset ring-slate-200 placeholder:text-slate-400 focus:ring-2 focus:ring-inset focus:ring-primary-500 dark:bg-slate-800 dark:text-white dark:ring-slate-600 dark:placeholder:text-slate-500 sm:text-sm sm:leading-6"},null,8,R),[[A,u.value]])]),M(e("select",{"onUpdate:modelValue":r[1]||(r[1]=t=>f.value=t),class:"rounded-xl border-0 py-1.5 pl-3 pr-10 text-slate-900 ring-1 ring-inset ring-slate-200 focus:ring-2 focus:ring-primary-500 dark:bg-slate-800 dark:text-white dark:ring-slate-600 sm:text-sm sm:leading-6"},[e("option",$,l(s(a)("all_types")),1),(n(!0),d(p,null,y(o.clientTypes,t=>(n(),d("option",{key:t.value,value:t.value},l(t.label),9,G))),128))],512),[[F,f.value]])])]),e("div",J,[e("table",K,[e("thead",P,[e("tr",null,[e("th",Q,l(s(a)("client")),1),e("th",W,l(s(a)("email")),1),e("th",X,l(s(a)("client_type")),1),e("th",Y,l(s(a)("country")),1),e("th",Z,l(s(a)("vat")),1),e("th",ee,l(s(a)("currency")),1),e("th",te,l(s(a)("total_invoiced")),1),e("th",se,l(s(a)("total_paid")),1),e("th",le,[e("span",ae,l(s(a)("actions")),1)])])]),e("tbody",re,[o.clients.data.length===0?(n(),d("tr",ie,[e("td",oe,[r[5]||(r[5]=e("svg",{class:"mx-auto h-12 w-12 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})],-1)),e("p",ne,l(s(a)("no_clients")),1),x(s(m),{href:i.route("clients.create"),class:"mt-4 inline-flex items-center text-primary-600 hover:text-primary-500 dark:text-primary-400"},{default:h(()=>[r[4]||(r[4]=e("svg",{class:"mr-1 h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{d:"M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"})],-1)),_(" "+l(s(a)("create_first_client")),1)]),_:1},8,["href"])])])):b("",!0),(n(!0),d(p,null,y(o.clients.data,t=>(n(),d("tr",{key:t.id,class:"hover:bg-slate-50 dark:hover:bg-slate-700"},[e("td",de,[e("div",ce,[e("div",xe,[e("div",he,[e("span",pe,l(t.name.charAt(0).toUpperCase()),1)])]),e("div",me,[x(s(m),{href:i.route("clients.show",t.id),class:"font-medium text-slate-900 hover:text-primary-600 dark:text-white dark:hover:text-primary-400"},{default:h(()=>[_(l(t.name),1)]),_:2},1032,["href"]),e("div",ue,l(t.email),1)])])]),e("td",fe,l(t.email),1),e("td",ve,[e("span",{class:v([j(t.type),"inline-flex items-center rounded-xl px-2.5 py-0.5 text-xs font-medium"])},l(T(t.type)),3)]),e("td",ye,l(t.country_code),1),e("td",_e,l(t.vat_number||"-"),1),e("td",be,l(t.currency),1),e("td",ke,l(g(t.total_invoiced||0)),1),e("td",ge,[e("span",{class:v(t.total_paid>0?"text-emerald-600 dark:text-emerald-400":"text-slate-500 dark:text-slate-400")},l(g(t.total_paid||0)),3)]),e("td",we,[e("div",Ce,[x(s(m),{href:i.route("clients.edit",t.id),class:"rounded-lg p-2 text-slate-400 hover:bg-slate-100 hover:text-primary-600 dark:hover:bg-slate-700 dark:hover:text-primary-400",title:s(a)("edit")},{default:h(()=>[...r[6]||(r[6]=[e("svg",{class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{d:"M2.695 14.763l-1.262 3.154a.5.5 0 00.65.65l3.155-1.262a4 4 0 001.343-.885L17.5 5.5a2.121 2.121 0 00-3-3L3.58 13.42a4 4 0 00-.885 1.343z"})],-1)])]),_:1},8,["href","title"]),t.invoices_count===0?(n(),d("button",{key:0,onClick:c=>B(t),class:"rounded-lg p-2 text-slate-400 hover:bg-pink-50 hover:text-pink-600 dark:hover:bg-pink-900/20 dark:hover:text-pink-400",title:s(a)("delete")},[...r[7]||(r[7]=[e("svg",{class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M8.75 1A2.75 2.75 0 006 3.75v.443c-.795.077-1.584.176-2.365.298a.75.75 0 10.23 1.482l.149-.022.841 10.518A2.75 2.75 0 007.596 19h4.807a2.75 2.75 0 002.742-2.53l.841-10.519.149.023a.75.75 0 00.23-1.482A41.03 41.03 0 0014 4.193V3.75A2.75 2.75 0 0011.25 1h-2.5zM10 4c.84 0 1.673.025 2.5.075V3.75c0-.69-.56-1.25-1.25-1.25h-2.5c-.69 0-1.25.56-1.25 1.25v.325C8.327 4.025 9.16 4 10 4zM8.58 7.72a.75.75 0 00-1.5.06l.3 7.5a.75.75 0 101.5-.06l-.3-7.5zm4.34.06a.75.75 0 10-1.5-.06l-.3 7.5a.75.75 0 101.5.06l.3-7.5z","clip-rule":"evenodd"})],-1)])],8,Me)):b("",!0)])])]))),128))])])]),o.clients.links&&o.clients.links.length>3?(n(),d("div",ze,[e("div",Be,l(s(a)("showing_x_to_y_of_z",{from:o.clients.from,to:o.clients.to,total:o.clients.total,items:s(a)("clients").toLowerCase()})),1),e("nav",Te,[(n(!0),d(p,null,y(o.clients.links,(t,c)=>(n(),d(p,{key:c},[t.url?(n(),H(s(m),{key:0,href:t.url,class:v([t.active?"z-10 bg-primary-500 text-white focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary-500":"text-slate-900 ring-1 ring-inset ring-slate-200 hover:bg-slate-50 dark:text-slate-300 dark:ring-slate-600 dark:hover:bg-slate-700","relative inline-flex items-center px-4 py-2 text-sm font-semibold focus:z-20",c===0?"rounded-l-xl":"",c===o.clients.links.length-1?"rounded-r-xl":""]),innerHTML:t.label,"preserve-scroll":""},null,8,["href","class","innerHTML"])):(n(),d("span",{key:1,class:v(["relative inline-flex items-center px-4 py-2 text-sm font-semibold text-slate-400 dark:text-slate-500",c===0?"rounded-l-xl":"",c===o.clients.links.length-1?"rounded-r-xl":""]),innerHTML:t.label},null,10,je))],64))),128))])])):b("",!0)]),_:1})],64))}};export{Ne as default};
