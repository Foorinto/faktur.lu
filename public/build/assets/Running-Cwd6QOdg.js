import{_ as w}from"./AppLayout-CMhKAyAT.js";import{l as k,K as y,c as i,a as m,u as c,h as b,w as u,o as n,b as e,t as x,d as g,g as f,s as p,F as S,k as T,A as V,j as _}from"./app-B2KrZOCa.js";import"./ApplicationLogo-CBvPJGvQ.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./DropdownLink-Dw9Qk6Ag.js";const j={key:0,class:"max-w-2xl mx-auto"},A={class:"overflow-hidden rounded-lg bg-gradient-to-r from-indigo-500 to-purple-600 shadow-lg"},B={class:"px-8 py-12 text-center"},C={class:"mt-4 text-6xl font-bold text-white font-mono"},M={class:"mt-4 text-lg text-indigo-200"},z={key:0,class:"text-indigo-300"},D={key:1,class:"mt-2 text-sm text-indigo-200"},I={class:"mt-6 text-center"},N={key:1,class:"max-w-2xl mx-auto text-center py-12"},O={__name:"Running",props:{timer:Object},setup(o){const a=o,s=T(0);let r=null;k(()=>{a.timer&&(s.value=a.timer.current_duration_seconds,r=setInterval(()=>{s.value++},1e3))}),y(()=>{r&&clearInterval(r)});const v=V(()=>{const l=Math.floor(s.value/3600),t=Math.floor(s.value%3600/60),d=s.value%60;return`${l}:${String(t).padStart(2,"0")}:${String(d).padStart(2,"0")}`}),h=()=>{a.timer&&_.post(route("time-entries.stop",a.timer.id),{},{onSuccess:()=>{r&&(clearInterval(r),r=null)}})};return(l,t)=>(n(),i(S,null,[m(c(b),{title:"Timer en cours"}),m(w,null,{header:u(()=>[...t[0]||(t[0]=[e("h1",{class:"text-xl font-semibold text-gray-900 dark:text-white"}," Timer en cours ",-1)])]),default:u(()=>{var d;return[o.timer?(n(),i("div",j,[e("div",A,[e("div",B,[t[2]||(t[2]=e("p",{class:"text-sm font-medium text-indigo-100"},"En cours",-1)),e("p",C,x(v.value),1),e("p",M,x((d=o.timer.client)==null?void 0:d.name),1),o.timer.project_name?(n(),i("p",z,x(o.timer.project_name),1)):g("",!0),o.timer.description?(n(),i("p",D,x(o.timer.description),1)):g("",!0),e("button",{onClick:h,class:"mt-8 inline-flex items-center rounded-full bg-white px-8 py-4 text-lg font-semibold text-indigo-600 shadow-sm hover:bg-indigo-50"},[...t[1]||(t[1]=[e("svg",{class:"mr-3 h-6 w-6",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M5.5 3.5A1.5 1.5 0 017 5v10a1.5 1.5 0 01-3 0V5a1.5 1.5 0 011.5-1.5zm8 0A1.5 1.5 0 0115 5v10a1.5 1.5 0 01-3 0V5a1.5 1.5 0 011.5-1.5z","clip-rule":"evenodd"})],-1),f(" Arrêter le timer ",-1)])])])]),e("div",I,[m(c(p),{href:l.route("time-entries.index"),class:"text-indigo-600 hover:text-indigo-500 dark:text-indigo-400"},{default:u(()=>[...t[3]||(t[3]=[f(" Retour à la liste des entrées ",-1)])]),_:1},8,["href"])])])):(n(),i("div",N,[t[5]||(t[5]=e("svg",{class:"mx-auto h-16 w-16 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),t[6]||(t[6]=e("h3",{class:"mt-4 text-lg font-medium text-gray-900 dark:text-white"},"Aucun timer en cours",-1)),t[7]||(t[7]=e("p",{class:"mt-2 text-sm text-gray-500 dark:text-gray-400"}," Démarrez un nouveau timer depuis la page de suivi du temps. ",-1)),m(c(p),{href:l.route("time-entries.index"),class:"mt-6 inline-flex items-center rounded-md bg-indigo-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500"},{default:u(()=>[...t[4]||(t[4]=[f(" Démarrer un timer ",-1)])]),_:1},8,["href"])]))]}),_:1})],64))}};export{O as default};
