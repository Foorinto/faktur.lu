import{_ as B}from"./AppLayout-BPXH3yDG.js";import{c as u,a as m,b as s,h as C,i as c,d as e,t as a,o,l as f,e as p,F as x,j as k,m as v,x as h,g as y}from"./app-Cw-UdvnB.js";import{u as T}from"./useTranslations-CG1TRj3c.js";import"./DropdownLink-DfZnvZxO.js";const q={class:"flex items-center justify-between"},z={class:"text-xl font-semibold text-slate-900 dark:text-white"},D={class:"space-y-4"},L={class:"text-lg font-medium text-slate-900 dark:text-white"},H={key:0,class:"rounded-2xl bg-white p-12 text-center shadow-xl shadow-slate-200/50 border border-slate-200 dark:bg-slate-800 dark:border-slate-700"},V={class:"mt-4 text-sm text-slate-500 dark:text-slate-400"},F={key:1,class:"space-y-4"},N={class:"flex items-start justify-between"},$={class:"flex-1"},I={class:"flex items-center gap-3"},O={class:"text-sm font-medium text-slate-500 dark:text-slate-400"},S={class:"mt-2 text-lg font-medium text-slate-900 dark:text-white"},A={class:"mt-2 flex items-center gap-4 text-sm text-slate-500 dark:text-slate-400"},E={key:0},R={key:2,class:"mt-6 flex items-center justify-between"},G={class:"text-sm text-slate-700 dark:text-slate-400"},J={class:"isolate inline-flex -space-x-px rounded-xl shadow-sm"},K=["innerHTML"],X={__name:"Index",props:{tickets:{type:Object,required:!0},statuses:{type:Object,required:!0}},setup(l){const{t:n}=T(),w=i=>{const r={new:"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400",open:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",in_progress:"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400",waiting:"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400",resolved:"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400",closed:"bg-slate-100 text-slate-700 dark:bg-slate-700 dark:text-slate-400"};return r[i]||r.closed},_=i=>{const r=new Date(i);return new Intl.DateTimeFormat("fr-FR",{day:"numeric",month:"short",year:"numeric"}).format(r)},M=i=>{const r=new Date(i),d=new Date-r,b=Math.floor(d/6e4),g=Math.floor(d/36e5),j=Math.floor(d/864e5);return b<60?`${b} min`:g<24?`${g}h`:`${j}j`};return(i,r)=>(o(),u(x,null,[m(s(C),{title:s(n)("support")},null,8,["title"]),m(B,null,{header:c(()=>[e("div",q,[e("h1",z,a(s(n)("support")),1),m(s(f),{href:i.route("support.create"),class:"inline-flex items-center rounded-xl bg-primary-500 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-primary-600 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary-500"},{default:c(()=>[r[0]||(r[0]=e("svg",{class:"-ml-0.5 mr-1.5 h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{d:"M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"})],-1)),p(" "+a(s(n)("new_request")),1)]),_:1},8,["href"])])]),default:c(()=>[e("div",D,[e("h2",L,a(s(n)("your_requests"))+" ("+a(l.tickets.total)+") ",1),l.tickets.data.length===0?(o(),u("div",H,[r[1]||(r[1]=e("svg",{class:"mx-auto h-12 w-12 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})],-1)),e("p",V,a(s(n)("no_support_requests")),1),m(s(f),{href:i.route("support.create"),class:"mt-4 inline-flex items-center text-primary-600 hover:text-primary-500 dark:text-primary-400"},{default:c(()=>[p(a(s(n)("create_first_request")),1)]),_:1},8,["href"])])):(o(),u("div",F,[(o(!0),u(x,null,k(l.tickets.data,t=>(o(),v(s(f),{key:t.id,href:i.route("support.show",t.id),class:"block rounded-2xl bg-white p-6 border border-slate-200 hover:border-primary-300 hover:shadow-primary-200/30 transition-all dark:bg-slate-800 dark:border-slate-700 dark:hover:border-primary-500/50"},{default:c(()=>[e("div",N,[e("div",$,[e("div",I,[e("span",O,a(t.reference),1),e("span",{class:h([w(t.status),"inline-flex items-center rounded-xl px-2.5 py-0.5 text-xs font-medium"])},a(l.statuses[t.status]),3)]),e("h3",S,a(t.subject),1),e("div",A,[e("span",null,a(_(t.created_at)),1),t.latest_message?(o(),u("span",E,a(s(n)("last_response"))+": "+a(M(t.latest_message.created_at)),1)):y("",!0),e("span",null,a(t.messages_count)+" "+a(s(n)("messages")),1)])]),r[2]||(r[2]=e("svg",{class:"h-5 w-5 text-slate-400",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M7.21 14.77a.75.75 0 01.02-1.06L11.168 10 7.23 6.29a.75.75 0 111.04-1.08l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.06-.02z","clip-rule":"evenodd"})],-1))])]),_:2},1032,["href"]))),128))])),l.tickets.links&&l.tickets.links.length>3?(o(),u("div",R,[e("div",G,a(s(n)("showing_x_to_y_of_z",{from:l.tickets.from,to:l.tickets.to,total:l.tickets.total,items:s(n)("requests").toLowerCase()})),1),e("nav",J,[(o(!0),u(x,null,k(l.tickets.links,(t,d)=>(o(),u(x,{key:d},[t.url?(o(),v(s(f),{key:0,href:t.url,class:h([t.active?"z-10 bg-primary-500 text-white focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary-500":"text-slate-900 ring-1 ring-inset ring-slate-200 hover:bg-slate-50 dark:text-slate-300 dark:ring-slate-600 dark:hover:bg-slate-700","relative inline-flex items-center px-4 py-2 text-sm font-semibold focus:z-20",d===0?"rounded-l-xl":"",d===l.tickets.links.length-1?"rounded-r-xl":""]),innerHTML:t.label,"preserve-scroll":""},null,8,["href","class","innerHTML"])):(o(),u("span",{key:1,class:h(["relative inline-flex items-center px-4 py-2 text-sm font-semibold text-slate-400 dark:text-slate-500",d===0?"rounded-l-xl":"",d===l.tickets.links.length-1?"rounded-r-xl":""]),innerHTML:t.label},null,10,K))],64))),128))])])):y("",!0)])]),_:1})],64))}};export{X as default};
