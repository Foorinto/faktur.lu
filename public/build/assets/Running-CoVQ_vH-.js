import{_ as k}from"./AppLayout-DY_rKOab.js";import{y,K as b,c as s,a as c,b as n,h as _,i as x,o as a,d as e,t as l,g as p,e as f,l as v,F as S,r as B,B as V,p as C}from"./app-Bw40qWnz.js";import{u as M}from"./useTranslations-BmhVlpgi.js";import"./ApplicationLogo-oNrlBF6v.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./DropdownLink-DHpUyQjj.js";const T={class:"text-xl font-semibold text-gray-900 dark:text-white"},j={key:0,class:"max-w-2xl mx-auto"},z={class:"overflow-hidden rounded-lg bg-gradient-to-r from-indigo-500 to-purple-600 shadow-lg"},A={class:"px-8 py-12 text-center"},D={class:"mt-4 text-6xl font-bold text-white font-mono"},I={class:"mt-4 text-lg text-indigo-200"},N={key:0,class:"text-indigo-300"},$={key:1,class:"mt-2 text-sm text-indigo-200"},E={class:"mt-6 text-center"},F={key:1,class:"max-w-2xl mx-auto text-center py-12"},H={__name:"Running",props:{timer:Object},setup(o){const{t:g}=M(),d=o,i=B(0);let r=null;y(()=>{d.timer&&(i.value=d.timer.current_duration_seconds,r=setInterval(()=>{i.value++},1e3))}),b(()=>{r&&clearInterval(r)});const h=V(()=>{const m=Math.floor(i.value/3600),t=Math.floor(i.value%3600/60),u=i.value%60;return`${m}:${String(t).padStart(2,"0")}:${String(u).padStart(2,"0")}`}),w=()=>{d.timer&&C.post(route("time-entries.stop",d.timer.id),{},{onSuccess:()=>{r&&(clearInterval(r),r=null)}})};return(m,t)=>(a(),s(S,null,[c(n(_),{title:n(g)("running_timer")},null,8,["title"]),c(k,null,{header:x(()=>[e("h1",T,l(n(g)("running_timer")),1)]),default:x(()=>{var u;return[o.timer?(a(),s("div",j,[e("div",z,[e("div",A,[t[1]||(t[1]=e("p",{class:"text-sm font-medium text-indigo-100"},"En cours",-1)),e("p",D,l(h.value),1),e("p",I,l((u=o.timer.client)==null?void 0:u.name),1),o.timer.project_name?(a(),s("p",N,l(o.timer.project_name),1)):p("",!0),o.timer.description?(a(),s("p",$,l(o.timer.description),1)):p("",!0),e("button",{onClick:w,class:"mt-8 inline-flex items-center rounded-full bg-white px-8 py-4 text-lg font-semibold text-indigo-600 shadow-sm hover:bg-indigo-50"},[...t[0]||(t[0]=[e("svg",{class:"mr-3 h-6 w-6",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M5.5 3.5A1.5 1.5 0 017 5v10a1.5 1.5 0 01-3 0V5a1.5 1.5 0 011.5-1.5zm8 0A1.5 1.5 0 0115 5v10a1.5 1.5 0 01-3 0V5a1.5 1.5 0 011.5-1.5z","clip-rule":"evenodd"})],-1),f(" Arrêter le timer ",-1)])])])]),e("div",E,[c(n(v),{href:m.route("time-entries.index"),class:"text-indigo-600 hover:text-indigo-500 dark:text-indigo-400"},{default:x(()=>[...t[2]||(t[2]=[f(" Retour à la liste des entrées ",-1)])]),_:1},8,["href"])])])):(a(),s("div",F,[t[4]||(t[4]=e("svg",{class:"mx-auto h-16 w-16 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),t[5]||(t[5]=e("h3",{class:"mt-4 text-lg font-medium text-gray-900 dark:text-white"},"Aucun timer en cours",-1)),t[6]||(t[6]=e("p",{class:"mt-2 text-sm text-gray-500 dark:text-gray-400"}," Démarrez un nouveau timer depuis la page de suivi du temps. ",-1)),c(n(v),{href:m.route("time-entries.index"),class:"mt-6 inline-flex items-center rounded-md bg-indigo-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500"},{default:x(()=>[...t[3]||(t[3]=[f(" Démarrer un timer ",-1)])]),_:1},8,["href"])]))]}),_:1})],64))}};export{H as default};
