import{u as U,c as u,a as l,b as t,h as C,i as g,d as e,l as f,e as c,t as d,w as S,f as i,v as b,s as _,o as x,F as h,j as z,x as k,g as w}from"./app-B97I2Oxk.js";import{_ as M}from"./AppLayout-BV7HVWRJ.js";import{u as N}from"./useTranslations-C4Y-NByF.js";import"./ApplicationLogo-DwcnZXn5.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./DropdownLink-C30LA8Zs.js";const B={class:"text-xl font-semibold text-gray-900 dark:text-white"},F={class:"mb-6 border-b border-gray-200 dark:border-gray-700"},A={class:"flex space-x-8","aria-label":"Settings tabs"},E={class:"overflow-hidden rounded-lg bg-white shadow dark:bg-gray-800"},L={class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},R={class:"text-lg font-medium text-gray-900 dark:text-white"},T={class:"px-6 py-4 space-y-4"},D={for:"default_message",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},q={for:"signature",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},H={class:"flex items-center"},O={class:"ml-2 text-sm text-gray-700 dark:text-gray-300"},$={class:"overflow-hidden rounded-lg bg-white shadow dark:bg-gray-800"},G={class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},I={class:"flex items-center justify-between"},J={class:"flex items-center"},K={class:"ml-2 text-sm font-medium text-gray-700 dark:text-gray-300"},P={class:"px-6 py-4"},Q={class:"space-y-6"},W={class:"flex items-center justify-between mb-4"},X={class:"flex items-center space-x-3"},Y={class:"font-medium text-gray-900 dark:text-white"},Z={class:"flex items-center"},ee=["onUpdate:modelValue"],te={key:0,class:"space-y-4"},se={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},re={class:"mt-1 flex items-center space-x-2"},ae=["onUpdate:modelValue"],de={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},oe=["onUpdate:modelValue"],ie={class:"block text-sm font-medium text-gray-700 dark:text-gray-300"},ne=["onUpdate:modelValue"],le={class:"flex justify-end"},ge=["disabled"],me={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24"},fe={__name:"EmailSettings",props:{settings:Object},setup(v){const{t:a}=N(),m=v,o=U({default_message:m.settings.default_message||"",signature:m.settings.signature||"",send_copy_to_self:m.settings.send_copy_to_self||!1,reminders_enabled:m.settings.reminders_enabled||!1,reminder_levels:m.settings.reminder_levels||{}}),V=()=>{o.put(route("settings.email.update"),{preserveScroll:!0})},j={1:"Rappel",2:"Relance",3:"Mise en demeure"};return(p,s)=>(x(),u(h,null,[l(t(C),{title:t(a)("email_settings")},null,8,["title"]),l(M,null,{header:g(()=>[e("h1",B,d(t(a)("settings")),1)]),default:g(()=>[e("div",F,[e("nav",A,[l(t(f),{href:p.route("settings.business.edit"),class:"whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"},{default:g(()=>[c(d(t(a)("business_settings")),1)]),_:1},8,["href"]),l(t(f),{href:p.route("settings.email"),class:"whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm border-indigo-500 text-indigo-600 dark:text-indigo-400"},{default:g(()=>[c(d(t(a)("email_settings")),1)]),_:1},8,["href"]),l(t(f),{href:p.route("settings.email.provider"),class:"whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"},{default:g(()=>[...s[4]||(s[4]=[c(" Fournisseur Email ",-1)])]),_:1},8,["href"]),l(t(f),{href:p.route("settings.accountant"),class:"whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"},{default:g(()=>[...s[5]||(s[5]=[c(" Accès Comptable ",-1)])]),_:1},8,["href"])])]),e("form",{onSubmit:S(V,["prevent"]),class:"space-y-6"},[e("div",E,[e("div",L,[e("h2",R,d(t(a)("default_email_message")),1),s[6]||(s[6]=e("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"}," Ce message sera utilisé par défaut lors de l'envoi de factures par email. ",-1))]),e("div",T,[e("div",null,[e("label",D,d(t(a)("message")),1),i(e("textarea",{id:"default_message","onUpdate:modelValue":s[0]||(s[0]=r=>t(o).default_message=r),rows:"4",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white",placeholder:"Laissez vide pour utiliser le message par défaut du système..."},null,512),[[b,t(o).default_message]])]),e("div",null,[e("label",q,d(t(a)("email_signature")),1),i(e("textarea",{id:"signature","onUpdate:modelValue":s[1]||(s[1]=r=>t(o).signature=r),rows:"3",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white",placeholder:"Signature qui sera ajoutée à vos emails..."},null,512),[[b,t(o).signature]])]),e("div",null,[e("label",H,[i(e("input",{type:"checkbox","onUpdate:modelValue":s[2]||(s[2]=r=>t(o).send_copy_to_self=r),class:"h-4 w-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"},null,512),[[_,t(o).send_copy_to_self]]),e("span",O,d(t(a)("send_copy_to_self"))+" (par défaut) ",1)])])])]),e("div",$,[e("div",G,[e("div",I,[s[7]||(s[7]=e("div",null,[e("h2",{class:"text-lg font-medium text-gray-900 dark:text-white"},"Relances de paiement"),e("p",{class:"mt-1 text-sm text-gray-500 dark:text-gray-400"}," Configurez les modèles de relance pour les factures impayées. ")],-1)),e("label",J,[i(e("input",{type:"checkbox","onUpdate:modelValue":s[3]||(s[3]=r=>t(o).reminders_enabled=r),class:"h-4 w-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"},null,512),[[_,t(o).reminders_enabled]]),e("span",K,d(t(a)("reminders_enabled")),1)])])]),e("div",P,[e("div",Q,[(x(!0),u(h,null,z(t(o).reminder_levels,(r,y)=>(x(),u("div",{key:y,class:k(["border rounded-lg p-4 dark:border-gray-600",r.enabled?"border-indigo-200 bg-indigo-50/50 dark:border-indigo-700 dark:bg-indigo-900/20":"border-gray-200"])},[e("div",W,[e("div",X,[e("span",{class:k(["flex items-center justify-center w-8 h-8 rounded-full text-sm font-bold",y==3?"bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-300":"bg-orange-100 text-orange-700 dark:bg-orange-900 dark:text-orange-300"])},d(y),3),e("h3",Y,d(j[y]),1)]),e("label",Z,[i(e("input",{type:"checkbox","onUpdate:modelValue":n=>r.enabled=n,class:"h-4 w-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"},null,8,ee),[[_,r.enabled]]),s[8]||(s[8]=e("span",{class:"ml-2 text-sm text-gray-700 dark:text-gray-300"},"Activé",-1))])]),r.enabled?(x(),u("div",te,[e("div",null,[e("label",se,d(t(a)("reminder_days_after_due")),1),e("div",re,[i(e("input",{type:"number","onUpdate:modelValue":n=>r.days_after_due=n,min:"1",max:"365",class:"w-20 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white"},null,8,ae),[[b,r.days_after_due,void 0,{number:!0}]]),s[9]||(s[9]=e("span",{class:"text-sm text-gray-500 dark:text-gray-400"},"jours",-1))])]),e("div",null,[e("label",de,d(t(a)("subject")),1),i(e("input",{type:"text","onUpdate:modelValue":n=>r.subject=n,class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white"},null,8,oe),[[b,r.subject]]),s[10]||(s[10]=e("p",{class:"mt-1 text-xs text-gray-500 dark:text-gray-400"}," Variables: {numero}, {client_nom}, {montant}, {date_echeance} ",-1))]),e("div",null,[e("label",ie,d(t(a)("message")),1),i(e("textarea",{"onUpdate:modelValue":n=>r.body=n,rows:"4",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white"},null,8,ne),[[b,r.body]]),s[11]||(s[11]=e("p",{class:"mt-1 text-xs text-gray-500 dark:text-gray-400"}," Variables: {numero}, {client_nom}, {montant}, {date_echeance}, {jours_retard}, {entreprise} ",-1))])])):w("",!0)],2))),128))])])]),e("div",le,[e("button",{type:"submit",disabled:t(o).processing,class:"inline-flex items-center rounded-md bg-indigo-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 disabled:opacity-50"},[t(o).processing?(x(),u("svg",me,[...s[12]||(s[12]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):w("",!0),c(" "+d(t(o).processing?t(a)("saving"):t(a)("save")),1)],8,ge)])],32)]),_:1})],64))}};export{fe as default};
