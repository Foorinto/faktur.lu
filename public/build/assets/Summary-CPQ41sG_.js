import{r as _,z as w,c as o,a as x,b as s,h as C,i as u,d as t,f as p,t as e,o as i,F as b,j as g,k as V,v as k,g as F,x as j,l as y,e as v,p as B}from"./app-BscPlTF8.js";import{_ as D}from"./AppLayout-DflfC80w.js";import{u as N}from"./useTranslations-DQDh3TgL.js";import"./DropdownLink-De3XmeDu.js";const S={class:"flex items-center justify-between"},z={class:"text-xl font-semibold text-slate-900 dark:text-white"},M={class:"mb-6 flex flex-wrap gap-4"},T={value:""},U=["value"],A=["placeholder"],L=["placeholder"],O={class:"mb-8 grid grid-cols-1 gap-4 sm:grid-cols-4"},E={class:"overflow-hidden rounded-2xl bg-white shadow dark:bg-slate-800 px-4 py-5"},$={class:"truncate text-sm font-medium text-slate-500 dark:text-slate-400"},q={class:"mt-1 text-2xl font-semibold text-slate-900 dark:text-white"},G={class:"text-sm text-slate-500 dark:text-slate-400"},H={class:"overflow-hidden rounded-2xl bg-white shadow dark:bg-slate-800 px-4 py-5"},I={class:"truncate text-sm font-medium text-slate-500 dark:text-slate-400"},J={class:"mt-1 text-2xl font-semibold text-amber-600 dark:text-amber-400"},K={class:"text-sm text-slate-500 dark:text-slate-400"},P={class:"overflow-hidden rounded-2xl bg-white shadow dark:bg-slate-800 px-4 py-5"},Q={class:"truncate text-sm font-medium text-slate-500 dark:text-slate-400"},R={class:"mt-1 text-2xl font-semibold text-green-600 dark:text-green-400"},W={class:"text-sm text-slate-500 dark:text-slate-400"},X={class:"overflow-hidden rounded-2xl bg-white shadow dark:bg-slate-800 px-4 py-5"},Y={class:"truncate text-sm font-medium text-slate-500 dark:text-slate-400"},Z={class:"mt-1 text-2xl font-semibold text-slate-900 dark:text-white"},tt={class:"overflow-hidden rounded-2xl bg-white shadow dark:bg-slate-800"},et={class:"px-6 py-4 border-b border-slate-200 dark:border-slate-700"},st={class:"text-base font-semibold text-slate-900 dark:text-white"},at={class:"min-w-full divide-y divide-slate-200 dark:divide-slate-700"},lt={class:"bg-slate-50 dark:bg-slate-700"},dt={class:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-slate-900 dark:text-white sm:pl-6"},rt={class:"px-3 py-3.5 text-right text-sm font-semibold text-slate-900 dark:text-white"},ot={class:"px-3 py-3.5 text-right text-sm font-semibold text-slate-900 dark:text-white"},it={class:"relative py-3.5 pl-3 pr-4 sm:pr-6"},nt={class:"sr-only"},ct={class:"divide-y divide-slate-200 bg-white dark:divide-slate-700 dark:bg-slate-800"},mt={key:0},xt={colspan:"4",class:"py-10 text-center text-sm text-slate-500 dark:text-slate-400"},ut={class:"whitespace-nowrap py-4 pl-4 pr-3 sm:pl-6"},ht={class:"font-medium text-slate-900 dark:text-white"},_t={class:"whitespace-nowrap px-3 py-4 text-right text-sm font-mono font-medium text-slate-900 dark:text-white"},pt={class:"whitespace-nowrap px-3 py-4 text-right text-sm"},bt={class:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-6"},wt={__name:"Summary",props:{summary:Object,byClient:Array,filters:Object,clients:Array},setup(d){const{t:a}=N(),h=d,n=_(h.filters.client_id||""),c=_(h.filters.start_date||""),m=_(h.filters.end_date||"");return w([n,c,m],()=>{B.get(route("time-entries.summary"),{client_id:n.value||void 0,start_date:c.value||void 0,end_date:m.value||void 0},{preserveState:!0,replace:!0})}),(f,r)=>(i(),o(b,null,[x(s(C),{title:s(a)("time_summary")},null,8,["title"]),x(D,null,{header:u(()=>[t("div",S,[t("h1",z,e(s(a)("time_summary")),1),x(s(y),{href:f.route("time-entries.index"),class:"inline-flex items-center rounded-xl border border-slate-300 bg-white px-3 py-2 text-sm font-medium text-slate-700 shadow-sm hover:bg-slate-50 dark:border-slate-600 dark:bg-slate-700 dark:text-slate-300 dark:hover:bg-slate-600"},{default:u(()=>[r[3]||(r[3]=t("svg",{class:"-ml-0.5 mr-1.5 h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M12.79 5.23a.75.75 0 01-.02 1.06L8.832 10l3.938 3.71a.75.75 0 11-1.04 1.08l-4.5-4.25a.75.75 0 010-1.08l4.5-4.25a.75.75 0 011.06.02z","clip-rule":"evenodd"})],-1)),v(" "+e(s(a)("back")),1)]),_:1},8,["href"])])]),default:u(()=>[t("div",M,[p(t("select",{"onUpdate:modelValue":r[0]||(r[0]=l=>n.value=l),class:"rounded-xl border-0 py-1.5 pl-3 pr-10 text-slate-900 ring-1 ring-inset ring-slate-300 focus:ring-2 focus:ring-primary-600 dark:bg-slate-800 dark:text-white dark:ring-slate-600 sm:text-sm"},[t("option",T,e(s(a)("all_clients")),1),(i(!0),o(b,null,g(d.clients,l=>(i(),o("option",{key:l.id,value:l.id},e(l.name),9,U))),128))],512),[[V,n.value]]),p(t("input",{"onUpdate:modelValue":r[1]||(r[1]=l=>c.value=l),type:"date",class:"rounded-xl border-0 py-1.5 px-3 text-slate-900 ring-1 ring-inset ring-slate-300 focus:ring-2 focus:ring-primary-600 dark:bg-slate-800 dark:text-white dark:ring-slate-600 sm:text-sm",placeholder:s(a)("start_date")},null,8,A),[[k,c.value]]),p(t("input",{"onUpdate:modelValue":r[2]||(r[2]=l=>m.value=l),type:"date",class:"rounded-xl border-0 py-1.5 px-3 text-slate-900 ring-1 ring-inset ring-slate-300 focus:ring-2 focus:ring-primary-600 dark:bg-slate-800 dark:text-white dark:ring-slate-600 sm:text-sm",placeholder:s(a)("end_date")},null,8,L),[[k,m.value]])]),t("div",O,[t("div",E,[t("dt",$,e(s(a)("total_time")),1),t("dd",q,e(d.summary.total_formatted),1),t("dd",G,e(d.summary.total_hours)+" "+e(s(a)("hours")),1)]),t("div",H,[t("dt",I,e(s(a)("unbilled_time")),1),t("dd",J,e(d.summary.unbilled_formatted),1),t("dd",K,e(d.summary.unbilled_hours)+" "+e(s(a)("hours")),1)]),t("div",P,[t("dt",Q,e(s(a)("billed_time")),1),t("dd",R,e(d.summary.billed_formatted),1),t("dd",W,e(d.summary.billed_hours)+" "+e(s(a)("hours")),1)]),t("div",X,[t("dt",Y,e(s(a)("entries_count")),1),t("dd",Z,e(d.summary.count),1)])]),t("div",tt,[t("div",et,[t("h3",st,e(s(a)("by_client")),1)]),t("table",at,[t("thead",lt,[t("tr",null,[t("th",dt,e(s(a)("client")),1),t("th",rt,e(s(a)("total")),1),t("th",ot,e(s(a)("unbilled")),1),t("th",it,[t("span",nt,e(s(a)("actions")),1)])])]),t("tbody",ct,[d.byClient.length===0?(i(),o("tr",mt,[t("td",xt,e(s(a)("no_data_available")),1)])):F("",!0),(i(!0),o(b,null,g(d.byClient,l=>(i(),o("tr",{key:l.client_id,class:"hover:bg-slate-50 dark:hover:bg-slate-700"},[t("td",ut,[t("div",ht,e(l.client_name),1)]),t("td",_t,e(l.total_formatted),1),t("td",pt,[t("span",{class:j(["font-mono font-medium",l.unbilled_seconds>0?"text-amber-600 dark:text-amber-400":"text-slate-500 dark:text-slate-400"])},e(l.unbilled_formatted),3)]),t("td",bt,[x(s(y),{href:f.route("time-entries.index",{client_id:l.client_id}),class:"text-primary-600 hover:text-primary-900 dark:text-primary-400 dark:hover:text-primary-300"},{default:u(()=>[v(e(s(a)("view_details")),1)]),_:1},8,["href"])])]))),128))])])])]),_:1})],64))}};export{wt as default};
