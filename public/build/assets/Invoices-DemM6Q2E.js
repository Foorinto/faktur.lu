import{_ as z}from"./AppLayout-DwKgkEOe.js";import{_ as B}from"./Pagination-a4pKtKfe.js";import{c as h,a as d,b as e,h as M,i as n,d as t,l as c,x as f,e as x,t as s,o as m,F as p,j as V,g as v,p as L}from"./app-BS4XUEnm.js";import{u as T}from"./useTranslations-CU3KxVoy.js";import"./DropdownLink-DSkLAX1y.js";const j={class:"flex items-center justify-between"},q={class:"flex items-center space-x-4"},A={class:"text-xl font-semibold text-slate-900 dark:text-white"},F={class:"flex items-center space-x-3"},N={class:"mb-6 border-b border-slate-200 dark:border-slate-700"},S={class:"flex space-x-8","aria-label":"Client tabs"},$={class:"grid grid-cols-1 gap-4 sm:grid-cols-3 mb-6"},D={class:"overflow-hidden rounded-2xl bg-white shadow-lg border border-slate-200 dark:bg-slate-800 dark:border-slate-700 p-6"},H={class:"text-sm font-medium text-slate-500 dark:text-slate-400"},O={class:"mt-1 text-2xl font-semibold text-slate-900 dark:text-white"},R={class:"overflow-hidden rounded-2xl bg-white shadow-lg border border-slate-200 dark:bg-slate-800 dark:border-slate-700 p-6"},E={class:"text-sm font-medium text-slate-500 dark:text-slate-400"},I={class:"mt-1 text-2xl font-semibold text-emerald-600 dark:text-emerald-400"},U={class:"overflow-hidden rounded-2xl bg-white shadow-lg border border-slate-200 dark:bg-slate-800 dark:border-slate-700 p-6"},G={class:"text-sm font-medium text-slate-500 dark:text-slate-400"},J={class:"mt-1 text-2xl font-semibold text-amber-600 dark:text-amber-400"},K={class:"mb-6 flex items-center gap-3"},P={class:"overflow-hidden rounded-2xl bg-white shadow-xl shadow-slate-200/50 border border-slate-200 dark:bg-slate-800 dark:border-slate-700 dark:shadow-slate-900/50"},Q={key:0,class:"px-6 py-12 text-center"},W={class:"mt-4 text-sm font-medium text-slate-900 dark:text-white"},X={class:"mt-1 text-sm text-slate-500 dark:text-slate-400"},Y={class:"mt-6"},Z={key:1,class:"min-w-full divide-y divide-slate-200 dark:divide-slate-700"},tt={class:"bg-slate-50 dark:bg-slate-700/50"},et={scope:"col",class:"py-3.5 pl-6 pr-3 text-left text-sm font-semibold text-slate-900 dark:text-white"},st={scope:"col",class:"px-3 py-3.5 text-left text-sm font-semibold text-slate-900 dark:text-white"},at={scope:"col",class:"px-3 py-3.5 text-left text-sm font-semibold text-slate-900 dark:text-white"},lt={scope:"col",class:"px-3 py-3.5 text-right text-sm font-semibold text-slate-900 dark:text-white"},rt={scope:"col",class:"px-3 py-3.5 text-left text-sm font-semibold text-slate-900 dark:text-white"},it={scope:"col",class:"relative py-3.5 pl-3 pr-6"},dt={class:"sr-only"},ot={class:"divide-y divide-slate-200 dark:divide-slate-700"},nt={class:"whitespace-nowrap py-4 pl-6 pr-3"},ct={class:"whitespace-nowrap px-3 py-4 text-sm text-slate-600 dark:text-slate-400"},xt={class:"whitespace-nowrap px-3 py-4 text-sm text-slate-600 dark:text-slate-400"},ht={class:"whitespace-nowrap px-3 py-4 text-sm text-right font-medium text-slate-900 dark:text-white"},mt={class:"whitespace-nowrap px-3 py-4"},bt={class:"relative whitespace-nowrap py-4 pl-3 pr-6 text-right text-sm"},ft={key:2,class:"border-t border-slate-200 dark:border-slate-700 px-6 py-4"},wt={__name:"Invoices",props:{client:{type:Object,required:!0},invoices:{type:Object,required:!0},stats:{type:Object,required:!0},activeTab:{type:String,default:"invoices"}},setup(l){const{t:a}=T(),u=l,k=()=>{confirm(a("confirm_delete_name",{name:u.client.name}))&&L.delete(route("clients.destroy",u.client.id))},g=r=>a(r==="b2b"?"client_b2b":"client_b2c"),w=r=>r==="b2b"?"bg-sky-100 text-sky-700 dark:bg-sky-900 dark:text-sky-300":"bg-slate-100 text-slate-700 dark:bg-slate-700 dark:text-slate-300",y=r=>a(r),_=r=>{const i={draft:"bg-slate-100 text-slate-700 dark:bg-slate-700 dark:text-slate-300",sent:"bg-sky-100 text-sky-700 dark:bg-sky-900 dark:text-sky-300",paid:"bg-emerald-100 text-emerald-700 dark:bg-emerald-900 dark:text-emerald-300",overdue:"bg-pink-100 text-pink-700 dark:bg-pink-900 dark:text-pink-300",cancelled:"bg-slate-100 text-slate-500 dark:bg-slate-700 dark:text-slate-400"};return i[r]||i.draft},b=r=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}).format(r),C=r=>r?new Date(r).toLocaleDateString("fr-FR"):"-";return(r,i)=>(m(),h(p,null,[d(e(M),{title:`${l.client.name} - ${e(a)("invoices")}`},null,8,["title"]),d(z,null,{header:n(()=>[t("div",j,[t("div",q,[d(e(c),{href:r.route("clients.index"),class:"text-slate-400 hover:text-slate-500 dark:text-slate-500 dark:hover:text-slate-400"},{default:n(()=>[...i[0]||(i[0]=[t("svg",{class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M17 10a.75.75 0 01-.75.75H5.612l4.158 3.96a.75.75 0 11-1.04 1.08l-5.5-5.25a.75.75 0 010-1.08l5.5-5.25a.75.75 0 111.04 1.08L5.612 9.25H16.25A.75.75 0 0117 10z","clip-rule":"evenodd"})],-1)])]),_:1},8,["href"]),t("h1",A,s(l.client.name),1),t("span",{class:f([w(l.client.type),"inline-flex items-center rounded-xl px-3 py-1 text-xs font-medium"])},s(g(l.client.type)),3)]),t("div",F,[d(e(c),{href:r.route("clients.edit",l.client.id),class:"inline-flex items-center rounded-xl bg-white px-3 py-2 text-sm font-semibold text-slate-900 shadow-sm ring-1 ring-inset ring-slate-200 hover:bg-slate-50 dark:bg-slate-700 dark:text-white dark:ring-slate-600 dark:hover:bg-slate-600"},{default:n(()=>[i[1]||(i[1]=t("svg",{class:"-ml-0.5 mr-1.5 h-5 w-5 text-slate-400",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{d:"M2.695 14.763l-1.262 3.154a.5.5 0 00.65.65l3.155-1.262a4 4 0 001.343-.885L17.5 5.5a2.121 2.121 0 00-3-3L3.58 13.42a4 4 0 00-.885 1.343z"})],-1)),x(" "+s(e(a)("edit")),1)]),_:1},8,["href"]),l.client.invoices_count===0?(m(),h("button",{key:0,onClick:k,class:"inline-flex items-center rounded-xl bg-pink-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-pink-500"},[i[2]||(i[2]=t("svg",{class:"-ml-0.5 mr-1.5 h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M8.75 1A2.75 2.75 0 006 3.75v.443c-.795.077-1.584.176-2.365.298a.75.75 0 10.23 1.482l.149-.022.841 10.518A2.75 2.75 0 007.596 19h4.807a2.75 2.75 0 002.742-2.53l.841-10.519.149.023a.75.75 0 00.23-1.482A41.03 41.03 0 0014 4.193V3.75A2.75 2.75 0 0011.25 1h-2.5zM10 4c.84 0 1.673.025 2.5.075V3.75c0-.69-.56-1.25-1.25-1.25h-2.5c-.69 0-1.25.56-1.25 1.25v.325C8.327 4.025 9.16 4 10 4zM8.58 7.72a.75.75 0 00-1.5.06l.3 7.5a.75.75 0 101.5-.06l-.3-7.5zm4.34.06a.75.75 0 10-1.5-.06l-.3 7.5a.75.75 0 101.5.06l.3-7.5z","clip-rule":"evenodd"})],-1)),x(" "+s(e(a)("delete")),1)])):v("",!0)])])]),default:n(()=>[t("div",N,[t("nav",S,[d(e(c),{href:r.route("clients.show",l.client.id),class:f(["whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm",l.activeTab==="info"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300 dark:text-slate-400 dark:hover:text-slate-300"])},{default:n(()=>[x(s(e(a)("tab_info")),1)]),_:1},8,["href","class"]),d(e(c),{href:r.route("clients.invoices",l.client.id),class:f(["whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm",l.activeTab==="invoices"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300 dark:text-slate-400 dark:hover:text-slate-300"])},{default:n(()=>[x(s(e(a)("tab_invoices"))+" ("+s(l.client.invoices_count||0)+") ",1)]),_:1},8,["href","class"])])]),t("div",$,[t("div",D,[t("dt",H,s(e(a)("total_invoiced")),1),t("dd",O,s(b(l.stats.total_invoiced)),1)]),t("div",R,[t("dt",E,s(e(a)("total_paid")),1),t("dd",I,s(b(l.stats.total_paid)),1)]),t("div",U,[t("dt",G,s(e(a)("pending_amount")),1),t("dd",J,s(b(l.stats.pending)),1)])]),t("div",K,[d(e(c),{href:r.route("invoices.create",{client_id:l.client.id}),class:"inline-flex items-center rounded-xl bg-primary-500 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-primary-600"},{default:n(()=>[i[3]||(i[3]=t("svg",{class:"-ml-0.5 mr-1.5 h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{d:"M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"})],-1)),x(" "+s(e(a)("new_invoice")),1)]),_:1},8,["href"]),d(e(c),{href:r.route("quotes.create",{client_id:l.client.id}),class:"inline-flex items-center rounded-xl bg-white px-4 py-2 text-sm font-semibold text-slate-700 shadow-sm ring-1 ring-inset ring-slate-200 hover:bg-slate-50 dark:bg-slate-700 dark:text-white dark:ring-slate-600 dark:hover:bg-slate-600"},{default:n(()=>[i[4]||(i[4]=t("svg",{class:"-ml-0.5 mr-1.5 h-5 w-5 text-slate-400",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{d:"M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"})],-1)),x(" "+s(e(a)("new_quote")),1)]),_:1},8,["href"])]),t("div",P,[l.invoices.data.length===0?(m(),h("div",Q,[i[6]||(i[6]=t("svg",{class:"mx-auto h-12 w-12 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),t("h3",W,s(e(a)("no_invoices_client")),1),t("p",X,s(e(a)("no_invoices_client_desc")),1),t("div",Y,[d(e(c),{href:r.route("invoices.create",{client_id:l.client.id}),class:"inline-flex items-center rounded-xl bg-primary-500 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-primary-600"},{default:n(()=>[i[5]||(i[5]=t("svg",{class:"-ml-0.5 mr-1.5 h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{d:"M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"})],-1)),x(" "+s(e(a)("create_first_invoice_client")),1)]),_:1},8,["href"])])])):(m(),h("table",Z,[t("thead",tt,[t("tr",null,[t("th",et,s(e(a)("number")),1),t("th",st,s(e(a)("date")),1),t("th",at,s(e(a)("type")),1),t("th",lt,s(e(a)("amount_ttc")),1),t("th",rt,s(e(a)("status")),1),t("th",it,[t("span",dt,s(e(a)("actions")),1)])])]),t("tbody",ot,[(m(!0),h(p,null,V(l.invoices.data,o=>(m(),h("tr",{key:o.id,class:"hover:bg-slate-50 dark:hover:bg-slate-700/50"},[t("td",nt,[d(e(c),{href:r.route("invoices.show",o.id),class:"font-medium text-primary-600 hover:text-primary-500 dark:text-primary-400"},{default:n(()=>[x(s(o.number||`#${o.id}`),1)]),_:2},1032,["href"])]),t("td",ct,s(C(o.finalized_at||o.created_at)),1),t("td",xt,s(o.type==="credit_note"?e(a)("credit_note_short"):e(a)("invoice")),1),t("td",ht,s(b(o.total_ttc)),1),t("td",mt,[t("span",{class:f([_(o.status),"inline-flex items-center rounded-xl px-2.5 py-0.5 text-xs font-medium"])},s(y(o.status)),3)]),t("td",bt,[d(e(c),{href:r.route("invoices.show",o.id),class:"text-primary-600 hover:text-primary-500 dark:text-primary-400 font-medium"},{default:n(()=>[x(s(e(a)("view")),1)]),_:1},8,["href"])])]))),128))])])),l.invoices.data.length>0&&l.invoices.last_page>1?(m(),h("div",ft,[d(B,{links:l.invoices.links},null,8,["links"])])):v("",!0)])]),_:1})],64))}};export{wt as default};
