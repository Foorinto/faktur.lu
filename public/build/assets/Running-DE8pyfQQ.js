import{_ as w}from"./AppLayout-yVQwZ6GD.js";import{z as k,A as b,c as i,a as c,b as n,h as _,i as x,o as a,d as e,t as l,g as v,e as p,l as h,F as S,r as B,B as V,p as z}from"./app-DiyhQPs-.js";import{u as A}from"./useTranslations-C2jvNljI.js";import"./DropdownLink-DfW2eLhf.js";const C={class:"text-xl font-semibold text-slate-900 dark:text-white"},M={key:0,class:"max-w-2xl mx-auto"},T={class:"overflow-hidden rounded-lg bg-gradient-to-r from-primary-500 to-purple-600 shadow-lg"},j={class:"px-8 py-12 text-center"},D={class:"mt-4 text-6xl font-bold text-white font-mono"},I={class:"mt-4 text-lg text-primary-200"},N={key:0,class:"text-primary-300"},$={key:1,class:"mt-2 text-sm text-primary-200"},E={class:"mt-6 text-center"},F={key:1,class:"max-w-2xl mx-auto text-center py-12"},G={__name:"Running",props:{timer:Object},setup(r){const{t:f}=A(),m=r,o=B(0);let s=null;k(()=>{m.timer&&(o.value=m.timer.current_duration_seconds,s=setInterval(()=>{o.value++},1e3))}),b(()=>{s&&clearInterval(s)});const g=V(()=>{const d=Math.floor(o.value/3600),t=Math.floor(o.value%3600/60),u=o.value%60;return`${d}:${String(t).padStart(2,"0")}:${String(u).padStart(2,"0")}`}),y=()=>{m.timer&&z.post(route("time-entries.stop",m.timer.id),{},{onSuccess:()=>{s&&(clearInterval(s),s=null)}})};return(d,t)=>(a(),i(S,null,[c(n(_),{title:n(f)("running_timer")},null,8,["title"]),c(w,null,{header:x(()=>[e("h1",C,l(n(f)("running_timer")),1)]),default:x(()=>{var u;return[r.timer?(a(),i("div",M,[e("div",T,[e("div",j,[t[1]||(t[1]=e("p",{class:"text-sm font-medium text-primary-100"},"En cours",-1)),e("p",D,l(g.value),1),e("p",I,l((u=r.timer.client)==null?void 0:u.name),1),r.timer.project_name?(a(),i("p",N,l(r.timer.project_name),1)):v("",!0),r.timer.description?(a(),i("p",$,l(r.timer.description),1)):v("",!0),e("button",{onClick:y,class:"mt-8 inline-flex items-center rounded-full bg-white px-8 py-4 text-lg font-semibold text-primary-600 shadow-sm hover:bg-primary-50"},[...t[0]||(t[0]=[e("svg",{class:"mr-3 h-6 w-6",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M5.5 3.5A1.5 1.5 0 017 5v10a1.5 1.5 0 01-3 0V5a1.5 1.5 0 011.5-1.5zm8 0A1.5 1.5 0 0115 5v10a1.5 1.5 0 01-3 0V5a1.5 1.5 0 011.5-1.5z","clip-rule":"evenodd"})],-1),p(" Arrêter le timer ",-1)])])])]),e("div",E,[c(n(h),{href:d.route("time-entries.index"),class:"text-primary-600 hover:text-primary-500 dark:text-primary-400"},{default:x(()=>[...t[2]||(t[2]=[p(" Retour à la liste des entrées ",-1)])]),_:1},8,["href"])])])):(a(),i("div",F,[t[4]||(t[4]=e("svg",{class:"mx-auto h-16 w-16 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),t[5]||(t[5]=e("h3",{class:"mt-4 text-lg font-medium text-slate-900 dark:text-white"},"Aucun timer en cours",-1)),t[6]||(t[6]=e("p",{class:"mt-2 text-sm text-slate-500 dark:text-slate-400"}," Démarrez un nouveau timer depuis la page de suivi du temps. ",-1)),c(n(h),{href:d.route("time-entries.index"),class:"mt-6 inline-flex items-center rounded-md bg-primary-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-primary-500"},{default:x(()=>[...t[3]||(t[3]=[p(" Démarrer un timer ",-1)])]),_:1},8,["href"])]))]}),_:1})],64))}};export{G as default};
