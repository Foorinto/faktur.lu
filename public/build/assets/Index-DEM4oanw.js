import{r as b,p as k,y as $,c as r,a as i,b as c,h as N,i as d,d as e,t as o,f as y,v as P,k as _,o as a,F as p,j as w,x as T,g as C,l as x,m as U,e as B}from"./app-CJ40NWh9.js";import{_ as O}from"./AdminLayout-D_hZRGW-.js";import{_ as E}from"./PrimaryButton-BQmwBiWA.js";import{_ as V}from"./SecondaryButton-BP7GFFzu.js";import{d as R}from"./debounce-Df336oGc.js";const q={class:"flex items-center justify-between"},I={class:"flex gap-2"},G={class:"mb-6 grid gap-4 sm:grid-cols-3"},J={class:"rounded-xl bg-slate-800 p-4"},K={class:"text-2xl font-bold text-white"},Q={class:"rounded-xl bg-slate-800 p-4"},W={class:"text-2xl font-bold text-green-400"},X={class:"rounded-xl bg-slate-800 p-4"},Y={class:"text-2xl font-bold text-yellow-400"},Z={class:"mb-6 flex flex-wrap gap-4"},ee=["value"],te=["value"],se={class:"rounded-xl bg-slate-800 overflow-hidden"},le={class:"w-full text-left text-sm"},oe={class:"divide-y divide-slate-700"},ae={class:"px-6 py-4"},re={class:"font-medium text-white"},ne={class:"text-xs text-slate-400"},ie={class:"px-6 py-4 text-center"},de=["title"],ue={class:"px-6 py-4 text-slate-300"},ce={class:"px-6 py-4"},pe={class:"px-6 py-4 text-slate-300"},xe={class:"px-6 py-4 text-slate-300"},fe={class:"px-6 py-4"},he={class:"flex justify-end gap-2"},ge=["href"],me=["onClick"],ve=["onClick"],be={key:0},ye={key:0,class:"mt-4 flex justify-center gap-1"},we=["innerHTML"],je={__name:"Index",props:{posts:Object,categories:Array,filters:Object,stats:Object},setup(n){const f=n,h=b(f.filters.search),g=b(f.filters.status),m=b(f.filters.category),v=b(f.filters.locale),M={fr:"FranÃ§ais",de:"Deutsch",en:"English",lb:"LÃ«tzebuergesch"},j={fr:"ðŸ‡«ðŸ‡·",de:"ðŸ‡©ðŸ‡ª",en:"ðŸ‡¬ðŸ‡§",lb:"ðŸ‡±ðŸ‡º"},L=R(()=>{k.get(route("admin.blog.index"),{search:h.value||void 0,status:g.value||void 0,category:m.value||void 0,locale:v.value||void 0},{preserveState:!0,replace:!0})},300);$([h,g,m,v],L);const D=l=>{confirm(`Supprimer l'article "${l.title}" ?`)&&k.delete(route("admin.blog.destroy",l.slug))},H=l=>{k.post(route("admin.blog.duplicate",l.slug))},A=l=>({draft:"Brouillon",published:"PubliÃ©",archived:"ArchivÃ©"})[l]||l,F=l=>({draft:"bg-yellow-500/20 text-yellow-400",published:"bg-green-500/20 text-green-400",archived:"bg-slate-500/20 text-slate-400"})[l]||"",S=l=>l?new Date(l).toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:"numeric"}):"-";return(l,t)=>(a(),r(p,null,[i(c(N),{title:"Blog - Articles"}),i(O,null,{header:d(()=>[e("div",q,[t[7]||(t[7]=e("h1",{class:"text-xl font-semibold text-white"},"Blog",-1)),e("div",I,[i(c(x),{href:l.route("admin.blog-categories.index")},{default:d(()=>[i(V,null,{default:d(()=>[...t[4]||(t[4]=[B("CatÃ©gories",-1)])]),_:1})]),_:1},8,["href"]),i(c(x),{href:l.route("admin.blog-tags.index")},{default:d(()=>[i(V,null,{default:d(()=>[...t[5]||(t[5]=[B("Tags",-1)])]),_:1})]),_:1},8,["href"]),i(c(x),{href:l.route("admin.blog.create")},{default:d(()=>[i(E,null,{default:d(()=>[...t[6]||(t[6]=[B("Nouvel article",-1)])]),_:1})]),_:1},8,["href"])])])]),default:d(()=>[e("div",G,[e("div",J,[t[8]||(t[8]=e("p",{class:"text-sm text-slate-400"},"Total",-1)),e("p",K,o(n.stats.total),1)]),e("div",Q,[t[9]||(t[9]=e("p",{class:"text-sm text-slate-400"},"PubliÃ©s",-1)),e("p",W,o(n.stats.published),1)]),e("div",X,[t[10]||(t[10]=e("p",{class:"text-sm text-slate-400"},"Brouillons",-1)),e("p",Y,o(n.stats.draft),1)])]),e("div",Z,[y(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>h.value=s),type:"text",placeholder:"Rechercher...",class:"rounded-lg border-slate-600 bg-slate-700 px-4 py-2 text-white placeholder-slate-400 focus:border-purple-500 focus:ring-purple-500"},null,512),[[P,h.value]]),y(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>g.value=s),class:"rounded-lg border-slate-600 bg-slate-700 px-4 py-2 text-white focus:border-purple-500 focus:ring-purple-500"},[...t[11]||(t[11]=[e("option",{value:""},"Tous les statuts",-1),e("option",{value:"draft"},"Brouillon",-1),e("option",{value:"published"},"PubliÃ©",-1),e("option",{value:"archived"},"ArchivÃ©",-1)])],512),[[_,g.value]]),y(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>m.value=s),class:"rounded-lg border-slate-600 bg-slate-700 px-4 py-2 text-white focus:border-purple-500 focus:ring-purple-500"},[t[12]||(t[12]=e("option",{value:""},"Toutes les catÃ©gories",-1)),(a(!0),r(p,null,w(n.categories,s=>(a(),r("option",{key:s.id,value:s.id},o(s.name),9,ee))),128))],512),[[_,m.value]]),y(e("select",{"onUpdate:modelValue":t[3]||(t[3]=s=>v.value=s),class:"rounded-lg border-slate-600 bg-slate-700 px-4 py-2 text-white focus:border-purple-500 focus:ring-purple-500"},[t[13]||(t[13]=e("option",{value:""},"Toutes les langues",-1)),(a(),r(p,null,w(M,(s,u)=>e("option",{key:u,value:u},o(j[u])+" "+o(s),9,te)),64))],512),[[_,v.value]])]),e("div",se,[e("table",le,[t[19]||(t[19]=e("thead",{class:"border-b border-slate-700 text-slate-400"},[e("tr",null,[e("th",{class:"px-6 py-4 font-medium"},"Titre"),e("th",{class:"px-6 py-4 font-medium"},"Langue"),e("th",{class:"px-6 py-4 font-medium"},"CatÃ©gorie"),e("th",{class:"px-6 py-4 font-medium"},"Statut"),e("th",{class:"px-6 py-4 font-medium"},"Date"),e("th",{class:"px-6 py-4 font-medium"},"Vues"),e("th",{class:"px-6 py-4 font-medium text-right"},"Actions")])],-1)),e("tbody",oe,[(a(!0),r(p,null,w(n.posts.data,s=>{var u;return a(),r("tr",{key:s.id,class:"hover:bg-slate-700/50"},[e("td",ae,[e("div",re,o(s.title),1),e("div",ne,"/"+o(s.locale||"fr")+"/blog/"+o(s.slug),1)]),e("td",ie,[e("span",{title:M[s.locale]||"FranÃ§ais",class:"text-lg"},o(j[s.locale]||"ðŸ‡«ðŸ‡·"),9,de)]),e("td",ue,o(((u=s.category)==null?void 0:u.name)||"-"),1),e("td",ce,[e("span",{class:T(["rounded-full px-2 py-1 text-xs font-medium",F(s.status)])},o(A(s.status)),3)]),e("td",pe,o(S(s.published_at||s.created_at)),1),e("td",xe,o(s.views_count),1),e("td",fe,[e("div",he,[s.status==="published"?(a(),r("a",{key:0,href:l.route("blog.show",s.slug),target:"_blank",class:"text-slate-400 hover:text-white",title:"Voir"},[...t[14]||(t[14]=[e("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)])],8,ge)):C("",!0),i(c(x),{href:l.route("admin.blog.edit",s.slug),class:"text-slate-400 hover:text-white",title:"Modifier"},{default:d(()=>[...t[15]||(t[15]=[e("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])]),_:1},8,["href"]),e("button",{onClick:z=>H(s),class:"text-slate-400 hover:text-white",title:"Dupliquer"},[...t[16]||(t[16]=[e("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})],-1)])],8,me),e("button",{onClick:z=>D(s),class:"text-red-400 hover:text-red-300",title:"Supprimer"},[...t[17]||(t[17]=[e("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,ve)])])])}),128)),n.posts.data.length===0?(a(),r("tr",be,[...t[18]||(t[18]=[e("td",{colspan:"7",class:"px-6 py-12 text-center text-slate-400"}," Aucun article trouvÃ© ",-1)])])):C("",!0)])])]),n.posts.links&&n.posts.links.length>3?(a(),r("div",ye,[(a(!0),r(p,null,w(n.posts.links,s=>(a(),r(p,{key:s.label},[s.url?(a(),U(c(x),{key:0,href:s.url,class:T(["px-3 py-2 rounded text-sm",s.active?"bg-purple-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"]),innerHTML:s.label},null,8,["href","class","innerHTML"])):(a(),r("span",{key:1,class:"px-3 py-2 text-sm text-slate-500",innerHTML:s.label},null,8,we))],64))),128))])):C("",!0)]),_:1})],64))}};export{je as default};
