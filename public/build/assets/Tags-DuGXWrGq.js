import{u as $,c,a as l,b as n,h as S,i,d as e,o as p,F as x,j,t as d,g as N,w as B,e as f,l as A,p as T,r as _}from"./app-yRMgFyH_.js";import{_ as F}from"./AdminLayout-BVX-qtBd.js";import{_ as v}from"./PrimaryButton-BuxnDF5-.js";import{_ as H}from"./SecondaryButton-B9cyDSsY.js";import{_ as h}from"./InputLabel-C4Y4-imk.js";import{_ as b}from"./TextInput-B2NDj3W4.js";import{_ as k}from"./InputError-BMyXBVSM.js";import{_ as L}from"./Modal-DOYKfB2p.js";const z={class:"flex items-center justify-between"},E={class:"flex items-center gap-4"},U={class:"rounded-xl bg-slate-800 overflow-hidden"},q={class:"w-full text-left text-sm"},D={class:"divide-y divide-slate-700"},I={class:"px-6 py-4"},G={class:"inline-flex items-center rounded-full bg-purple-600/20 px-3 py-1 text-sm font-medium text-purple-400"},J={class:"px-6 py-4 text-slate-400 font-mono text-xs"},K={class:"px-6 py-4 text-slate-300"},O={class:"px-6 py-4"},P={class:"flex justify-end gap-2"},Q=["onClick"],R=["onClick"],W={key:0},X={class:"p-6"},Y={class:"text-lg font-semibold text-gray-900"},Z={class:"flex justify-end gap-3"},ie={__name:"Tags",props:{tags:Array},setup(g){const u=_(!1),r=_(null),s=$({name:"",slug:""}),y=()=>{r.value=null,s.reset(),u.value=!0},w=o=>{r.value=o,s.name=o.name,s.slug=o.slug,u.value=!0},m=()=>{u.value=!1,r.value=null,s.reset()},C=()=>{r.value?s.put(route("admin.blog-tags.update",r.value.slug),{onSuccess:m}):s.post(route("admin.blog-tags.store"),{onSuccess:m})},M=o=>{const t=o.posts_count>0?`Supprimer le tag "${o.name}" ? Il sera retiré de ${o.posts_count} article(s).`:`Supprimer le tag "${o.name}" ?`;confirm(t)&&T.delete(route("admin.blog-tags.destroy",o.slug))};return(o,t)=>(p(),c(x,null,[l(n(S),{title:"Blog - Tags"}),l(F,null,{header:i(()=>[e("div",z,[e("div",E,[l(n(A),{href:o.route("admin.blog.index"),class:"text-slate-400 hover:text-white"},{default:i(()=>[...t[2]||(t[2]=[e("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])]),_:1},8,["href"]),t[3]||(t[3]=e("h1",{class:"text-xl font-semibold text-white"},"Tags du blog",-1))]),l(v,{onClick:y},{default:i(()=>[...t[4]||(t[4]=[f(" Nouveau tag ",-1)])]),_:1})])]),default:i(()=>[e("div",U,[e("table",q,[t[8]||(t[8]=e("thead",{class:"border-b border-slate-700 text-slate-400"},[e("tr",null,[e("th",{class:"px-6 py-4 font-medium"},"Nom"),e("th",{class:"px-6 py-4 font-medium"},"Slug"),e("th",{class:"px-6 py-4 font-medium"},"Articles"),e("th",{class:"px-6 py-4 font-medium text-right"},"Actions")])],-1)),e("tbody",D,[(p(!0),c(x,null,j(g.tags,a=>(p(),c("tr",{key:a.id,class:"hover:bg-slate-700/50"},[e("td",I,[e("span",G,d(a.name),1)]),e("td",J,d(a.slug),1),e("td",K,d(a.posts_count),1),e("td",O,[e("div",P,[e("button",{onClick:V=>w(a),class:"text-slate-400 hover:text-white",title:"Modifier"},[...t[5]||(t[5]=[e("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])],8,Q),e("button",{onClick:V=>M(a),class:"text-red-400 hover:text-red-300",title:"Supprimer"},[...t[6]||(t[6]=[e("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,R)])])]))),128)),g.tags.length===0?(p(),c("tr",W,[...t[7]||(t[7]=[e("td",{colspan:"4",class:"px-6 py-12 text-center text-slate-400"}," Aucun tag. Vous pouvez en créer en éditant un article. ",-1)])])):N("",!0)])])]),l(L,{show:u.value,onClose:m},{default:i(()=>[e("div",X,[e("h2",Y,d(r.value?"Modifier le tag":"Nouveau tag"),1),e("form",{onSubmit:B(C,["prevent"]),class:"mt-6 space-y-4"},[e("div",null,[l(h,{for:"name",value:"Nom"}),l(b,{id:"name",modelValue:n(s).name,"onUpdate:modelValue":t[0]||(t[0]=a=>n(s).name=a),type:"text",class:"mt-1 block w-full",required:"",maxlength:"50"},null,8,["modelValue"]),l(k,{message:n(s).errors.name,class:"mt-2"},null,8,["message"])]),e("div",null,[l(h,{for:"slug",value:"Slug"}),l(b,{id:"slug",modelValue:n(s).slug,"onUpdate:modelValue":t[1]||(t[1]=a=>n(s).slug=a),type:"text",class:"mt-1 block w-full",placeholder:"auto-généré si vide",maxlength:"50"},null,8,["modelValue"]),l(k,{message:n(s).errors.slug,class:"mt-2"},null,8,["message"])]),e("div",Z,[l(H,{onClick:m},{default:i(()=>[...t[9]||(t[9]=[f(" Annuler ",-1)])]),_:1}),l(v,{disabled:n(s).processing},{default:i(()=>[f(d(r.value?"Mettre à jour":"Créer"),1)]),_:1},8,["disabled"])])],32)])]),_:1},8,["show"])]),_:1})],64))}};export{ie as default};
