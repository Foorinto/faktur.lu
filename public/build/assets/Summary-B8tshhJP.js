import{k as x,p as w,c as d,a as g,u as y,h as _,w as m,b as t,q as c,o as i,F as p,r as h,t as a,v as C,B as b,d as V,n as T,s as k,g as v,j as D}from"./app-B2KrZOCa.js";import{_ as N}from"./AppLayout-CMhKAyAT.js";import"./ApplicationLogo-CBvPJGvQ.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./DropdownLink-Dw9Qk6Ag.js";const B={class:"flex items-center justify-between"},F={class:"mb-6 flex flex-wrap gap-4"},j=["value"],A={class:"mb-8 grid grid-cols-1 gap-4 sm:grid-cols-4"},S={class:"overflow-hidden rounded-lg bg-white shadow dark:bg-gray-800 px-4 py-5"},M={class:"mt-1 text-2xl font-semibold text-gray-900 dark:text-white"},R={class:"text-sm text-gray-500 dark:text-gray-400"},U={class:"overflow-hidden rounded-lg bg-white shadow dark:bg-gray-800 px-4 py-5"},z={class:"mt-1 text-2xl font-semibold text-amber-600 dark:text-amber-400"},L={class:"text-sm text-gray-500 dark:text-gray-400"},O={class:"overflow-hidden rounded-lg bg-white shadow dark:bg-gray-800 px-4 py-5"},q={class:"mt-1 text-2xl font-semibold text-green-600 dark:text-green-400"},E={class:"text-sm text-gray-500 dark:text-gray-400"},P={class:"overflow-hidden rounded-lg bg-white shadow dark:bg-gray-800 px-4 py-5"},$={class:"mt-1 text-2xl font-semibold text-gray-900 dark:text-white"},G={class:"overflow-hidden rounded-lg bg-white shadow dark:bg-gray-800"},H={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},I={class:"divide-y divide-gray-200 bg-white dark:divide-gray-700 dark:bg-gray-800"},J={key:0},K={class:"whitespace-nowrap py-4 pl-4 pr-3 sm:pl-6"},Q={class:"font-medium text-gray-900 dark:text-white"},W={class:"whitespace-nowrap px-3 py-4 text-right text-sm font-mono font-medium text-gray-900 dark:text-white"},X={class:"whitespace-nowrap px-3 py-4 text-right text-sm"},Y={class:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-6"},dt={__name:"Summary",props:{summary:Object,byClient:Array,filters:Object,clients:Array},setup(s){const u=s,o=x(u.filters.client_id||""),l=x(u.filters.start_date||""),n=x(u.filters.end_date||"");return w([o,l,n],()=>{D.get(route("time-entries.summary"),{client_id:o.value||void 0,start_date:l.value||void 0,end_date:n.value||void 0},{preserveState:!0,replace:!0})}),(f,e)=>(i(),d(p,null,[g(y(_),{title:"Résumé du temps"}),g(N,null,{header:m(()=>[t("div",B,[e[4]||(e[4]=t("h1",{class:"text-xl font-semibold text-gray-900 dark:text-white"}," Résumé du temps ",-1)),g(y(k),{href:f.route("time-entries.index"),class:"inline-flex items-center rounded-md border border-gray-300 bg-white px-3 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600"},{default:m(()=>[...e[3]||(e[3]=[t("svg",{class:"-ml-0.5 mr-1.5 h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M12.79 5.23a.75.75 0 01-.02 1.06L8.832 10l3.938 3.71a.75.75 0 11-1.04 1.08l-4.5-4.25a.75.75 0 010-1.08l4.5-4.25a.75.75 0 011.06.02z","clip-rule":"evenodd"})],-1),v(" Retour ",-1)])]),_:1},8,["href"])])]),default:m(()=>[t("div",F,[c(t("select",{"onUpdate:modelValue":e[0]||(e[0]=r=>o.value=r),class:"rounded-md border-0 py-1.5 pl-3 pr-10 text-gray-900 ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-indigo-600 dark:bg-gray-800 dark:text-white dark:ring-gray-600 sm:text-sm"},[e[5]||(e[5]=t("option",{value:""},"Tous les clients",-1)),(i(!0),d(p,null,h(s.clients,r=>(i(),d("option",{key:r.id,value:r.id},a(r.name),9,j))),128))],512),[[C,o.value]]),c(t("input",{"onUpdate:modelValue":e[1]||(e[1]=r=>l.value=r),type:"date",class:"rounded-md border-0 py-1.5 px-3 text-gray-900 ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-indigo-600 dark:bg-gray-800 dark:text-white dark:ring-gray-600 sm:text-sm",placeholder:"Date début"},null,512),[[b,l.value]]),c(t("input",{"onUpdate:modelValue":e[2]||(e[2]=r=>n.value=r),type:"date",class:"rounded-md border-0 py-1.5 px-3 text-gray-900 ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-indigo-600 dark:bg-gray-800 dark:text-white dark:ring-gray-600 sm:text-sm",placeholder:"Date fin"},null,512),[[b,n.value]])]),t("div",A,[t("div",S,[e[6]||(e[6]=t("dt",{class:"truncate text-sm font-medium text-gray-500 dark:text-gray-400"},"Temps total",-1)),t("dd",M,a(s.summary.total_formatted),1),t("dd",R,a(s.summary.total_hours)+" heures ",1)]),t("div",U,[e[7]||(e[7]=t("dt",{class:"truncate text-sm font-medium text-gray-500 dark:text-gray-400"},"Temps non facturé",-1)),t("dd",z,a(s.summary.unbilled_formatted),1),t("dd",L,a(s.summary.unbilled_hours)+" heures ",1)]),t("div",O,[e[8]||(e[8]=t("dt",{class:"truncate text-sm font-medium text-gray-500 dark:text-gray-400"},"Temps facturé",-1)),t("dd",q,a(s.summary.billed_formatted),1),t("dd",E,a(s.summary.billed_hours)+" heures ",1)]),t("div",P,[e[9]||(e[9]=t("dt",{class:"truncate text-sm font-medium text-gray-500 dark:text-gray-400"},"Nombre d'entrées",-1)),t("dd",$,a(s.summary.count),1)])]),t("div",G,[e[13]||(e[13]=t("div",{class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},[t("h3",{class:"text-base font-semibold text-gray-900 dark:text-white"},"Par client")],-1)),t("table",H,[e[12]||(e[12]=t("thead",{class:"bg-gray-50 dark:bg-gray-700"},[t("tr",null,[t("th",{class:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 dark:text-white sm:pl-6"}," Client "),t("th",{class:"px-3 py-3.5 text-right text-sm font-semibold text-gray-900 dark:text-white"}," Total "),t("th",{class:"px-3 py-3.5 text-right text-sm font-semibold text-gray-900 dark:text-white"}," Non facturé "),t("th",{class:"relative py-3.5 pl-3 pr-4 sm:pr-6"},[t("span",{class:"sr-only"},"Actions")])])],-1)),t("tbody",I,[s.byClient.length===0?(i(),d("tr",J,[...e[10]||(e[10]=[t("td",{colspan:"4",class:"py-10 text-center text-sm text-gray-500 dark:text-gray-400"}," Aucune donnée disponible. ",-1)])])):V("",!0),(i(!0),d(p,null,h(s.byClient,r=>(i(),d("tr",{key:r.client_id,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[t("td",K,[t("div",Q,a(r.client_name),1)]),t("td",W,a(r.total_formatted),1),t("td",X,[t("span",{class:T(["font-mono font-medium",r.unbilled_seconds>0?"text-amber-600 dark:text-amber-400":"text-gray-500 dark:text-gray-400"])},a(r.unbilled_formatted),3)]),t("td",Y,[g(y(k),{href:f.route("time-entries.index",{client_id:r.client_id}),class:"text-indigo-600 hover:text-indigo-900 dark:text-indigo-400 dark:hover:text-indigo-300"},{default:m(()=>[...e[11]||(e[11]=[v(" Voir détails ",-1)])]),_:1},8,["href"])])]))),128))])])])]),_:1})],64))}};export{dt as default};
