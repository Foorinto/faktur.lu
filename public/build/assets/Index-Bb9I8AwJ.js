import{r as b,y as B,c as n,a as c,b as a,h as V,i as x,d as t,t as s,f as A,o as d,F as h,j as p,k as C,l as m,e as f,g as w,m as L,x as D,p as z}from"./app-WPm1OF2O.js";import{_ as N}from"./AppLayout-BTmNPb5-.js";import{u as S}from"./useTranslations-1apgeaO4.js";import"./DropdownLink-BLl5iJ8c.js";const T={class:"flex items-center justify-between"},U={class:"text-xl font-semibold text-slate-900 dark:text-white"},E={class:"flex items-center space-x-3"},H={class:"mb-6 grid grid-cols-1 gap-4 sm:grid-cols-4"},O={class:"overflow-hidden rounded-2xl bg-white shadow dark:bg-slate-800 px-4 py-5"},R={class:"truncate text-sm font-medium text-slate-500 dark:text-slate-400"},I={class:"mt-1 text-2xl font-semibold text-slate-900 dark:text-white"},$={class:"overflow-hidden rounded-2xl bg-white shadow dark:bg-slate-800 px-4 py-5"},q={class:"truncate text-sm font-medium text-slate-500 dark:text-slate-400"},G={class:"mt-1 text-2xl font-semibold text-green-600 dark:text-green-400"},J={class:"overflow-hidden rounded-2xl bg-white shadow dark:bg-slate-800 px-4 py-5"},K={class:"truncate text-sm font-medium text-slate-500 dark:text-slate-400"},P={class:"mt-1 text-2xl font-semibold text-slate-900 dark:text-white"},Q={class:"overflow-hidden rounded-2xl bg-white shadow dark:bg-slate-800 px-4 py-5"},W={class:"truncate text-sm font-medium text-slate-500 dark:text-slate-400"},X={class:"mt-1 text-2xl font-semibold text-slate-900 dark:text-white"},Y={class:"mb-6 flex flex-wrap gap-4"},Z={value:""},tt=["value"],et={value:""},st=["value"],at={value:""},lt=["value"],rt={class:"overflow-hidden rounded-2xl bg-white shadow dark:bg-slate-800"},ot={class:"min-w-full divide-y divide-slate-200 dark:divide-slate-700"},dt={class:"bg-slate-50 dark:bg-slate-700"},it={class:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-slate-900 dark:text-white sm:pl-6"},nt={class:"px-3 py-3.5 text-left text-sm font-semibold text-slate-900 dark:text-white"},ct={class:"hidden px-3 py-3.5 text-left text-sm font-semibold text-slate-900 dark:text-white md:table-cell"},xt={class:"px-3 py-3.5 text-right text-sm font-semibold text-slate-900 dark:text-white"},ht={class:"hidden px-3 py-3.5 text-right text-sm font-semibold text-slate-900 dark:text-white lg:table-cell"},mt={class:"px-3 py-3.5 text-center text-sm font-semibold text-slate-900 dark:text-white"},ut={class:"divide-y divide-slate-200 bg-white dark:divide-slate-700 dark:bg-slate-800"},pt={key:0},ft={colspan:"7",class:"py-10 text-center text-sm text-slate-500 dark:text-slate-400"},vt={class:"mt-2"},_t={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm text-slate-500 dark:text-slate-400 sm:pl-6"},gt={class:"whitespace-nowrap px-3 py-4"},yt={key:0,class:"text-xs text-slate-500 dark:text-slate-400 truncate max-w-xs"},kt={class:"hidden whitespace-nowrap px-3 py-4 text-sm text-slate-500 dark:text-slate-400 md:table-cell"},wt={class:"inline-flex items-center rounded-full bg-slate-100 px-2.5 py-0.5 text-xs font-medium text-slate-800 dark:bg-slate-700 dark:text-slate-300"},bt={class:"whitespace-nowrap px-3 py-4 text-right text-sm font-medium text-slate-900 dark:text-white"},At={class:"hidden whitespace-nowrap px-3 py-4 text-right text-sm text-slate-500 dark:text-slate-400 lg:table-cell"},Ct={class:"whitespace-nowrap px-3 py-4 text-center text-sm"},zt=["href","title"],Ft={key:1,class:"text-slate-300 dark:text-slate-600"},Mt={class:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-6"},jt={class:"flex items-center justify-end space-x-2"},Bt=["onClick"],Vt={key:0,class:"mt-6 flex items-center justify-between"},Lt={class:"text-sm text-slate-700 dark:text-slate-400"},Dt={class:"isolate inline-flex -space-x-px rounded-xl shadow-sm"},Ht={__name:"Index",props:{expenses:Object,summary:Object,filters:Object,categories:Array,years:Array,months:Array},setup(o){const{t:l}=S(),v=o,_=b(v.filters.category||""),g=b(v.filters.year||""),y=b(v.filters.month||"");B([_,g,y],()=>{z.get(route("expenses.index"),{category:_.value||void 0,year:g.value||void 0,month:y.value||void 0},{preserveState:!0,replace:!0})});const u=i=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}).format(i),F=i=>i?new Date(i).toLocaleDateString("fr-FR"):"-",M=i=>{const r=v.categories.find(e=>e.value===i);return r?r.label:i},j=i=>{confirm(l("delete_expense").replace(":name",i.provider_name))&&z.delete(route("expenses.destroy",i.id))};return(i,r)=>(d(),n(h,null,[c(a(V),{title:a(l)("expenses")},null,8,["title"]),c(N,null,{header:x(()=>[t("div",T,[t("h1",U,s(a(l)("expenses")),1),t("div",E,[c(a(m),{href:i.route("expenses.summary"),class:"inline-flex items-center rounded-xl border border-slate-300 bg-white px-3 py-2 text-sm font-medium text-slate-700 shadow-sm hover:bg-slate-50 dark:border-slate-600 dark:bg-slate-700 dark:text-slate-300 dark:hover:bg-slate-600"},{default:x(()=>[r[3]||(r[3]=t("svg",{class:"-ml-0.5 mr-1.5 h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{d:"M15.5 2A1.5 1.5 0 0014 3.5v13a1.5 1.5 0 001.5 1.5h1a1.5 1.5 0 001.5-1.5v-13A1.5 1.5 0 0016.5 2h-1zM9.5 6A1.5 1.5 0 008 7.5v9A1.5 1.5 0 009.5 18h1a1.5 1.5 0 001.5-1.5v-9A1.5 1.5 0 0010.5 6h-1zM3.5 10A1.5 1.5 0 002 11.5v5A1.5 1.5 0 003.5 18h1A1.5 1.5 0 006 16.5v-5A1.5 1.5 0 004.5 10h-1z"})],-1)),f(" "+s(a(l)("reports")),1)]),_:1},8,["href"]),c(a(m),{href:i.route("expenses.create"),class:"inline-flex items-center rounded-xl bg-primary-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-primary-500"},{default:x(()=>[r[4]||(r[4]=t("svg",{class:"-ml-0.5 mr-1.5 h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{d:"M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"})],-1)),f(" "+s(a(l)("new_expense")),1)]),_:1},8,["href"])])])]),default:x(()=>[t("div",H,[t("div",O,[t("dt",R,s(a(l)("total_ht")),1),t("dd",I,s(u(o.summary.total_ht)),1)]),t("div",$,[t("dt",q,s(a(l)("vat_deductible")),1),t("dd",G,s(u(o.summary.total_vat)),1)]),t("div",J,[t("dt",K,s(a(l)("total_ttc")),1),t("dd",P,s(u(o.summary.total_ttc)),1)]),t("div",Q,[t("dt",W,s(a(l)("count")),1),t("dd",X,s(o.summary.count),1)])]),t("div",Y,[A(t("select",{"onUpdate:modelValue":r[0]||(r[0]=e=>_.value=e),class:"rounded-xl border-0 py-1.5 pl-3 pr-10 text-slate-900 ring-1 ring-inset ring-slate-300 focus:ring-2 focus:ring-primary-600 dark:bg-slate-800 dark:text-white dark:ring-slate-600 sm:text-sm"},[t("option",Z,s(a(l)("all_categories")),1),(d(!0),n(h,null,p(o.categories,e=>(d(),n("option",{key:e.value,value:e.value},s(e.label),9,tt))),128))],512),[[C,_.value]]),A(t("select",{"onUpdate:modelValue":r[1]||(r[1]=e=>g.value=e),class:"rounded-xl border-0 py-1.5 pl-3 pr-10 text-slate-900 ring-1 ring-inset ring-slate-300 focus:ring-2 focus:ring-primary-600 dark:bg-slate-800 dark:text-white dark:ring-slate-600 sm:text-sm"},[t("option",et,s(a(l)("all_years")),1),(d(!0),n(h,null,p(o.years,e=>(d(),n("option",{key:e,value:e},s(e),9,st))),128))],512),[[C,g.value]]),A(t("select",{"onUpdate:modelValue":r[2]||(r[2]=e=>y.value=e),class:"rounded-xl border-0 py-1.5 pl-3 pr-10 text-slate-900 ring-1 ring-inset ring-slate-300 focus:ring-2 focus:ring-primary-600 dark:bg-slate-800 dark:text-white dark:ring-slate-600 sm:text-sm"},[t("option",at,s(a(l)("all_months")),1),(d(!0),n(h,null,p(o.months,e=>(d(),n("option",{key:e.value,value:e.value},s(e.label),9,lt))),128))],512),[[C,y.value]])]),t("div",rt,[t("table",ot,[t("thead",dt,[t("tr",null,[t("th",it,s(a(l)("date")),1),t("th",nt,s(a(l)("supplier")),1),t("th",ct,s(a(l)("category")),1),t("th",xt,s(a(l)("ht")),1),t("th",ht,s(a(l)("vat")),1),t("th",mt,s(a(l)("receipt")),1),r[5]||(r[5]=t("th",{class:"relative py-3.5 pl-3 pr-4 sm:pr-6"},[t("span",{class:"sr-only"},"Actions")],-1))])]),t("tbody",ut,[o.expenses.data.length===0?(d(),n("tr",pt,[t("td",ft,[r[6]||(r[6]=t("svg",{class:"mx-auto h-12 w-12 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 14l6-6m-5.5.5h.01m4.99 5h.01M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16l3.5-2 3.5 2 3.5-2 3.5 2z"})],-1)),t("p",vt,s(a(l)("no_expenses")),1),c(a(m),{href:i.route("expenses.create"),class:"mt-4 inline-flex items-center text-primary-600 hover:text-primary-500 dark:text-primary-400"},{default:x(()=>[f(s(a(l)("create_first_expense")),1)]),_:1},8,["href"])])])):w("",!0),(d(!0),n(h,null,p(o.expenses.data,e=>(d(),n("tr",{key:e.id,class:"hover:bg-slate-50 dark:hover:bg-slate-700"},[t("td",_t,s(F(e.date)),1),t("td",gt,[c(a(m),{href:i.route("expenses.edit",e.id),class:"font-medium text-slate-900 hover:text-primary-600 dark:text-white dark:hover:text-primary-400"},{default:x(()=>[f(s(e.provider_name),1)]),_:2},1032,["href"]),e.description?(d(),n("p",yt,s(e.description),1)):w("",!0)]),t("td",kt,[t("span",wt,s(M(e.category)),1)]),t("td",bt,s(u(e.amount_ht)),1),t("td",At,s(u(e.amount_vat)),1),t("td",Ct,[e.attachment_url?(d(),n("a",{key:0,href:e.attachment_url,target:"_blank",class:"text-primary-600 hover:text-primary-500 dark:text-primary-400",title:a(l)("view")+" "+a(l)("receipt").toLowerCase()},[...r[7]||(r[7]=[t("svg",{class:"h-5 w-5 inline",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M15.621 4.379a3 3 0 00-4.242 0l-7 7a3 3 0 004.241 4.243h.001l.497-.5a.75.75 0 011.064 1.057l-.498.501-.002.002a4.5 4.5 0 01-6.364-6.364l7-7a4.5 4.5 0 016.368 6.36l-3.455 3.553A2.625 2.625 0 119.52 9.52l3.45-3.451a.75.75 0 111.061 1.06l-3.45 3.451a1.125 1.125 0 001.587 1.595l3.454-3.553a3 3 0 000-4.242z","clip-rule":"evenodd"})],-1)])],8,zt)):(d(),n("span",Ft,"-"))]),t("td",Mt,[t("div",jt,[c(a(m),{href:i.route("expenses.edit",e.id),class:"text-primary-600 hover:text-primary-900 dark:text-primary-400 dark:hover:text-primary-300"},{default:x(()=>[f(s(a(l)("edit")),1)]),_:1},8,["href"]),t("button",{onClick:k=>j(e),class:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300"},s(a(l)("delete")),9,Bt)])])]))),128))])])]),o.expenses.links&&o.expenses.links.length>3?(d(),n("div",Vt,[t("div",Lt,s(a(l)("showing_x_to_y_of_z").replace(":from",o.expenses.from).replace(":to",o.expenses.to).replace(":total",o.expenses.total).replace(":items",a(l)("expenses").toLowerCase())),1),t("nav",Dt,[(d(!0),n(h,null,p(o.expenses.links,(e,k)=>(d(),n(h,{key:k},[e.url?(d(),L(a(m),{key:0,href:e.url,class:D([e.active?"z-10 bg-primary-600 text-white":"text-slate-900 ring-1 ring-inset ring-slate-300 hover:bg-slate-50 dark:text-slate-300 dark:ring-slate-600 dark:hover:bg-slate-700","relative inline-flex items-center px-4 py-2 text-sm font-semibold focus:z-20",k===0?"rounded-l-md":"",k===o.expenses.links.length-1?"rounded-r-md":""]),innerHTML:e.label,"preserve-scroll":""},null,8,["href","class","innerHTML"])):w("",!0)],64))),128))])])):w("",!0)]),_:1})],64))}};export{Ht as default};
