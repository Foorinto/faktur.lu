import{r as b,z as B,c as l,a as c,b as r,h as V,i as g,d as t,t as s,f as A,o as i,F as x,j as u,k as C,l as h,e as y,g as w,m as L,x as D,p as z}from"./app-B97I2Oxk.js";import{_ as N}from"./AppLayout-BV7HVWRJ.js";import{u as S}from"./useTranslations-C4Y-NByF.js";import"./ApplicationLogo-DwcnZXn5.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./DropdownLink-C30LA8Zs.js";const T={class:"flex items-center justify-between"},U={class:"text-xl font-semibold text-gray-900 dark:text-white"},E={class:"flex items-center space-x-3"},H={class:"mb-6 grid grid-cols-1 gap-4 sm:grid-cols-4"},O={class:"overflow-hidden rounded-lg bg-white shadow dark:bg-gray-800 px-4 py-5"},R={class:"truncate text-sm font-medium text-gray-500 dark:text-gray-400"},I={class:"mt-1 text-2xl font-semibold text-gray-900 dark:text-white"},$={class:"overflow-hidden rounded-lg bg-white shadow dark:bg-gray-800 px-4 py-5"},q={class:"truncate text-sm font-medium text-gray-500 dark:text-gray-400"},G={class:"mt-1 text-2xl font-semibold text-green-600 dark:text-green-400"},J={class:"overflow-hidden rounded-lg bg-white shadow dark:bg-gray-800 px-4 py-5"},K={class:"truncate text-sm font-medium text-gray-500 dark:text-gray-400"},P={class:"mt-1 text-2xl font-semibold text-gray-900 dark:text-white"},Q={class:"overflow-hidden rounded-lg bg-white shadow dark:bg-gray-800 px-4 py-5"},W={class:"truncate text-sm font-medium text-gray-500 dark:text-gray-400"},X={class:"mt-1 text-2xl font-semibold text-gray-900 dark:text-white"},Y={class:"mb-6 flex flex-wrap gap-4"},Z={value:""},tt=["value"],et={value:""},st=["value"],rt={value:""},at=["value"],ot={class:"overflow-hidden rounded-lg bg-white shadow dark:bg-gray-800"},dt={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},it={class:"bg-gray-50 dark:bg-gray-700"},nt={class:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 dark:text-white sm:pl-6"},lt={class:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900 dark:text-white"},ct={class:"hidden px-3 py-3.5 text-left text-sm font-semibold text-gray-900 dark:text-white md:table-cell"},gt={class:"px-3 py-3.5 text-right text-sm font-semibold text-gray-900 dark:text-white"},xt={class:"hidden px-3 py-3.5 text-right text-sm font-semibold text-gray-900 dark:text-white lg:table-cell"},ht={class:"px-3 py-3.5 text-center text-sm font-semibold text-gray-900 dark:text-white"},mt={class:"divide-y divide-gray-200 bg-white dark:divide-gray-700 dark:bg-gray-800"},ut={key:0},yt={colspan:"7",class:"py-10 text-center text-sm text-gray-500 dark:text-gray-400"},pt={class:"mt-2"},ft={class:"whitespace-nowrap py-4 pl-4 pr-3 text-sm text-gray-500 dark:text-gray-400 sm:pl-6"},vt={class:"whitespace-nowrap px-3 py-4"},_t={key:0,class:"text-xs text-gray-500 dark:text-gray-400 truncate max-w-xs"},kt={class:"hidden whitespace-nowrap px-3 py-4 text-sm text-gray-500 dark:text-gray-400 md:table-cell"},wt={class:"inline-flex items-center rounded-full bg-gray-100 px-2.5 py-0.5 text-xs font-medium text-gray-800 dark:bg-gray-700 dark:text-gray-300"},bt={class:"whitespace-nowrap px-3 py-4 text-right text-sm font-medium text-gray-900 dark:text-white"},At={class:"hidden whitespace-nowrap px-3 py-4 text-right text-sm text-gray-500 dark:text-gray-400 lg:table-cell"},Ct={class:"whitespace-nowrap px-3 py-4 text-center text-sm"},zt=["href","title"],Ft={key:1,class:"text-gray-300 dark:text-gray-600"},Mt={class:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-6"},jt={class:"flex items-center justify-end space-x-2"},Bt=["onClick"],Vt={key:0,class:"mt-6 flex items-center justify-between"},Lt={class:"text-sm text-gray-700 dark:text-gray-400"},Dt={class:"isolate inline-flex -space-x-px rounded-md shadow-sm"},Rt={__name:"Index",props:{expenses:Object,summary:Object,filters:Object,categories:Array,years:Array,months:Array},setup(d){const{t:a}=S(),p=d,f=b(p.filters.category||""),v=b(p.filters.year||""),_=b(p.filters.month||"");B([f,v,_],()=>{z.get(route("expenses.index"),{category:f.value||void 0,year:v.value||void 0,month:_.value||void 0},{preserveState:!0,replace:!0})});const m=n=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}).format(n),F=n=>n?new Date(n).toLocaleDateString("fr-FR"):"-",M=n=>{const o=p.categories.find(e=>e.value===n);return o?o.label:n},j=n=>{confirm(a("delete_expense").replace(":name",n.provider_name))&&z.delete(route("expenses.destroy",n.id))};return(n,o)=>(i(),l(x,null,[c(r(V),{title:r(a)("expenses")},null,8,["title"]),c(N,null,{header:g(()=>[t("div",T,[t("h1",U,s(r(a)("expenses")),1),t("div",E,[c(r(h),{href:n.route("expenses.summary"),class:"inline-flex items-center rounded-md border border-gray-300 bg-white px-3 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600"},{default:g(()=>[o[3]||(o[3]=t("svg",{class:"-ml-0.5 mr-1.5 h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{d:"M15.5 2A1.5 1.5 0 0014 3.5v13a1.5 1.5 0 001.5 1.5h1a1.5 1.5 0 001.5-1.5v-13A1.5 1.5 0 0016.5 2h-1zM9.5 6A1.5 1.5 0 008 7.5v9A1.5 1.5 0 009.5 18h1a1.5 1.5 0 001.5-1.5v-9A1.5 1.5 0 0010.5 6h-1zM3.5 10A1.5 1.5 0 002 11.5v5A1.5 1.5 0 003.5 18h1A1.5 1.5 0 006 16.5v-5A1.5 1.5 0 004.5 10h-1z"})],-1)),y(" "+s(r(a)("reports")),1)]),_:1},8,["href"]),c(r(h),{href:n.route("expenses.create"),class:"inline-flex items-center rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500"},{default:g(()=>[o[4]||(o[4]=t("svg",{class:"-ml-0.5 mr-1.5 h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{d:"M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"})],-1)),y(" "+s(r(a)("new_expense")),1)]),_:1},8,["href"])])])]),default:g(()=>[t("div",H,[t("div",O,[t("dt",R,s(r(a)("total_ht")),1),t("dd",I,s(m(d.summary.total_ht)),1)]),t("div",$,[t("dt",q,s(r(a)("vat_deductible")),1),t("dd",G,s(m(d.summary.total_vat)),1)]),t("div",J,[t("dt",K,s(r(a)("total_ttc")),1),t("dd",P,s(m(d.summary.total_ttc)),1)]),t("div",Q,[t("dt",W,s(r(a)("count")),1),t("dd",X,s(d.summary.count),1)])]),t("div",Y,[A(t("select",{"onUpdate:modelValue":o[0]||(o[0]=e=>f.value=e),class:"rounded-md border-0 py-1.5 pl-3 pr-10 text-gray-900 ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-indigo-600 dark:bg-gray-800 dark:text-white dark:ring-gray-600 sm:text-sm"},[t("option",Z,s(r(a)("all_categories")),1),(i(!0),l(x,null,u(d.categories,e=>(i(),l("option",{key:e.value,value:e.value},s(e.label),9,tt))),128))],512),[[C,f.value]]),A(t("select",{"onUpdate:modelValue":o[1]||(o[1]=e=>v.value=e),class:"rounded-md border-0 py-1.5 pl-3 pr-10 text-gray-900 ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-indigo-600 dark:bg-gray-800 dark:text-white dark:ring-gray-600 sm:text-sm"},[t("option",et,s(r(a)("all_years")),1),(i(!0),l(x,null,u(d.years,e=>(i(),l("option",{key:e,value:e},s(e),9,st))),128))],512),[[C,v.value]]),A(t("select",{"onUpdate:modelValue":o[2]||(o[2]=e=>_.value=e),class:"rounded-md border-0 py-1.5 pl-3 pr-10 text-gray-900 ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-indigo-600 dark:bg-gray-800 dark:text-white dark:ring-gray-600 sm:text-sm"},[t("option",rt,s(r(a)("all_months")),1),(i(!0),l(x,null,u(d.months,e=>(i(),l("option",{key:e.value,value:e.value},s(e.label),9,at))),128))],512),[[C,_.value]])]),t("div",ot,[t("table",dt,[t("thead",it,[t("tr",null,[t("th",nt,s(r(a)("date")),1),t("th",lt,s(r(a)("supplier")),1),t("th",ct,s(r(a)("category")),1),t("th",gt,s(r(a)("ht")),1),t("th",xt,s(r(a)("vat")),1),t("th",ht,s(r(a)("receipt")),1),o[5]||(o[5]=t("th",{class:"relative py-3.5 pl-3 pr-4 sm:pr-6"},[t("span",{class:"sr-only"},"Actions")],-1))])]),t("tbody",mt,[d.expenses.data.length===0?(i(),l("tr",ut,[t("td",yt,[o[6]||(o[6]=t("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 14l6-6m-5.5.5h.01m4.99 5h.01M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16l3.5-2 3.5 2 3.5-2 3.5 2z"})],-1)),t("p",pt,s(r(a)("no_expenses")),1),c(r(h),{href:n.route("expenses.create"),class:"mt-4 inline-flex items-center text-indigo-600 hover:text-indigo-500 dark:text-indigo-400"},{default:g(()=>[y(s(r(a)("create_first_expense")),1)]),_:1},8,["href"])])])):w("",!0),(i(!0),l(x,null,u(d.expenses.data,e=>(i(),l("tr",{key:e.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[t("td",ft,s(F(e.date)),1),t("td",vt,[c(r(h),{href:n.route("expenses.edit",e.id),class:"font-medium text-gray-900 hover:text-indigo-600 dark:text-white dark:hover:text-indigo-400"},{default:g(()=>[y(s(e.provider_name),1)]),_:2},1032,["href"]),e.description?(i(),l("p",_t,s(e.description),1)):w("",!0)]),t("td",kt,[t("span",wt,s(M(e.category)),1)]),t("td",bt,s(m(e.amount_ht)),1),t("td",At,s(m(e.amount_vat)),1),t("td",Ct,[e.attachment_url?(i(),l("a",{key:0,href:e.attachment_url,target:"_blank",class:"text-indigo-600 hover:text-indigo-500 dark:text-indigo-400",title:r(a)("view")+" "+r(a)("receipt").toLowerCase()},[...o[7]||(o[7]=[t("svg",{class:"h-5 w-5 inline",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M15.621 4.379a3 3 0 00-4.242 0l-7 7a3 3 0 004.241 4.243h.001l.497-.5a.75.75 0 011.064 1.057l-.498.501-.002.002a4.5 4.5 0 01-6.364-6.364l7-7a4.5 4.5 0 016.368 6.36l-3.455 3.553A2.625 2.625 0 119.52 9.52l3.45-3.451a.75.75 0 111.061 1.06l-3.45 3.451a1.125 1.125 0 001.587 1.595l3.454-3.553a3 3 0 000-4.242z","clip-rule":"evenodd"})],-1)])],8,zt)):(i(),l("span",Ft,"-"))]),t("td",Mt,[t("div",jt,[c(r(h),{href:n.route("expenses.edit",e.id),class:"text-indigo-600 hover:text-indigo-900 dark:text-indigo-400 dark:hover:text-indigo-300"},{default:g(()=>[y(s(r(a)("edit")),1)]),_:1},8,["href"]),t("button",{onClick:k=>j(e),class:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300"},s(r(a)("delete")),9,Bt)])])]))),128))])])]),d.expenses.links&&d.expenses.links.length>3?(i(),l("div",Vt,[t("div",Lt,s(r(a)("showing_x_to_y_of_z").replace(":from",d.expenses.from).replace(":to",d.expenses.to).replace(":total",d.expenses.total).replace(":items",r(a)("expenses").toLowerCase())),1),t("nav",Dt,[(i(!0),l(x,null,u(d.expenses.links,(e,k)=>(i(),l(x,{key:k},[e.url?(i(),L(r(h),{key:0,href:e.url,class:D([e.active?"z-10 bg-indigo-600 text-white":"text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 dark:text-gray-300 dark:ring-gray-600 dark:hover:bg-gray-700","relative inline-flex items-center px-4 py-2 text-sm font-semibold focus:z-20",k===0?"rounded-l-md":"",k===d.expenses.links.length-1?"rounded-r-md":""]),innerHTML:e.label,"preserve-scroll":""},null,8,["href","class","innerHTML"])):w("",!0)],64))),128))])])):w("",!0)]),_:1})],64))}};export{Rt as default};
