import{u as A,c as n,a as l,b as t,h as B,i as y,d as e,w as M,f as g,t as c,o as u,F as h,j as b,k as f,v as _,g as E,e as V,l as q}from"./app-BIJCKN2g.js";import{_ as N}from"./AppLayout-FFQD-yXd.js";import{_ as m,a as k}from"./InputError-D3UJYEOZ.js";import{P as I}from"./PrimaryButton-D-K_GS1T.js";import{u as R}from"./useTranslations-ti9iItLu.js";import"./ApplicationLogo-B-F8Zccb.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./DropdownLink-AHxS1BRo.js";const S={class:"flex items-center space-x-4"},z={class:"text-xl font-semibold text-gray-900 dark:text-white"},F={class:"overflow-hidden rounded-lg bg-white shadow dark:bg-gray-800"},T={class:"px-6 py-4"},j={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},D={value:""},H=["value"],L={class:"mt-1 text-xs text-gray-500 dark:text-gray-400"},P={class:"overflow-hidden rounded-lg bg-white shadow dark:bg-gray-800"},G={class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},J={class:"text-lg font-medium text-gray-900 dark:text-white"},K={class:"px-6 py-4"},O={class:"space-y-4"},Q={class:"space-y-3"},W={class:"flex-1"},X=["id","onUpdate:modelValue","placeholder"],Y={class:"flex-1"},Z=["id","onUpdate:modelValue","placeholder"],ee={class:"flex flex-wrap gap-4 items-end"},te={class:"w-24"},re=["id","onUpdate:modelValue"],oe={class:"w-32"},de=["id","onUpdate:modelValue"],ae=["value"],se={class:"w-32"},le=["id","onUpdate:modelValue"],ie={class:"w-32"},ne=["id","onUpdate:modelValue"],ue=["value"],ce={key:1,class:"mt-1 block w-full rounded-md border border-gray-300 bg-gray-100 px-3 py-2 text-gray-500 dark:border-gray-600 dark:bg-gray-600 dark:text-gray-400"},ge=["onClick"],me={class:"overflow-hidden rounded-lg bg-white shadow dark:bg-gray-800"},_e={class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},pe={class:"text-lg font-medium text-gray-900 dark:text-white"},ye={class:"px-6 py-4"},he=["placeholder"],ve={class:"flex justify-end space-x-3"},be={key:0},fe={key:1},Ae={__name:"Create",props:{clients:Array,vatRates:Array,units:Array,defaultClientId:[String,Number],isVatExempt:Boolean},setup(p){const{t:o}=R(),w=p,U=w.isVatExempt?0:17,a=A({client_id:w.defaultClientId||"",valid_until:"",notes:"",currency:"EUR",items:[]}),x=()=>{a.items.push({title:"",description:"",quantity:1,unit:"hour",unit_price:0,vat_rate:U})},$=v=>{a.items.splice(v,1)},C=()=>{a.post(route("quotes.store"))};return a.items.length===0&&x(),(v,s)=>(u(),n(h,null,[l(t(B),{title:t(o)("new_quote")},null,8,["title"]),l(N,null,{header:y(()=>[e("div",S,[l(t(q),{href:v.route("quotes.index"),class:"text-gray-400 hover:text-gray-500 dark:text-gray-500 dark:hover:text-gray-400"},{default:y(()=>[...s[3]||(s[3]=[e("svg",{class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M17 10a.75.75 0 01-.75.75H5.612l4.158 3.96a.75.75 0 11-1.04 1.08l-5.5-5.25a.75.75 0 010-1.08l5.5-5.25a.75.75 0 111.04 1.08L5.612 9.25H16.25A.75.75 0 0117 10z","clip-rule":"evenodd"})],-1)])]),_:1},8,["href"]),e("h1",z,c(t(o)("new_quote")),1)])]),default:y(()=>[e("form",{onSubmit:M(C,["prevent"]),class:"space-y-6"},[e("div",F,[s[4]||(s[4]=e("div",{class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},[e("h2",{class:"text-lg font-medium text-gray-900 dark:text-white"},"Client")],-1)),e("div",T,[e("div",j,[e("div",null,[l(m,{for:"client_id",value:"Client"}),g(e("select",{id:"client_id","onUpdate:modelValue":s[0]||(s[0]=r=>t(a).client_id=r),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white",required:""},[e("option",D,c(t(o)("select_client")),1),(u(!0),n(h,null,b(p.clients,r=>(u(),n("option",{key:r.id,value:r.id},c(r.name),9,H))),128))],512),[[f,t(a).client_id]]),l(k,{message:t(a).errors.client_id,class:"mt-2"},null,8,["message"])]),e("div",null,[l(m,{for:"valid_until",value:t(o)("valid_until_optional")},null,8,["value"]),g(e("input",{id:"valid_until","onUpdate:modelValue":s[1]||(s[1]=r=>t(a).valid_until=r),type:"date",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white"},null,512),[[_,t(a).valid_until]]),e("p",L,c(t(o)("default_30_days")),1),l(k,{message:t(a).errors.valid_until,class:"mt-2"},null,8,["message"])])])])]),e("div",P,[e("div",G,[e("h2",J,c(t(o)("quote_lines")),1)]),e("div",K,[e("div",O,[(u(!0),n(h,null,b(t(a).items,(r,i)=>(u(),n("div",{key:i,class:"p-4 rounded-lg border border-gray-200 dark:border-gray-700"},[e("div",Q,[e("div",W,[l(m,{for:`item-${i}-title`,value:t(o)("title")},null,8,["for","value"]),g(e("input",{id:`item-${i}-title`,"onUpdate:modelValue":d=>r.title=d,type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white",placeholder:t(o)("service_title_placeholder"),required:""},null,8,X),[[_,r.title]])]),e("div",Y,[l(m,{for:`item-${i}-description`,value:t(o)("description_optional")},null,8,["for","value"]),g(e("textarea",{id:`item-${i}-description`,"onUpdate:modelValue":d=>r.description=d,rows:"2",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white",placeholder:t(o)("detailed_description_placeholder")},null,8,Z),[[_,r.description]])]),e("div",ee,[e("div",te,[l(m,{for:`item-${i}-quantity`,value:t(o)("qty")},null,8,["for","value"]),g(e("input",{id:`item-${i}-quantity`,"onUpdate:modelValue":d=>r.quantity=d,type:"number",step:"0.01",min:"0.01",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white",required:""},null,8,re),[[_,r.quantity,void 0,{number:!0}]])]),e("div",oe,[l(m,{for:`item-${i}-unit`,value:t(o)("unit")},null,8,["for","value"]),g(e("select",{id:`item-${i}-unit`,"onUpdate:modelValue":d=>r.unit=d,class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white"},[s[5]||(s[5]=e("option",{value:""},"-",-1)),(u(!0),n(h,null,b(p.units,d=>(u(),n("option",{key:d.value,value:d.value},c(d.label),9,ae))),128))],8,de),[[f,r.unit]])]),e("div",se,[l(m,{for:`item-${i}-unit_price`,value:t(o)("price_ht")},null,8,["for","value"]),g(e("input",{id:`item-${i}-unit_price`,"onUpdate:modelValue":d=>r.unit_price=d,type:"number",step:"0.01",min:"0",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white",required:""},null,8,le),[[_,r.unit_price,void 0,{number:!0}]])]),e("div",ie,[l(m,{for:`item-${i}-vat_rate`,value:t(o)("vat")},null,8,["for","value"]),p.isVatExempt?(u(),n("div",ce,c(t(o)("vat_rates.exempt")),1)):g((u(),n("select",{key:0,id:`item-${i}-vat_rate`,"onUpdate:modelValue":d=>r.vat_rate=d,class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white",required:""},[(u(!0),n(h,null,b(p.vatRates,d=>(u(),n("option",{key:d.value,value:d.value},c(d.label),9,ue))),128))],8,ne)),[[f,r.vat_rate,void 0,{number:!0}]])]),t(a).items.length>1?(u(),n("button",{key:0,type:"button",onClick:d=>$(i),class:"p-2 text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300"},[...s[6]||(s[6]=[e("svg",{class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M8.75 1A2.75 2.75 0 006 3.75v.443c-.795.077-1.584.176-2.365.298a.75.75 0 10.23 1.482l.149-.022.841 10.518A2.75 2.75 0 007.596 19h4.807a2.75 2.75 0 002.742-2.53l.841-10.519.149.023a.75.75 0 00.23-1.482A41.03 41.03 0 0014 4.193V3.75A2.75 2.75 0 0011.25 1h-2.5z","clip-rule":"evenodd"})],-1)])],8,ge)):E("",!0)])])]))),128)),e("button",{type:"button",onClick:x,class:"inline-flex items-center rounded-md border border-gray-300 bg-white px-3 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600"},[s[7]||(s[7]=e("svg",{class:"-ml-0.5 mr-1.5 h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{d:"M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"})],-1)),V(" "+c(t(o)("add_line")),1)])])])]),e("div",me,[e("div",_e,[e("h2",pe,c(t(o)("notes_optional")),1)]),e("div",ye,[g(e("textarea",{"onUpdate:modelValue":s[2]||(s[2]=r=>t(a).notes=r),rows:"3",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white",placeholder:t(o)("special_conditions")},null,8,he),[[_,t(a).notes]]),l(k,{message:t(a).errors.notes,class:"mt-2"},null,8,["message"])])]),e("div",ve,[l(t(q),{href:v.route("quotes.index"),class:"inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600"},{default:y(()=>[V(c(t(o)("cancel")),1)]),_:1},8,["href"]),l(I,{disabled:t(a).processing},{default:y(()=>[t(a).processing?(u(),n("span",be,c(t(o)("creating")),1)):(u(),n("span",fe,c(t(o)("create_quote")),1))]),_:1},8,["disabled"])])],32)]),_:1})],64))}};export{Ae as default};
