import{u as A,c as n,a as d,b as t,h as B,i as v,d as e,w as M,f as m,t as c,o as u,F as b,j as k,k as x,v as _,g as E,e as V,l as q}from"./app-Dbau2b7Z.js";import{_ as N}from"./AppLayout-BCF2p0Ee.js";import{_ as w}from"./InputError-UjVaV8B-.js";import{_ as p}from"./InputLabel-Bybb0Rhp.js";import{_ as I}from"./PrimaryButton-b5NFIhLc.js";import{u as R}from"./useTranslations-Ed1YnZtj.js";import"./DropdownLink-BmdSuX2U.js";const S={class:"flex items-center space-x-4"},z={class:"text-xl font-semibold text-slate-900 dark:text-white"},F={class:"overflow-hidden rounded-2xl bg-white shadow dark:bg-slate-800"},T={class:"px-6 py-4"},j={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},D={value:""},H=["value"],L={class:"mt-1 text-xs text-slate-500 dark:text-slate-400"},G={class:"overflow-hidden rounded-2xl bg-white shadow dark:bg-slate-800"},J={class:"px-6 py-4 border-b border-slate-200 dark:border-slate-700"},K={class:"text-lg font-medium text-slate-900 dark:text-white"},O={class:"px-6 py-4"},P={class:"space-y-4"},Q={class:"space-y-3"},W={class:"flex-1"},X=["id","onUpdate:modelValue","placeholder"],Y={class:"flex-1"},Z=["id","onUpdate:modelValue","placeholder"],ee={class:"flex flex-wrap gap-4 items-end"},te={class:"w-24"},se=["id","onUpdate:modelValue"],le={class:"w-32"},ae=["id","onUpdate:modelValue"],re=["value"],oe={class:"w-32"},de=["id","onUpdate:modelValue"],ie={class:"w-32"},ne=["id","onUpdate:modelValue"],ue=["value"],ce={key:1,class:"mt-1 block w-full rounded-xl border border-slate-300 bg-slate-100 px-3 py-2 text-slate-500 dark:border-slate-600 dark:bg-slate-600 dark:text-slate-400"},me=["onClick"],pe={class:"overflow-hidden rounded-2xl bg-white shadow dark:bg-slate-800"},_e={class:"px-6 py-4 border-b border-slate-200 dark:border-slate-700"},he={class:"text-lg font-medium text-slate-900 dark:text-white"},ve={class:"px-6 py-4"},be=["placeholder"],fe={class:"flex justify-end space-x-3"},ke={key:0},xe={key:1},Ce={__name:"Create",props:{clients:Array,vatRates:Array,units:Array,defaultClientId:[String,Number],isVatExempt:Boolean},setup(h){const{t:l}=R(),g=h,$=g.isVatExempt?0:17,r=A({client_id:g.defaultClientId||"",valid_until:"",notes:"",currency:"EUR",items:[]}),y=()=>{r.items.push({title:"",description:"",quantity:1,unit:"hour",unit_price:0,vat_rate:$})},U=f=>{r.items.splice(f,1)},C=()=>{r.post(route("quotes.store"))};return r.items.length===0&&y(),(f,o)=>(u(),n(b,null,[d(t(B),{title:t(l)("new_quote")},null,8,["title"]),d(N,null,{header:v(()=>[e("div",S,[d(t(q),{href:f.route("quotes.index"),class:"text-slate-400 hover:text-slate-500 dark:text-slate-500 dark:hover:text-slate-400"},{default:v(()=>[...o[3]||(o[3]=[e("svg",{class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M17 10a.75.75 0 01-.75.75H5.612l4.158 3.96a.75.75 0 11-1.04 1.08l-5.5-5.25a.75.75 0 010-1.08l5.5-5.25a.75.75 0 111.04 1.08L5.612 9.25H16.25A.75.75 0 0117 10z","clip-rule":"evenodd"})],-1)])]),_:1},8,["href"]),e("h1",z,c(t(l)("new_quote")),1)])]),default:v(()=>[e("form",{onSubmit:M(C,["prevent"]),class:"space-y-6"},[e("div",F,[o[4]||(o[4]=e("div",{class:"px-6 py-4 border-b border-slate-200 dark:border-slate-700"},[e("h2",{class:"text-lg font-medium text-slate-900 dark:text-white"},"Client")],-1)),e("div",T,[e("div",j,[e("div",null,[d(p,{for:"client_id",value:"Client"}),m(e("select",{id:"client_id","onUpdate:modelValue":o[0]||(o[0]=s=>t(r).client_id=s),class:"mt-1 block w-full rounded-xl border-slate-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 dark:border-slate-600 dark:bg-slate-700 dark:text-white",required:""},[e("option",D,c(t(l)("select_client")),1),(u(!0),n(b,null,k(h.clients,s=>(u(),n("option",{key:s.id,value:s.id},c(s.name),9,H))),128))],512),[[x,t(r).client_id]]),d(w,{message:t(r).errors.client_id,class:"mt-2"},null,8,["message"])]),e("div",null,[d(p,{for:"valid_until",value:t(l)("valid_until_optional")},null,8,["value"]),m(e("input",{id:"valid_until","onUpdate:modelValue":o[1]||(o[1]=s=>t(r).valid_until=s),type:"date",class:"mt-1 block w-full rounded-xl border-slate-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 dark:border-slate-600 dark:bg-slate-700 dark:text-white"},null,512),[[_,t(r).valid_until]]),e("p",L,c(t(l)("default_30_days")),1),d(w,{message:t(r).errors.valid_until,class:"mt-2"},null,8,["message"])])])])]),e("div",G,[e("div",J,[e("h2",K,c(t(l)("quote_lines")),1)]),e("div",O,[e("div",P,[(u(!0),n(b,null,k(t(r).items,(s,i)=>(u(),n("div",{key:i,class:"p-4 rounded-2xl border border-slate-200 dark:border-slate-700"},[e("div",Q,[e("div",W,[d(p,{for:`item-${i}-title`,value:t(l)("title")},null,8,["for","value"]),m(e("input",{id:`item-${i}-title`,"onUpdate:modelValue":a=>s.title=a,type:"text",class:"mt-1 block w-full rounded-xl border-slate-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 dark:border-slate-600 dark:bg-slate-700 dark:text-white",placeholder:t(l)("service_title_placeholder"),required:""},null,8,X),[[_,s.title]])]),e("div",Y,[d(p,{for:`item-${i}-description`,value:t(l)("description_optional")},null,8,["for","value"]),m(e("textarea",{id:`item-${i}-description`,"onUpdate:modelValue":a=>s.description=a,rows:"2",class:"mt-1 block w-full rounded-xl border-slate-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 dark:border-slate-600 dark:bg-slate-700 dark:text-white",placeholder:t(l)("detailed_description_placeholder")},null,8,Z),[[_,s.description]])]),e("div",ee,[e("div",te,[d(p,{for:`item-${i}-quantity`,value:t(l)("qty")},null,8,["for","value"]),m(e("input",{id:`item-${i}-quantity`,"onUpdate:modelValue":a=>s.quantity=a,type:"number",step:"0.01",min:"0.01",class:"mt-1 block w-full rounded-xl border-slate-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 dark:border-slate-600 dark:bg-slate-700 dark:text-white",required:""},null,8,se),[[_,s.quantity,void 0,{number:!0}]])]),e("div",le,[d(p,{for:`item-${i}-unit`,value:t(l)("unit")},null,8,["for","value"]),m(e("select",{id:`item-${i}-unit`,"onUpdate:modelValue":a=>s.unit=a,class:"mt-1 block w-full rounded-xl border-slate-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 dark:border-slate-600 dark:bg-slate-700 dark:text-white"},[o[5]||(o[5]=e("option",{value:""},"-",-1)),(u(!0),n(b,null,k(h.units,a=>(u(),n("option",{key:a.value,value:a.value},c(a.label),9,re))),128))],8,ae),[[x,s.unit]])]),e("div",oe,[d(p,{for:`item-${i}-unit_price`,value:t(l)("price_ht")},null,8,["for","value"]),m(e("input",{id:`item-${i}-unit_price`,"onUpdate:modelValue":a=>s.unit_price=a,type:"number",step:"0.01",min:"0",class:"mt-1 block w-full rounded-xl border-slate-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 dark:border-slate-600 dark:bg-slate-700 dark:text-white",required:""},null,8,de),[[_,s.unit_price,void 0,{number:!0}]])]),e("div",ie,[d(p,{for:`item-${i}-vat_rate`,value:t(l)("vat")},null,8,["for","value"]),h.isVatExempt?(u(),n("div",ce,c(t(l)("vat_rates.exempt")),1)):m((u(),n("select",{key:0,id:`item-${i}-vat_rate`,"onUpdate:modelValue":a=>s.vat_rate=a,class:"mt-1 block w-full rounded-xl border-slate-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 dark:border-slate-600 dark:bg-slate-700 dark:text-white",required:""},[(u(!0),n(b,null,k(h.vatRates,a=>(u(),n("option",{key:a.value,value:a.value},c(a.label),9,ue))),128))],8,ne)),[[x,s.vat_rate,void 0,{number:!0}]])]),t(r).items.length>1?(u(),n("button",{key:0,type:"button",onClick:a=>U(i),class:"p-2 text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300"},[...o[6]||(o[6]=[e("svg",{class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M8.75 1A2.75 2.75 0 006 3.75v.443c-.795.077-1.584.176-2.365.298a.75.75 0 10.23 1.482l.149-.022.841 10.518A2.75 2.75 0 007.596 19h4.807a2.75 2.75 0 002.742-2.53l.841-10.519.149.023a.75.75 0 00.23-1.482A41.03 41.03 0 0014 4.193V3.75A2.75 2.75 0 0011.25 1h-2.5z","clip-rule":"evenodd"})],-1)])],8,me)):E("",!0)])])]))),128)),e("button",{type:"button",onClick:y,class:"inline-flex items-center rounded-xl border border-slate-300 bg-white px-3 py-2 text-sm font-medium text-slate-700 shadow-sm hover:bg-slate-50 dark:border-slate-600 dark:bg-slate-700 dark:text-slate-300 dark:hover:bg-slate-600"},[o[7]||(o[7]=e("svg",{class:"-ml-0.5 mr-1.5 h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{d:"M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"})],-1)),V(" "+c(t(l)("add_line")),1)])])])]),e("div",pe,[e("div",_e,[e("h2",he,c(t(l)("notes_optional")),1)]),e("div",ve,[m(e("textarea",{"onUpdate:modelValue":o[2]||(o[2]=s=>t(r).notes=s),rows:"3",class:"block w-full rounded-xl border-slate-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 dark:border-slate-600 dark:bg-slate-700 dark:text-white",placeholder:t(l)("special_conditions")},null,8,be),[[_,t(r).notes]]),d(w,{message:t(r).errors.notes,class:"mt-2"},null,8,["message"])])]),e("div",fe,[d(t(q),{href:f.route("quotes.index"),class:"inline-flex items-center rounded-xl border border-slate-300 bg-white px-4 py-2 text-sm font-medium text-slate-700 shadow-sm hover:bg-slate-50 dark:border-slate-600 dark:bg-slate-700 dark:text-slate-300 dark:hover:bg-slate-600"},{default:v(()=>[V(c(t(l)("cancel")),1)]),_:1},8,["href"]),d(I,{disabled:t(r).processing},{default:v(()=>[t(r).processing?(u(),n("span",ke,c(t(l)("creating")),1)):(u(),n("span",xe,c(t(l)("create_quote")),1))]),_:1},8,["disabled"])])],32)]),_:1})],64))}};export{Ce as default};
