import{r as x,c as a,a as m,b as h,h as V,i as y,d as e,l as A,e as v,t as o,o as s,g as b,f as k,F as n,j as i,k as f}from"./app-BIJCKN2g.js";import{_ as D}from"./AccountantLayout-DYx0vRNS.js";const T={class:"mb-6"},M={class:"mt-2 text-2xl font-bold text-gray-900 dark:text-white"},j={key:0,class:"text-sm text-gray-500 dark:text-gray-400"},F={class:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 mb-6"},E={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},B=["value"],C=["value"],P={class:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 mb-6"},S={class:"space-y-4"},L={class:"flex items-center space-x-4"},N={class:"flex-shrink-0 w-10 h-10 rounded-full bg-indigo-100 dark:bg-indigo-900 flex items-center justify-center"},U={class:"w-5 h-5 text-indigo-600 dark:text-indigo-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},J=["d"],q={class:"text-sm font-medium text-gray-900 dark:text-white"},z={class:"text-sm text-gray-500 dark:text-gray-400"},H=["href"],I={key:0,class:"bg-white dark:bg-gray-800 rounded-lg shadow p-6"},O={class:"divide-y divide-gray-200 dark:divide-gray-700"},R={class:"text-sm font-medium text-gray-900 dark:text-white"},Y={class:"text-xs text-gray-500 dark:text-gray-400"},$={class:"text-xs text-gray-400"},Z={__name:"Client",props:{client:Object,years:Array,recentDownloads:Array},setup(l){const g=l,u=x(g.years[0]||new Date().getFullYear()),d=x(null),p=[{value:null,label:"Année complète"},{value:1,label:"T1 (Jan-Mar)"},{value:2,label:"T2 (Avr-Jun)"},{value:3,label:"T3 (Jul-Sep)"},{value:4,label:"T4 (Oct-Déc)"}],w=[{type:"faia",title:"Export FAIA (XML)",description:"Format standard pour l'AED Luxembourg",icon:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"},{type:"excel",title:"Export Excel",description:"Factures et avoirs en format tableur",icon:"M3 10h18M3 14h18m-9-4v8m-7 0h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"},{type:"pdf_archive",title:"Archive PDF",description:"Toutes les factures en PDF (ZIP)",icon:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"}],_=c=>{const r=new URLSearchParams({year:u.value});return d.value&&r.append("quarter",d.value),route("accountant.export",{user:g.client.id,type:c})+"?"+r.toString()};return(c,r)=>(s(),a(n,null,[m(h(V),{title:l.client.name},null,8,["title"]),m(D,null,{default:y(()=>[e("div",T,[m(h(A),{href:c.route("accountant.dashboard"),class:"inline-flex items-center text-sm text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"},{default:y(()=>[...r[2]||(r[2]=[e("svg",{class:"mr-1 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),v(" Retour ",-1)])]),_:1},8,["href"]),e("h1",M,o(l.client.name),1),l.client.vat_number?(s(),a("p",j," TVA: "+o(l.client.vat_number),1)):b("",!0)]),e("div",F,[r[5]||(r[5]=e("h2",{class:"text-lg font-medium text-gray-900 dark:text-white mb-4"},"Période",-1)),e("div",E,[e("div",null,[r[3]||(r[3]=e("label",{for:"year",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Année ",-1)),k(e("select",{id:"year","onUpdate:modelValue":r[0]||(r[0]=t=>u.value=t),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white"},[(s(!0),a(n,null,i(l.years,t=>(s(),a("option",{key:t,value:t},o(t),9,B))),128))],512),[[f,u.value]])]),e("div",null,[r[4]||(r[4]=e("label",{for:"quarter",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Trimestre ",-1)),k(e("select",{id:"quarter","onUpdate:modelValue":r[1]||(r[1]=t=>d.value=t),class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white"},[(s(),a(n,null,i(p,t=>e("option",{key:t.value,value:t.value},o(t.label),9,C)),64))],512),[[f,d.value]])])])]),e("div",P,[r[7]||(r[7]=e("h2",{class:"text-lg font-medium text-gray-900 dark:text-white mb-4"},"Exports disponibles",-1)),e("div",S,[(s(),a(n,null,i(w,t=>e("div",{key:t.type,class:"flex items-center justify-between p-4 border border-gray-200 dark:border-gray-700 rounded-lg"},[e("div",L,[e("div",N,[(s(),a("svg",U,[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:t.icon},null,8,J)]))]),e("div",null,[e("h3",q,o(t.title),1),e("p",z,o(t.description),1)])]),e("a",{href:_(t.type),class:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-500"},[...r[6]||(r[6]=[e("svg",{class:"mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})],-1),v(" Télécharger ",-1)])],8,H)])),64))])]),l.recentDownloads.length>0?(s(),a("div",I,[r[8]||(r[8]=e("h2",{class:"text-lg font-medium text-gray-900 dark:text-white mb-4"},"Téléchargements récents",-1)),e("ul",O,[(s(!0),a(n,null,i(l.recentDownloads,t=>(s(),a("li",{key:t.id,class:"py-3 flex items-center justify-between"},[e("div",null,[e("p",R,o(t.export_type_label),1),e("p",Y,"Période : "+o(t.period),1)]),e("span",$,o(t.downloaded_at),1)]))),128))])])):b("",!0)]),_:1})],64))}};export{Z as default};
